{"version":3,"sources":["webpack://mdclub-theme-material/./node_modules/mdclub-sdk-js/es/UserApi.js","webpack://mdclub-theme-material/./node_modules/mdclub-sdk-js/es/defaults.js","webpack://mdclub-theme-material/./node_modules/mdclub-sdk-js/es/util/requestAlias.js","webpack://mdclub-theme-material/./node_modules/mdclub-sdk-js/es/util/requestHandler.js","webpack://mdclub-theme-material/./node_modules/mdclub-sdk-js/es/util/requestMethod.js","webpack://mdclub-theme-material/./node_modules/mdui.jq/es/$.js","webpack://mdclub-theme-material/./node_modules/mdui.jq/es/JQ.js","webpack://mdclub-theme-material/./node_modules/mdui.jq/es/functions/each.js","webpack://mdclub-theme-material/./node_modules/mdui.jq/es/functions/param.js","webpack://mdclub-theme-material/./node_modules/mdui.jq/es/utils.js","webpack://mdclub-theme-material/./node_modules/mdui/es/mdui.js","webpack://mdclub-theme-material/./src/components/user-popover/actions.js","webpack://mdclub-theme-material/./src/utils/errorHandler.js","webpack://mdclub-theme-material/./src/utils/func.js","webpack://mdclub-theme-material/./node_modules/highlight.js/lib/core.js","webpack://mdclub-theme-material/./node_modules/highlight.js/lib/languages/css.js","webpack://mdclub-theme-material/./node_modules/highlight.js/lib/languages/javascript.js","webpack://mdclub-theme-material/./node_modules/highlight.js/lib/languages/json.js","webpack://mdclub-theme-material/./node_modules/highlight.js/lib/languages/php.js","webpack://mdclub-theme-material/./node_modules/highlight.js/lib/languages/xml.js","webpack://mdclub-theme-material/./node_modules/mdn-polyfills/CustomEvent.js","webpack://mdclub-theme-material/./node_modules/mdn-polyfills/MouseEvent.js","webpack://mdclub-theme-material/./node_modules/sha-1/dist/sha1.umd.js","webpack://mdclub-theme-material/./node_modules/time-stamp/index.js","webpack://mdclub-theme-material/webpack/bootstrap","webpack://mdclub-theme-material/webpack/runtime/compat get default export","webpack://mdclub-theme-material/webpack/runtime/define property getters","webpack://mdclub-theme-material/webpack/runtime/hasOwnProperty shorthand","webpack://mdclub-theme-material/./node_modules/promise-polyfill/src/finally.js","webpack://mdclub-theme-material/./node_modules/promise-polyfill/src/allSettled.js","webpack://mdclub-theme-material/./node_modules/promise-polyfill/src/index.js","webpack://mdclub-theme-material/./node_modules/promise-polyfill/src/polyfill.js","webpack://mdclub-theme-material/./node_modules/hyperapp/src/index.js","webpack://mdclub-theme-material/./node_modules/hyperapp-router/src/Link.js","webpack://mdclub-theme-material/./node_modules/hyperapp-router/src/parseRoute.js","webpack://mdclub-theme-material/./node_modules/hyperapp-router/src/Route.js","webpack://mdclub-theme-material/./node_modules/hyperapp-router/src/location.js","webpack://mdclub-theme-material/./node_modules/mdui/es/utils/dom.js","webpack://mdclub-theme-material/./src/utils/pubsub.js","webpack://mdclub-theme-material/./node_modules/mdui.jq/es/methods/each.js","webpack://mdclub-theme-material/./node_modules/mdui.jq/es/methods/addClass.js","webpack://mdclub-theme-material/./node_modules/mdui.jq/es/methods/insertBefore.js","webpack://mdclub-theme-material/./node_modules/mdui.jq/es/functions/map.js","webpack://mdclub-theme-material/./node_modules/mdui.jq/es/methods/map.js","webpack://mdclub-theme-material/./node_modules/mdui.jq/es/methods/is.js","webpack://mdclub-theme-material/./node_modules/mdui.jq/es/methods/remove.js","webpack://mdclub-theme-material/./node_modules/mdui.jq/es/methods/appendTo.js","webpack://mdclub-theme-material/./node_modules/mdui.jq/es/functions/unique.js","webpack://mdclub-theme-material/./node_modules/mdui.jq/es/methods/children.js","webpack://mdclub-theme-material/./node_modules/mdui.jq/es/methods/clone.js","webpack://mdclub-theme-material/./node_modules/mdui.jq/es/functions/utils/data.js","webpack://mdclub-theme-material/./node_modules/mdui.jq/es/functions/data.js","webpack://mdclub-theme-material/./node_modules/mdui.jq/es/methods/data.js","webpack://mdclub-theme-material/./node_modules/mdui.jq/es/functions/merge.js","webpack://mdclub-theme-material/./node_modules/mdui.jq/es/methods/utils/dir.js","webpack://mdclub-theme-material/./node_modules/mdui.jq/es/methods/get.js","webpack://mdclub-theme-material/./node_modules/mdui.jq/es/methods/find.js","webpack://mdclub-theme-material/./node_modules/mdui.jq/es/methods/next.js","webpack://mdclub-theme-material/./node_modules/mdui.jq/es/functions/contains.js","webpack://mdclub-theme-material/./node_modules/mdui.jq/es/methods/utils/event.js","webpack://mdclub-theme-material/./node_modules/mdui.jq/es/methods/off.js","webpack://mdclub-theme-material/./node_modules/mdui.jq/es/methods/on.js","webpack://mdclub-theme-material/./node_modules/mdui.jq/es/methods/parent.js","webpack://mdclub-theme-material/./node_modules/mdui.jq/es/methods/val.js","webpack://mdclub-theme-material/./node_modules/mdui.jq/es/methods/serializeArray.js","webpack://mdclub-theme-material/./node_modules/mdui.jq/es/methods/show.js","webpack://mdclub-theme-material/./node_modules/mdui.jq/es/methods/width.js","webpack://mdclub-theme-material/./node_modules/mdui.jq/es/methods/trigger.js","webpack://mdclub-theme-material/./node_modules/mdui.jq/es/methods/attr.js","webpack://mdclub-theme-material/./node_modules/mdui/es/jq_extends/methods/reflow.js","webpack://mdclub-theme-material/./node_modules/mdui/es/jq_extends/methods/transitionEnd.js","webpack://mdclub-theme-material/./node_modules/mdui/es/utils/mutation.js","webpack://mdclub-theme-material/./node_modules/mdui/es/jq_extends/methods/mutation.js","webpack://mdclub-theme-material/./node_modules/mdui/es/jq_extends/static/showOverlay.js","webpack://mdclub-theme-material/./node_modules/mdui/es/jq_extends/static/hideOverlay.js","webpack://mdclub-theme-material/./node_modules/mdui/es/jq_extends/static/lockScreen.js","webpack://mdclub-theme-material/./node_modules/mdui/es/jq_extends/static/unlockScreen.js","webpack://mdclub-theme-material/./node_modules/mdui/es/global/mutation.js","webpack://mdclub-theme-material/./node_modules/mdui.jq/es/functions/extend.js","webpack://mdclub-theme-material/./node_modules/mdui/es/utils/componentEvent.js","webpack://mdclub-theme-material/./node_modules/mdui.jq/es/methods/slice.js","webpack://mdclub-theme-material/./node_modules/mdui.jq/es/methods/eq.js","webpack://mdclub-theme-material/./node_modules/mdui.jq/es/methods/first.js","webpack://mdclub-theme-material/./node_modules/mdui.jq/es/methods/hasClass.js","webpack://mdclub-theme-material/./node_modules/mdui/es/components/headroom/index.js","webpack://mdclub-theme-material/./node_modules/mdui.jq/es/methods/position.js","webpack://mdclub-theme-material/./node_modules/mdui.jq/es/methods/offset.js","webpack://mdclub-theme-material/./node_modules/mdui.jq/es/methods/offsetParent.js","webpack://mdclub-theme-material/./node_modules/mdui/es/jq_extends/methods/transform.js","webpack://mdclub-theme-material/./node_modules/mdui/es/utils/touchHandler.js","webpack://mdclub-theme-material/./node_modules/mdui/es/components/ripple/index.js","webpack://mdclub-theme-material/./node_modules/mdui/es/components/textfield/index.js","webpack://mdclub-theme-material/./node_modules/mdui/es/components/appbar/index.js","webpack://mdclub-theme-material/./node_modules/mdui.jq/es/methods/hide.js","webpack://mdclub-theme-material/./node_modules/mdui.jq/es/methods/index.js","webpack://mdclub-theme-material/./node_modules/mdui/es/jq_extends/static/throttle.js","webpack://mdclub-theme-material/./node_modules/mdui/es/components/tab/index.js","webpack://mdclub-theme-material/./node_modules/mdui/es/utils/parseOptions.js","webpack://mdclub-theme-material/./node_modules/mdui/es/components/tab/customAttr.js","webpack://mdclub-theme-material/./node_modules/mdui.jq/es/methods/one.js","webpack://mdclub-theme-material/./node_modules/mdui/es/components/drawer/index.js","webpack://mdclub-theme-material/./node_modules/mdui/es/components/drawer/customAttr.js","webpack://mdclub-theme-material/./node_modules/mdui.jq/es/methods/before.js","webpack://mdclub-theme-material/./node_modules/mdui.jq/es/methods/append.js","webpack://mdclub-theme-material/./node_modules/mdui/es/utils/queue.js","webpack://mdclub-theme-material/./node_modules/mdui/es/components/dialog/class.js","webpack://mdclub-theme-material/./node_modules/mdui/es/components/dialog/index.js","webpack://mdclub-theme-material/./node_modules/mdui/es/components/dialog/dialog.js","webpack://mdclub-theme-material/./node_modules/mdui/es/components/dialog/confirm.js","webpack://mdclub-theme-material/./node_modules/mdui/es/jq_extends/methods/transformOrigin.js","webpack://mdclub-theme-material/./node_modules/mdui/es/jq_extends/static/guid.js","webpack://mdclub-theme-material/./node_modules/mdui/es/components/tooltip/index.js","webpack://mdclub-theme-material/./node_modules/mdui/es/components/tooltip/customAttr.js","webpack://mdclub-theme-material/./node_modules/mdui/es/components/snackbar/index.js","webpack://mdclub-theme-material/./node_modules/mdui/es/components/progress/spinner.js","webpack://mdclub-theme-material/./node_modules/mdui/es/components/menu/index.js","webpack://mdclub-theme-material/./node_modules/mdui/es/components/menu/customAttr.js","webpack://mdclub-theme-material/./node_modules/mdui.jq/es/functions/utils/ajax.js","webpack://mdclub-theme-material/./node_modules/mdui.jq/es/functions/ajax.js","webpack://mdclub-theme-material/./node_modules/mdclub-sdk-js/es/adapter/abstract/Browser.js","webpack://mdclub-theme-material/./node_modules/mdclub-sdk-js/es/adapter/BrowserAdapter.js","webpack://mdclub-theme-material/./src/utils/cookie.js","webpack://mdclub-theme-material/./src/initializer/index.js","webpack://mdclub-theme-material/./node_modules/mdclub-sdk-js/es/TopicApi.js","webpack://mdclub-theme-material/./node_modules/mdclub-sdk-js/es/QuestionApi.js","webpack://mdclub-theme-material/./node_modules/mdclub-sdk-js/es/ArticleApi.js","webpack://mdclub-theme-material/./src/utils/currentUser.js","webpack://mdclub-theme-material/./src/components/follow/actions.js","webpack://mdclub-theme-material/./src/utils/actionsAbstract.js","webpack://mdclub-theme-material/./src/pages/index/actions.js","webpack://mdclub-theme-material/./node_modules/mdclub-sdk-js/es/errors.js","webpack://mdclub-theme-material/./src/components/editor/actions.js","webpack://mdclub-theme-material/./src/components/editor/components/topic-selector/actions.js","webpack://mdclub-theme-material/./src/components/editor/state.js","webpack://mdclub-theme-material/./src/components/editor/components/topic-selector/state.js","webpack://mdclub-theme-material/./src/pages/questions/state.js","webpack://mdclub-theme-material/./src/utils/path.js","webpack://mdclub-theme-material/./src/utils/time.js","webpack://mdclub-theme-material/./src/pages/questions/actions.js","webpack://mdclub-theme-material/./node_modules/html-escaper/esm/index.js","webpack://mdclub-theme-material/./node_modules/mdclub-sdk-js/es/AnswerApi.js","webpack://mdclub-theme-material/./node_modules/mdclub-sdk-js/es/CommentApi.js","webpack://mdclub-theme-material/./src/components/vote/actions.js","webpack://mdclub-theme-material/./src/pages/question/stateDefault.js","webpack://mdclub-theme-material/./src/pages/question/actions.js","webpack://mdclub-theme-material/./src/pages/articles/state.js","webpack://mdclub-theme-material/./src/pages/articles/actions.js","webpack://mdclub-theme-material/./src/pages/article/stateDefault.js","webpack://mdclub-theme-material/./src/pages/article/actions.js","webpack://mdclub-theme-material/./src/pages/topics/state.js","webpack://mdclub-theme-material/./src/pages/topics/actions.js","webpack://mdclub-theme-material/./src/pages/topic/stateDefault.js","webpack://mdclub-theme-material/./src/pages/topic/actions.js","webpack://mdclub-theme-material/./src/pages/users/state.js","webpack://mdclub-theme-material/./src/pages/users/actions.js","webpack://mdclub-theme-material/./src/pages/user/stateDefault.js","webpack://mdclub-theme-material/./src/pages/user/actions.js","webpack://mdclub-theme-material/./node_modules/mdclub-sdk-js/es/NotificationApi.js","webpack://mdclub-theme-material/./src/pages/notifications/actions.js","webpack://mdclub-theme-material/./node_modules/mdclub-sdk-js/es/CaptchaApi.js","webpack://mdclub-theme-material/./src/components/login/actions.js","webpack://mdclub-theme-material/./node_modules/mdclub-sdk-js/es/TokenApi.js","webpack://mdclub-theme-material/./src/components/register/actions.js","webpack://mdclub-theme-material/./src/components/reset/actions.js","webpack://mdclub-theme-material/./src/components/users-dialog/stateDefault.js","webpack://mdclub-theme-material/./src/components/users-dialog/actions.js","webpack://mdclub-theme-material/./src/components/comments/stateDefault.js","webpack://mdclub-theme-material/./src/components/comments/actions.js","webpack://mdclub-theme-material/./src/components/report-dialog/stateDefault.js","webpack://mdclub-theme-material/./src/components/report-dialog/actions.js","webpack://mdclub-theme-material/./node_modules/mdclub-sdk-js/es/ReportApi.js","webpack://mdclub-theme-material/./src/components/share-dialog/actions.js","webpack://mdclub-theme-material/./src/initializer/actions.js","webpack://mdclub-theme-material/./src/components/theme/actions.js","webpack://mdclub-theme-material/./src/pages/index/state.js","webpack://mdclub-theme-material/./src/pages/index/components/topics/state.js","webpack://mdclub-theme-material/./src/pages/question/questionState.js","webpack://mdclub-theme-material/./src/pages/question/answerState.js","webpack://mdclub-theme-material/./src/pages/article/state.js","webpack://mdclub-theme-material/./src/pages/topic/state.js","webpack://mdclub-theme-material/./src/pages/user/state.js","webpack://mdclub-theme-material/./src/components/theme/state.js","webpack://mdclub-theme-material/./src/components/users-dialog/state.js","webpack://mdclub-theme-material/./src/components/comments/state.js","webpack://mdclub-theme-material/./src/components/report-dialog/state.js","webpack://mdclub-theme-material/./src/initializer/state.js","webpack://mdclub-theme-material/./src/pages/notifications/state.js","webpack://mdclub-theme-material/./src/components/login/state.js","webpack://mdclub-theme-material/./src/components/register/state.js","webpack://mdclub-theme-material/./src/components/reset/state.js","webpack://mdclub-theme-material/./src/components/share-dialog/state.js","webpack://mdclub-theme-material/./node_modules/classcat/src/index.js","webpack://mdclub-theme-material/./src/pages/index/components/header/view.jsx","webpack://mdclub-theme-material/./src/utils/scroll.js","webpack://mdclub-theme-material/./src/components/loading/view.jsx","webpack://mdclub-theme-material/./src/vendor/highlight/index.js","webpack://mdclub-theme-material/./src/utils/html.js","webpack://mdclub-theme-material/./src/components/icon-button/view.jsx","webpack://mdclub-theme-material/./src/components/follow/view.jsx","webpack://mdclub-theme-material/./src/components/topic-item/view.jsx","webpack://mdclub-theme-material/./src/pages/index/components/topics/view.jsx","webpack://mdclub-theme-material/./src/components/options-button/view.jsx","webpack://mdclub-theme-material/./src/components/user-popover/view.jsx","webpack://mdclub-theme-material/./src/pages/index/components/items/view.jsx","webpack://mdclub-theme-material/./src/pages/index/view.jsx","webpack://mdclub-theme-material/./src/components/loaded/view.jsx","webpack://mdclub-theme-material/./src/components/empty/view.jsx","webpack://mdclub-theme-material/./node_modules/mdui.jq/es/methods/last.js","webpack://mdclub-theme-material/./node_modules/mdui.editor/es/abstracts/commonAbstract.js","webpack://mdclub-theme-material/./node_modules/mdui.editor/es/command/index.js","webpack://mdclub-theme-material/./node_modules/mdui.editor/es/abstracts/menuAbstract.js","webpack://mdclub-theme-material/./node_modules/mdui.editor/es/abstracts/menuNativeAbstract.js","webpack://mdclub-theme-material/./node_modules/mdui.editor/es/menus/bold.js","webpack://mdclub-theme-material/./node_modules/mdui.editor/es/menus/clear_drafts.js","webpack://mdclub-theme-material/./node_modules/mdui.editor/es/utils/str.js","webpack://mdclub-theme-material/./node_modules/mdui.jq/es/methods/add.js","webpack://mdclub-theme-material/./node_modules/mdui.editor/es/menus/code.js","webpack://mdclub-theme-material/./node_modules/mdui.editor/es/menus/head.js","webpack://mdclub-theme-material/./node_modules/mdui/es/components/dialog/alert.js","webpack://mdclub-theme-material/./node_modules/mdui.editor/es/menus/image.js","webpack://mdclub-theme-material/./node_modules/mdui.editor/es/utils/format.js","webpack://mdclub-theme-material/./node_modules/mdui.editor/es/menus/italic.js","webpack://mdclub-theme-material/./node_modules/mdui/es/components/dialog/prompt.js","webpack://mdclub-theme-material/./node_modules/mdui.editor/es/menus/link.js","webpack://mdclub-theme-material/./node_modules/mdui.jq/es/methods/prev.js","webpack://mdclub-theme-material/./node_modules/mdui.editor/es/abstracts/menuListAbstract.js","webpack://mdclub-theme-material/./node_modules/mdui.editor/es/menus/ol.js","webpack://mdclub-theme-material/./node_modules/mdui.editor/es/menus/ul.js","webpack://mdclub-theme-material/./node_modules/mdui.editor/es/menus/index.js","webpack://mdclub-theme-material/./node_modules/mdui.editor/es/selection/index.js","webpack://mdclub-theme-material/./node_modules/mdui.editor/es/utils/ua.js","webpack://mdclub-theme-material/./node_modules/mdui.editor/es/utils/paste.js","webpack://mdclub-theme-material/./node_modules/mdui.editor/es/index.js","webpack://mdclub-theme-material/./node_modules/mdui.editor/es/utils/purifier.js","webpack://mdclub-theme-material/./src/components/editor/components/topic-chip/view.jsx","webpack://mdclub-theme-material/./src/components/editor/view.jsx","webpack://mdclub-theme-material/./src/components/list-item/view.jsx","webpack://mdclub-theme-material/./src/components/editor/components/topic-selector/view.jsx","webpack://mdclub-theme-material/./src/pages/questions/view.jsx","webpack://mdclub-theme-material/./src/components/user-line/view.jsx","webpack://mdclub-theme-material/./src/components/topics-bar/view.jsx","webpack://mdclub-theme-material/./src/components/list-header/view.jsx","webpack://mdclub-theme-material/./src/components/nav/view.jsx","webpack://mdclub-theme-material/./src/components/vote/view.jsx","webpack://mdclub-theme-material/./src/pages/question/components/comment-button/view.jsx","webpack://mdclub-theme-material/./src/pages/question/components/answer-item/view.jsx","webpack://mdclub-theme-material/./src/pages/question/view.jsx","webpack://mdclub-theme-material/./src/pages/articles/view.jsx","webpack://mdclub-theme-material/./src/components/comments/components/new-comment/view.jsx","webpack://mdclub-theme-material/./src/components/comments/components/reply/view.jsx","webpack://mdclub-theme-material/./src/components/comments/components/item/view.jsx","webpack://mdclub-theme-material/./src/components/comments/view.jsx","webpack://mdclub-theme-material/./src/components/comments/page.jsx","webpack://mdclub-theme-material/./src/pages/article/view.jsx","webpack://mdclub-theme-material/./src/pages/topics/view.jsx","webpack://mdclub-theme-material/./src/pages/topic/components/topic/view.jsx","webpack://mdclub-theme-material/./src/components/tab/view.jsx","webpack://mdclub-theme-material/./src/pages/topic/components/contexts/view.jsx","webpack://mdclub-theme-material/./src/pages/topic/view.jsx","webpack://mdclub-theme-material/./src/pages/users/components/item/view.jsx","webpack://mdclub-theme-material/./src/pages/users/view.jsx","webpack://mdclub-theme-material/./src/utils/loading.js","webpack://mdclub-theme-material/./src/components/avatar-upload/view.jsx","webpack://mdclub-theme-material/./src/components/cover-upload/view.jsx","webpack://mdclub-theme-material/./src/pages/user/components/user/view.jsx","webpack://mdclub-theme-material/./src/pages/user/components/edit-info/view.jsx","webpack://mdclub-theme-material/./src/pages/user/components/contexts/view.jsx","webpack://mdclub-theme-material/./src/pages/user/view.jsx","webpack://mdclub-theme-material/./src/pages/notifications/components/item/view.jsx","webpack://mdclub-theme-material/./src/pages/notifications/view.jsx","webpack://mdclub-theme-material/./src/components/appbar/components/toolbar/components/avatar/view.jsx","webpack://mdclub-theme-material/./src/components/appbar/components/toolbar/components/notification/view.jsx","webpack://mdclub-theme-material/./src/components/appbar/components/toolbar/components/search-bar/view.jsx","webpack://mdclub-theme-material/./src/components/appbar/components/toolbar/components/search-icon/view.jsx","webpack://mdclub-theme-material/./src/components/appbar/components/toolbar/view.jsx","webpack://mdclub-theme-material/./src/components/appbar/components/tabbar/view.jsx","webpack://mdclub-theme-material/./src/components/appbar/view.jsx","webpack://mdclub-theme-material/./src/components/drawer/view.jsx","webpack://mdclub-theme-material/./src/common/account/components/close.jsx","webpack://mdclub-theme-material/./src/common/account/components/title.jsx","webpack://mdclub-theme-material/./src/common/account/components/field-name.jsx","webpack://mdclub-theme-material/./src/common/account/components/field-password.jsx","webpack://mdclub-theme-material/./src/common/account/components/field-captcha.jsx","webpack://mdclub-theme-material/./src/common/account/components/submit.jsx","webpack://mdclub-theme-material/./src/components/login/components/actions.jsx","webpack://mdclub-theme-material/./src/components/login/view.jsx","webpack://mdclub-theme-material/./src/common/account/components/avatar.jsx","webpack://mdclub-theme-material/./src/common/account/components/field-email.jsx","webpack://mdclub-theme-material/./src/common/account/components/field-email-code.jsx","webpack://mdclub-theme-material/./src/components/register/components/send-actions.jsx","webpack://mdclub-theme-material/./src/components/register/components/register-actions.jsx","webpack://mdclub-theme-material/./src/components/register/view.jsx","webpack://mdclub-theme-material/./src/components/reset/components/verify-actions.jsx","webpack://mdclub-theme-material/./src/components/reset/components/reset-actions.jsx","webpack://mdclub-theme-material/./src/components/reset/view.jsx","webpack://mdclub-theme-material/./src/components/users-dialog/view.jsx","webpack://mdclub-theme-material/./src/components/report-dialog/view.jsx","webpack://mdclub-theme-material/./src/components/share-dialog/view.jsx","webpack://mdclub-theme-material/./src/svg/weibo.svg","webpack://mdclub-theme-material/./src/svg/facebook.svg","webpack://mdclub-theme-material/./src/svg/twitter.svg","webpack://mdclub-theme-material/./src/components/comments/dialog.jsx","webpack://mdclub-theme-material/./src/initializer/view.jsx","webpack://mdclub-theme-material/./src/initializer/listener.js","webpack://mdclub-theme-material/./src/main.js"],"names":["addFollow","params","deleteFollow","deleteMyAvatar","deleteMyCover","get","getAnswers","getArticles","getFollowees","getFollowers","getList","getMyFollowees","getMyFollowers","getMyFollowingArticles","getMyFollowingQuestions","getMyFollowingTopics","getQuestions","register","password","sendPasswordResetEmail","sendRegisterEmail","updateMine","updatePassword","uploadMyAvatar","const","formData","FormData","append","avatar","uploadMyCover","cover","apiPath","methodOverride","timeout","Error","requestHandle","method","url","data","headers","XHttpMethodOverride","accepts","document","map","createElement","toDataURL","indexOf","push","join","getRequest","postRequest","patchRequest","putRequest","deleteRequest","buildURL","path","queryParamNames","replace","match","pathParamName","substr","length","String","queryObj","forEach","name","queryString","buildRequestBody","requestBodyNames","requestBody","GET","POST","PUT","PATCH","DELETE","$","selector","JQ","test","readyState","body","call","addEventListener","html","trim","let","toCreate","li","tr","td","th","tbody","option","childTag","parentTag","querySelectorAll","element","getElementById","slice","fn","get$","arr","this","i","item","target","callback","keys","Object","obj","Array","isArray","args","destructure","key","value","keyTmp","v","encodeURIComponent","isFunction","isString","isNumber","isBoolean","isUndefined","isNull","isWindow","Window","isDocument","Document","isElement","Element","isNode","Node","isIE","window","documentMode","isArrayLike","isObjectLike","toElement","documentElement","toCamelCase","string","_","letter","toUpperCase","toKebabCase","replacer","toLowerCase","getComputedStyleValue","getComputedStyle","getPropertyValue","isBorderBox","getExtraWidth","direction","extra","position","reduce","prev","index","prop","parseFloat","getStyle","valueNumber","getBoundingClientRect","getChildNodesArray","parent","tempParent","innerHTML","childNodes","returnFalse","cssNumber","setTimeout","addClass","onUserPopoverCreate","state","actions","timeoutId","$element","$trigger","find","$popover","menu","on","open","loadUserForUserPopover","dataName","primaryKey","primaryValue","clearTimeout","close","eval","user_id","relationships","user","include","then","response","setState","catch","apiCatch","message","code","findIndex","items","result","deepFreeze","freeze","objIsFunction","getOwnPropertyNames","hasOwnProperty","isFrozen","Response","mode","undefined","ignore","escapeHTML","inherit","original","objects","tag","node","nodeName","utils","__proto__","nodeStream","_nodeStream","offset","child","firstChild","nextSibling","nodeType","nodeValue","event","mergeStreams","highlighted","processed","nodeStack","selectStream","attributes","attr","render","stream","substring","reverse","splice","pop","emitsWrappingTags","kind","HTMLRenderer","parseTree","options","buffer","classPrefix","walk","text","className","sublanguage","span","TokenTree","rootNode","children","stack","top","add","closeNode","JSON","stringify","builder","constructor","_walk","addText","openNode","every","el","_collapse","TokenTreeEmitter","super","emitter","root","source","re","IDENT_RE","UNDERSCORE_IDENT_RE","NUMBER_RE","C_NUMBER_RE","BINARY_NUMBER_RE","BACKSLASH_ESCAPE","begin","relevance","APOS_STRING_MODE","end","illegal","contains","QUOTE_STRING_MODE","PHRASAL_WORDS_MODE","COMMENT","modeOptions","C_LINE_COMMENT_MODE","C_BLOCK_COMMENT_MODE","HASH_COMMENT_MODE","NUMBER_MODE","C_NUMBER_MODE","BINARY_NUMBER_MODE","CSS_NUMBER_MODE","REGEXP_MODE","TITLE_MODE","UNDERSCORE_TITLE_MODE","METHOD_GUARD","MODES","RE_STARTERS_RE","SHEBANG","opts","beginShebang","binary","x","concat","m","resp","ignoreMatch","END_SAME_AS_BEGIN","assign","_beginMatch","COMMON_KEYWORDS","split","compileLanguage","language","langRe","global","RegExp","case_insensitive","MultiRegex","matchIndexes","regexes","matchAt","toString","exec","countMatchGroups","terminators","matcherRe","regexps","separator","backreferenceRe","numCaptures","ret","Number","lastIndex","s","matchData","ResumableMultiRegex","rules","multiRegexes","count","regexIndex","matcher","addRule","compile","type","getMatcher","resumingScanAtSamePosition","m2","considerAll","skipIfhasPrecedingOrTrailingDot","before","input","after","includes","compileMode","cmode","compiled","__beforeBegin","keywords","beginKeywords","keywordPattern","$pattern","rawKeywords","caseInsensitive","compiledKeywords","splitAndCompile","keywordList","keyword","pair","scoreForKeyword","compileKeywords","lexemes","keywordPatternRe","beginRe","endSameAsBegin","endsWithParent","endRe","terminator_end","illegalRe","c","variants","cached_variants","variant","dependencyOnParent","starts","expandOrCloneMode","mm","term","rule","buildModeRegex","providedScore","commonKeyword","Component","props","detectedLanguage","unknownLanguage","computed","autoDetect","hljs","getLanguage","console","warn","highlightAuto","highlight","ignoreIllegals","detectectLanguage","autodetect","Boolean","class","domProps","VuePlugin","Vue","component","escape$1","inherit$1","nodeStream$1","mergeStreams$1","NO_MATCH","Symbol","ArrayProto","languages","create","aliases","plugins","SAFE_MODE","fixMarkupRe","LANGUAGE_NOT_FOUND","PLAINTEXT_LANGUAGE","disableAutodetect","noHighlightRe","languageDetectRe","tabReplace","useBR","__emitter","shouldNotHighlight","languageName","continuation","context","fire","_highlight","codeToHighlight","keywordData","matchText","prototype","processBuffer","subLanguage","modeBuffer","continuations","addSublanguage","processSubLanguage","buf","keywordRelevance","addKeyword","processKeywords","startNewMode","endOfMode","matchPlusRemainder","matched","lexeme","startsWith","endsParent","doIgnore","resumeScanAtSamePosition","doBeginMatch","newMode","beforeCallbacks","cb","skip","excludeBegin","returnBegin","doEndMatch","endMode","origin","returnEnd","excludeEnd","lastMatch","processLexeme","textBeforeMatch","err","badRule","iterations","error","md","list","current","unshift","processContinuations","processedCount","closeAllNodes","finalize","toHTML","illegalBy","msg","sofar","errorRaised","languageSubset","justTextHighlightResult","secondBest","filter","autoDetection","second_best","fixMarkup","highlightBlock","block","classes","parentNode","_class","blockLanguage","textContent","originalStream","resultNode","prevClassName","currentLang","resultLang","buildClassName","relavance","initHighlighting","called","blocks","registerAliases","aliasList","alias","lang","plugin","arg","configure","userOptions","initHighlightingOnLoad","registerLanguage","languageDefinition","rawDefinition","bind","listLanguages","requireLanguage","addPlugin","vuePlugin","debugMode","safeMode","versionString","HLJS","module","exports","RULE","KEYWORDS","LITERALS","BUILT_INS","lookahead","optional","IDENT_RE$1","FRAGMENT","XML_TAG","isTrulyOpeningTag","afterMatchIndex","nextChar","hasClosingTag","KEYWORDS$1","literal","built_in","nonDecimalLiterals","prefixLetters","validChars","noLeadingZeroDecimalDigits","decimalDigits","exponentPart","NUMBER","SUBST","HTML_TEMPLATE","CSS_TEMPLATE","TEMPLATE_STRING","SUBST_INTERNALS","SUBST_AND_COMMENTS","PARAMS_CONTAINS","PARAMS","label","ALLOWED_COMMENTS","TYPES","VALUE_CONTAINER","OBJECT","ARRAY","VARIABLE","PREPROCESSOR","SINGLE_QUOTED","DOUBLE_QUOTED","HEREDOC","STRING","XML_ENTITIES","XML_META_KEYWORDS","XML_META_PAR_KEYWORDS","APOS_META_STRING_MODE","QUOTE_META_STRING_MODE","TAG_INTERNALS","t","e","bubbles","cancelable","detail","n","createEvent","initCustomEvent","CustomEvent","Event","MouseEvent","initMouseEvent","screenX","screenY","clientX","clientY","ctrlKey","altKey","shiftKey","metaKey","button","relatedTarget","fillString","str","blockAmount","charCodeAt","binToHex","binArray","hexString","charAt","core","blockArray","olda","oldb","oldc","oldd","olde","j","w","a","b","d","cyclicShift","modPlus","ft","kt","y","low","num","k","sha1","factory","dateRegex","timespan","YYYY","YY","MM","DD","HH","ss","ms","timestamp","date","utc","Date","rest","chars","__webpack_module_cache__","__webpack_require__","moduleId","__webpack_modules__","getter","__esModule","definition","o","defineProperty","enumerable","resolve","reason","reject","TypeError","remaining","res","val","status","setTimeoutFunc","noop","_state","_handled","_value","_deferreds","doResolve","handle","self","deferred","_immediateFn","onFulfilled","onRejected","promise","newValue","finale","thisArg","apply","arguments","_unhandledRejectionFn","len","Handler","done","ex","prom","all","allSettled","race","setImmediate","globalNS","h","app","view","container","skipRender","rootElement","oldNode","recycleElement","lifecycle","isRecycling","globalState","clone","wiredActions","wireStateToActions","action","getPartialState","scheduleRender","setPartialState","resolveNode","patch","out","getKey","eventListener","currentTarget","events","updateAttribute","oldValue","isSvg","style","cssText","setProperty","removeEventListener","setAttribute","removeAttribute","createTextNode","createElementNS","oncreate","appendChild","removeChildren","ondestroy","removeElement","removeChild","onremove","newElement","insertBefore","oldAttributes","onupdate","updateElement","oldKeyed","newKeyed","oldElements","oldChildren","oldKey","newKey","keyedNode","Link","to","location","onclick","href","defaultPrevented","preventDefault","pathname","history","pushState","createMatch","isExact","trimTrailingSlash","decodeParam","decodeURIComponent","Route","exact","paths","urls","parseRoute","Promise","previous","go","set","subscribe","handleLocationChange","unwrap","next","title","dispatchEvent","$document","$window","$body","emit","trigger","each","getAttribute","cls","classList","nameIndex","$target","newItem","cloneNode","existingItem","elements","isMatched","matches","msMatchesSelector","$compareWith","compare","is","extraChilds","childLength","$result","remove","__","childNode","setObjectToElement","object","rbrace","dataAttr","parse","getData","resultData","attrs","first","second","dir","$elements","foundElements","handlers","mduiElementId","getElementId","parts","ns","sort","matcherFor","types","func","handlersInElement","removeEvent","handler","id","proxy","getHandlers","off","one","_this","origCallback","elementId","useCapture","proxyFn","callFn","elem","_detail","stopPropagation","_ns","_data","propName","0","1","2","firstElement","outerHTML","computedValue","selected","checked","HTMLFormElement","disabled","elementDisplay","handleExtraWidth","funcIndex","includeMargin","multiply","getExtraWidthValue","clientProp","scrollProp","offsetProp","innerProp","doc","Math","max","elementIndex","dimension","css","suffix","display","extraParameters","eventObject","eventParams","funcName","margin","isSet","clientLeft","that","fireCallback","entries","mutation","apiInit","selectors","$this","zIndex","$overlay","appendTo","reflow","level","force","removeClass","transitionEnd","newBodyWidth","width","mdui","object1","objectN","componentEvent","eventName","componentName","instance","parameters","inst","fullEventName","jQuery","eq","DEFAULT_OPTIONS","tolerance","initialClass","pinnedClass","unpinnedClass","Headroom","isEnable","lastScrollY","rafId","down","up","enable","floatStyle","getClientRects","left","rect","win","ownerDocument","defaultView","pageYOffset","pageXOffset","currentTop","currentLeft","currentOffset","currentTopString","currentLeftString","currentPosition","onScroll","requestAnimationFrame","currentScrollY","toleranceExceeded","abs","unpin","pin","triggerEvent","hasClass","disable","cancelAnimationFrame","getState","offsetParent","parentOffset","$offsetParent","transform","webkitTransform","startEvent","moveEvent","endEvent","cancelEvent","unlockEvent","touches","isAllow","show","$ripple","touchPosition","TouchEvent","touchStartX","pageX","touchStartY","pageY","height","innerHeight","innerWidth","center","diameter","pow","translate","prependTo","hide","wave","$wave","removeTimer","removeRipple","showRipple","parents","hidden","timer","hideRipple","defaultData","reInit","domLoadedEvent","inputEvent","$input","eventType","inputType","$textfield","validity","valid","inputValue","hasExtraSpace","outerHeight","scrollHeight","maxLength","focus","delay","loop","Tab","activeIndex","$tabs","$indicator","hash","tab","setActive","setIndicatorPosition","bindTabEvent","parseOptions","Function","isDisabled","$tab","clickEvent","targetId","$activeTab","activeTabOffset","scrollLeft","handleUpdate","$oldTabs","$newTabs","oldTabsElement","newTabsElement","customAttr","overlay","swipe","Drawer","isDesktop","swipeSupport","openNavEventHandler","swipeStartX","swiping","maybeSwiping","setPosition","translateX","transformCSS","cleanPosition","transition","webkitTransition","getMaxTranslateX","getTranslateX","currentX","min","onBodyTouchEnd","touchX","changedTouches","translateRatio","swipingState","touchmove","onBodyTouchMove","touchend","touchcancel","touchY","dXAbs","dYAbs","onBodyTouchStart","isOpen","toggle","isPlainText","$drawer","targets","contents","content","queue","dequeue","shift","modal","closeOnEsc","closeOnCancel","closeOnConfirm","destroyOnClosed","currentInst","queueName","isLockScreen","Dialog","cancel","confirm","readjust","$title","$content","$actions","elementHeight","hashchangeEvent","overlayClick","destroy","doOpen","historyBack","back","keyCode","DEFAULT_BUTTON","bold","onClick","buttons","stackedButtons","cssClass","onOpen","onOpened","onClose","onClosed","_a","_b","buttonsHTML","HTML","confirmText","cancelText","onConfirm","onCancel","transformOrigin","webkitTransformOrigin","GUID","s4","floor","random","guid","Tooltip","marginLeft","marginTop","targetProps","targetMargin","tooltipWidth","offsetWidth","tooltipHeight","offsetHeight","targetOffset","oldOptions","buttonText","buttonColor","closeOnButtonClick","closeOnOutsideClick","onButtonClick","Snackbar","buttonColorStyle","buttonColorClass","layerHTML","fillHTML","spinner","$spinner","layer","translateY","snackbarHeight","clientHeight","align","gutter","fixed","covered","subMenuTrigger","subMenuDelay","Menu","anchorSelector","menuSelector","$anchor","isCascade","isCovered","$item","bindSubMenuEvent","menuLeft","menuTop","transformOriginX","transformOriginY","windowHeight","windowWidth","isFixed","menuWidth","menuHeight","anchorRect","anchorTop","anchorLeft","anchorHeight","anchorWidth","anchorBottom","anchorRight","anchorOffsetTop","offsetTop","anchorOffsetLeft","offsetLeft","menuHeightTemp","menuWidthTemp","readjustSubmenu","$submenu","submenuTop","submenuLeft","submenuWidth","submenuHeight","itemRect","itemWidth","itemHeight","itemLeft","itemTop","openSubMenu","closeSubMenu","$subSubmenu","toggleSubMenu","$tmpSubmenu","timeoutOpen","$relatedTarget","tmpClose","tmpOpen","submenu","globalOptions","ajaxEvents","isQueryStringData","appendQuery","query","textStatus","isCanceled","mergedOptions","defaults","processData","async","cache","username","xhrFields","statusCode","dataType","contentType","mergeOptions","result1","result2","ArrayBuffer","Blob","param","now","xhrTimeout","xhr","XMLHttpRequest","setRequestHeader","$2","host","onload","responseData","isHttpStatusSuccess","responseText","responseType","onerror","statusText","onabort","abort","send","getStorage","localStorage","getItem","setStorage","setItem","removeStorage","removeItem","request","isFormData","token","beforeSend","success","complete","setCookie","expire","setTime","getTime","cookie","toUTCString","G_API","log","createComment","currentUser","getAddFollowFunction","getDeleteFollowFunction","toggleFollow","field","field_id","following_field","changeFollow","is_following","followParams","finally","follower_count","toggleOne","users","tabs","tabIndex","topics","users_dialog","index_topics","dataField","fieldId","toggleInList","toggleUserInRelationships","comments","isFollowing","toggleUserInRelationshipsInList","setTitle","metaTitle","G_OPTIONS","site_name","site_description","scroll_position","onCreate","topics_pagination","loadData","localParamName","fieldPrefix","order","per_page","questions_recent_pagination","questions_popular_pagination","articles_recent_pagination","articles_popular_pagination","scrollTo","onDestroy","pagination","loadFromServer","afterItemClick","topic_id","question_id","article_id","G_ARTICLE","G_QUESTION","G_TOPIC","COMMON_FIELD_VERIFY_FAILED","COMMON_EMAIL_VERIFY_EXPIRED","COMMON_IMAGE_UPLOAD_FAILED","editorOpen","editor_selected_topics","editor_selected_topic_ids","topic","editor_open","editorUpdateOverlay","editorClose","editorMinimize","editor_minimize","editorMaximize","editor_maximize","topicSelectorOpen","dialog","topics_data","topics_loading","loaded","infiniteLoad","page","pages","scrollTop","topicSelectorChange","isChecked","topics_max_selectable","selectedTopicsResult","dataIndex","selectedIndex","resultIndex","dataIndexToSelectedIndex","saveToLocalStorage","topicSelectorRemoveOne","current_tab","publishing","last_visit_id","auto_save_key","tabName","fullPath","G_ROOT","matchString","matchRegular","regular","isPathIndex","isPathArticle","isPathArticles","isPathQuestion","isPathQuestions","isPathTopic","isPathTopics","isPathUser","isPathUsers","isPathNotifications","timeFormat","ts","format","timeFriendly","timeDifference","parseInt","setHours","getFullYear","currentTimestamp","TABNAME_RECENT","TABNAME_POPULAR","TABNAME_FOLLOWING","is_updated","last_update_time","replaceState","afterChangeTab","TAB_NAME","toRecent","toPopular","toFolliwing","followUpdate","questionUpdate","question","questions","hasUpdate","_question","publish","topic_ids","content_rendered","values","errors","es","unes","cape","un","commentIndex","voting","article","isDelete","answer_data","answer","answer_id","comments_data","comment","comment_id","replies_data","reply","getIdValue","voteUp","voteDown","loading","following_question","answer_order","answer_pagination","answer_loading","answer_publishing","route","stateDefault","loadQuestion","loadAnswer","loadAnswers","infiniteLoadAnswers","G_ANSWER","changeOrder","answers","G_QUESTION_ANSWERS","publishAnswer","answer_count","articleUpdate","articles","_article","following_article","loadArticle","TABNAME_RECOMMENDED","getTopics","loadStart","loadEnd","toRecommended","toFollowing","following_topic","last_visit_article_id","last_visit_question_id","TABNAME_QUESTIONS","getContexts","loadTopic","TABNAME_FOLLOWEES","TABNAME_FOLLOWERS","getUsers","G_INTERVIEWEE","interviewee","following_interviewee","edit_info_submitting","profile_fold","last_visit_answer_id","interviewee_id","editInfoDialog","TABNAME_ARTICLES","loadInterviewee","deleteAvatar","deleteCover","updateUserInfo","$dialog","serializeArray","updateData","transformData","is_loaded_detail","is_show_detail","content_detail","updateCount","deleteOne","notification","notification_id","toggleDetail","content_deleted","$name","$password","$captchaCode","generate","login","onInput","toRegister","toReset","refreshCaptcha","captcha_token","captcha_image","captcha_code","submitting","loginData","device","navigator","userAgent","reload","name_msg","password_msg","captcha_code_msg","$email","$emailCode","$username","email_valid","toLogin","countdown","resend_countdown","show_resend_countdown","sendCountdown","sendEmail","sending","email","email_code","email_code_msg","email_msg","prevStep","nextStep","verifying","registerData","username_msg","$passwordRepeat","submit","password_repeat","password_repeat_msg","service","followees","followers","topic_followers","question_followers","article_followers","paramField","onItemClick","commentable_type","commentable_id","open_dialog","$commentsWrapper","show_replies","show_new_reply","reply_submitting","replies_loading","replies_pagination","isInDialog","infiniteLoadInPage","doCloseDialog","openDialog","infiniteLoadInDialog","closeDialog","onSubmit","funcMaps","$newComment","$textarea","isLoadedAll","total","G_COMMENTS","toggleState","fieldName","loadReplies","isLoaded","submitReply","createReply","reply_count","$customReason","customReason","reportable_type","reportable_id","getReportableId","onChange","shareToWeibo","shareToFacebook","shareToTwitter","notifications","theme","setLayout","layout","reset","usersDialog","reportDialog","shareDialog","questions_recent_data","questions_recent_loading","questions_popular_data","questions_popular_loading","articles_recent_data","articles_recent_loading","articles_popular_data","articles_popular_loading","topics_show_arrow_left","topics_show_arrow_right","cc","tmp","easeInOutQuad","richText","summaryText","plainText","active","tooltip","badge","toFixed","badgeFormat","iconActive","icon","backgroundImage","jumpEnd","scrollWidth","jumpTo","isLeft","timeStart","timeElapsed","duration","start","timeCurrent","scrollHorizontal","Arrow","copy","textArea","range","createRange","selectNodeContents","selection","getSelection","removeAllRanges","addRange","setSelectionRange","select","selectText","execCommand","copyToClipboard","Item","extraOptions","StatItem","headline","article_count","site_static_url","description","action_text","CommonAbstract","editor","$toolbar","$container","command","do","getRange","restore","customName","menus","changeStatus","saveRange","change","insertHTML","queryCommandSupported","insertNode","deleteContents","pasteHTML","replaceRoot","$oldElem","getRootElem","$newElem","insertAfter","createRangeByElem","insertAfterRoot","appendHTML","insertElem","$elem","MenuAbstract","$button","isActive","isSelectionEmpty","isEmpty","createEmptyRange","getElementName","getCommandName","collapseRange","queryCommandState","Bold","ClearDrafts","setHTML","autoSave","autoSaveKey","onClearDrafts","Code","init","startOffset","getContainerElem","$rootElem","textArray","line","collapsed","isInRange","$linesRemove","$line","startContainer","endContainer","last","Head","Image","inputID","suffixs","setAccepts","setInput","bindInputChange","bindKeyboardEvent","$curElem","$nextElem","imageUploadSuffix","png","jpg","gif","files","upload","file","imageUploadMaxSize","size","memory","pos","loadingDialog","uploadTime","uploadTimeInterval","imageUploadName","imageUploadUrl","setInterval","$progress","onprogress","clearInterval","imageUploadResponseTransform","rootHTML","imgHTML","Italic","maxlength","defaultValue","confirmOnEnter","defaultUrl","getName","moveListToRoot","$list","ol","$parent","moveElemToP","curElem","Ol","Ul","MenuConstructors","clear_drafts","head","image","italic","link","ul","MenuConstructor","disableMenus","currentRange","rangeCount","rangeAt","getRangeAt","$containerElem","toStart","collapse","getText","commonAncestorContainer","parentsUntil","endOffset","setEnd","isContent","selectNode","getPasteData","clipboardData","originalEvent","pasteText","pasteHtml","getPasteText","onchange","onchangeTimeout","placeholder","tagsWhiteList","Editor","toolbar","contenteditable","initSelection","bindEvent","newLine","$children","$last","updatePlaceholder","getHTML","setText","clear","compositionEnd","bindChange","saveRangeRealTime","pasteHandler","deleteHandler","containerClickHandler","dragHandler","undoHandler","onchangeTimeoutId","beforeChangeHTML","currentHTML","$selectionElem","src","small","onRemove","HeaderIcon","iconTitle","maximize","minimize","withTitle","withTopics","extra_message","release","oninput","Wrapper","Avatar","Title","Content","snippet","updateTime","updateTimeDesc","replys","QuestionItem","answer_time","create_time","ArticleItem","AnswerItem","selected_ids","isLoading","time","closeBtnClick","orders","currentOrder","onChangeOrder","vote_up_count","vote_down_count","comment_count","AllAnswersLink","isRepliesLoaded","isRepliesLoading","globalActions","following_data","question_count","centered","is_me","accept","MetaItem","contentFunc","multiLine","large","fold","blog","company","bio","followee_count","Textfield","Actions","More","Delete","ReplyWrapper","content_summary","CommentDeletedWrapper","UserLink","sender","QuestionLink","ArticleLink","Button","middle","PopoverBottomButton","Popover","$searchbar","onFocus","onBlur","clearInput","onBack","getFormAction","search_type","search_third","ua","onsubmit","onfocus","onblur","LoginBtn","RegisterBtn","drawer","$appbar","headroom","updateHeadroom","scrollY","distance","scrollToTop","site_icp_beian","site_gongan_beian","site_gongan_beian_code","required","autocomplete","onRefresh","onSend","sendText","svg","layoutMedia","matchMedia","changeLayout","addListener","loadNotificationCount","drawerInstance","G_USER"],"mappings":"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","file":"index.701723c2.js","sourcesContent":["// @ts-ignore\nimport sha1 from 'sha-1';\nimport { getRequest, postRequest, putRequest, patchRequest, deleteRequest } from './util/requestAlias';\nimport { buildURL, buildRequestBody } from './util/requestHandler';\n/**\n * \n *\n * \n */\n\nexport const addFollow = params => postRequest(buildURL('/users/{user_id}/followers', params));\n/**\n * \n *\n * \n */\n\nexport const deleteAvatar = params => deleteRequest(buildURL('/users/{user_id}/avatar', params));\n/**\n * \n *\n * \n */\n\nexport const deleteCover = params => deleteRequest(buildURL('/users/{user_id}/cover', params));\n/**\n * \n *\n * \n */\n\nexport const deleteFollow = params => deleteRequest(buildURL('/users/{user_id}/followers', params));\n/**\n * \n *\n * \n */\n\nexport const deleteMyAvatar = () => deleteRequest(buildURL('/user/avatar', {}));\n/**\n * \n *\n * \n */\n\nexport const deleteMyCover = () => deleteRequest(buildURL('/user/cover', {}));\n/**\n * \n *\n * \n */\n\nexport const disable = params => postRequest(buildURL('/users/{user_id}/disable', params, ['include']));\n/**\n * \n *\n * \n */\n\nexport const disableMultiple = params => postRequest(buildURL('/users/{user_ids}/disable', params, ['include']));\n/**\n * \n *\n * \n */\n\nexport const enable = params => postRequest(buildURL('/users/{user_id}/enable', params, ['include']));\n/**\n * \n *\n * \n */\n\nexport const enableMultiple = params => postRequest(buildURL('/users/{user_ids}/enable', params, ['include']));\n/**\n * \n *\n *     \n */\n\nexport const get = params => getRequest(buildURL('/users/{user_id}', params, ['include']));\n/**\n * \n *\n * \n */\n\nexport const getAnswers = params => getRequest(buildURL('/users/{user_id}/answers', params, ['page', 'per_page', 'order', 'include']));\n/**\n * \n *\n * \n */\n\nexport const getArticles = params => getRequest(buildURL('/users/{user_id}/articles', params, ['page', 'per_page', 'order', 'include']));\n/**\n * \n *\n * \n */\n\nexport const getComments = params => getRequest(buildURL('/users/{user_id}/comments', params, ['page', 'per_page', 'order', 'include']));\n/**\n * \n *\n * \n */\n\nexport const getFollowees = params => getRequest(buildURL('/users/{user_id}/followees', params, ['page', 'per_page', 'include']));\n/**\n * \n *\n * \n */\n\nexport const getFollowers = params => getRequest(buildURL('/users/{user_id}/followers', params, ['page', 'per_page', 'include']));\n/**\n * \n *\n * \n */\n\nexport const getFollowingArticles = params => getRequest(buildURL('/users/{user_id}/following_articles', params, ['page', 'per_page', 'include']));\n/**\n * \n *\n * \n */\n\nexport const getFollowingQuestions = params => getRequest(buildURL('/users/{user_id}/following_questions', params, ['page', 'per_page', 'include']));\n/**\n * \n *\n * \n */\n\nexport const getFollowingTopics = params => getRequest(buildURL('/users/{user_id}/following_topics', params, ['page', 'per_page', 'include']));\n/**\n * \n *\n *  email   \n */\n\nexport const getList = (params = {}) => getRequest(buildURL('/users', params, ['page', 'per_page', 'order', 'include', 'user_id', 'username', 'email', 'disabled']));\n/**\n * \n *\n * \n */\n\nexport const getMine = (params = {}) => getRequest(buildURL('/user', params, ['include']));\n/**\n * \n *\n * \n */\n\nexport const getMyAnswers = (params = {}) => getRequest(buildURL('/user/answers', params, ['page', 'per_page', 'order', 'include']));\n/**\n * \n *\n * \n */\n\nexport const getMyArticles = (params = {}) => getRequest(buildURL('/user/articles', params, ['page', 'per_page', 'order', 'include']));\n/**\n * \n *\n * \n */\n\nexport const getMyComments = (params = {}) => getRequest(buildURL('/user/comments', params, ['page', 'per_page', 'order', 'include']));\n/**\n * \n *\n * \n */\n\nexport const getMyFollowees = (params = {}) => getRequest(buildURL('/user/followees', params, ['page', 'per_page', 'include']));\n/**\n * \n *\n * \n */\n\nexport const getMyFollowers = (params = {}) => getRequest(buildURL('/user/followers', params, ['page', 'per_page', 'include']));\n/**\n * \n *\n * \n */\n\nexport const getMyFollowingArticles = (params = {}) => getRequest(buildURL('/user/following_articles', params, ['page', 'per_page', 'include']));\n/**\n * \n *\n * \n */\n\nexport const getMyFollowingQuestions = (params = {}) => getRequest(buildURL('/user/following_questions', params, ['page', 'per_page', 'include']));\n/**\n * \n *\n * \n */\n\nexport const getMyFollowingTopics = (params = {}) => getRequest(buildURL('/user/following_topics', params, ['page', 'per_page', 'include']));\n/**\n * \n *\n * \n */\n\nexport const getMyQuestions = (params = {}) => getRequest(buildURL('/user/questions', params, ['page', 'per_page', 'order', 'include']));\n/**\n * \n *\n * \n */\n\nexport const getQuestions = params => getRequest(buildURL('/users/{user_id}/questions', params, ['page', 'per_page', 'order', 'include']));\n/**\n * \n *\n * \n */\n\nexport const register = params => {\n  if (params.password) {\n    params.password = sha1(params.password);\n  }\n\n  return postRequest(buildURL('/users', params, ['include']), buildRequestBody(params, ['email', 'email_code', 'username', 'password']));\n};\n/**\n * \n *\n *  &#x60;captcha_token&#x60;  &#x60;captcha_image&#x60;  &#x60;captcha_token&#x60;  &#x60;captcha_code&#x60; \n */\n\nexport const sendPasswordResetEmail = params => postRequest(buildURL('/user/password/email', params), buildRequestBody(params, ['email', 'captcha_token', 'captcha_code']));\n/**\n * \n *\n *  &#x60;captcha_token&#x60;  &#x60;captcha_image&#x60;  &#x60;captcha_token&#x60;  &#x60;captcha_code&#x60; \n */\n\nexport const sendRegisterEmail = params => postRequest(buildURL('/user/register/email', params), buildRequestBody(params, ['email', 'captcha_token', 'captcha_code']));\n/**\n * \n *\n * \n */\n\nexport const update = params => patchRequest(buildURL('/users/{user_id}', params, ['include']), buildRequestBody(params, ['headline', 'bio', 'blog', 'company', 'location']));\n/**\n * \n *\n * \n */\n\nexport const updateMine = params => patchRequest(buildURL('/user', params, ['include']), buildRequestBody(params, ['headline', 'bio', 'blog', 'company', 'location']));\n/**\n * \n *\n * \n */\n\nexport const updatePassword = params => {\n  if (params.password) {\n    params.password = sha1(params.password);\n  }\n\n  return putRequest(buildURL('/user/password', params), buildRequestBody(params, ['email', 'email_code', 'password']));\n};\n/**\n * \n *\n * \n */\n\nexport const uploadMyAvatar = params => {\n  const formData = new FormData();\n  formData.append('avatar', params.avatar);\n  return postRequest(buildURL('/user/avatar'), formData);\n};\n/**\n * \n *\n * \n */\n\nexport const uploadMyCover = params => {\n  const formData = new FormData();\n  formData.append('cover', params.cover);\n  return postRequest(buildURL('/user/cover'), formData);\n};","const defaults = {\n  apiPath: '/api',\n  methodOverride: false,\n  timeout: 30000\n};\nexport default defaults;","import defaults from '../defaults';\nimport { isUndefined } from 'mdui.jq/es/utils';\nimport { GET, POST, PUT, PATCH, DELETE } from './requestMethod';\n\nif (isUndefined(defaults.adapter)) {\n  throw new Error('adapter must be set. e.g. new BrowserAdapter() or new MiniProgramAdapter()');\n}\n\nconst requestHandle = (method, url, data) => {\n  const headers = {};\n  const XHttpMethodOverride = 'X-Http-Method-Override';\n\n  if (defaults.methodOverride) {\n    if (method === PATCH || method === PUT) {\n      headers[XHttpMethodOverride] = method;\n      method = POST;\n    }\n\n    if (method === DELETE) {\n      headers[XHttpMethodOverride] = method;\n      method = GET;\n    }\n  } // header  accept\n\n\n  const accepts = ['application/json'];\n\n  if (typeof document !== 'undefined' && !![].map && document.createElement('canvas').toDataURL('image/webp').indexOf('data:image/webp') === 0) {\n    accepts.push('image/webp');\n  }\n\n  headers['Accept'] = accepts.join(', ');\n  return defaults.adapter.request({\n    method,\n    url,\n    data,\n    headers\n  });\n};\n\nexport const getRequest = (url, data) => requestHandle(GET, url, data);\nexport const postRequest = (url, data) => requestHandle(POST, url, data);\nexport const patchRequest = (url, data) => requestHandle(PATCH, url, data);\nexport const putRequest = (url, data) => requestHandle(PUT, url, data);\nexport const deleteRequest = (url, data) => requestHandle(DELETE, url, data);","import param from 'mdui.jq/es/functions/param';\n/**\n *  url  queryParam\n * @param path              url\n * @param params            path  query requestBody \n * @param queryParamNames  query \n */\n\nexport function buildURL(path, params = {}, queryParamNames = []) {\n  //  path \n  const url = path.replace(/({.*?})/g, match => {\n    const pathParamName = match.substr(1, match.length - 2);\n\n    if (params[pathParamName] == null) {\n      throw new Error(`Missing required parameter ${pathParamName}`);\n    }\n\n    return String(params[pathParamName]);\n  }); //  query \n\n  const queryObj = {};\n  queryParamNames.forEach(name => {\n    if (params[name] != null) {\n      queryObj[name] = String(params[name]);\n    }\n  });\n  const queryString = param(queryObj);\n  return queryString ? `${url}?${queryString}` : url;\n}\n/**\n *  requestBody \n * @param params            path  query requestBody \n * @param requestBodyNames requestBody \n */\n\nexport function buildRequestBody(params, requestBodyNames) {\n  const requestBody = {};\n  requestBodyNames.forEach(name => {\n    if (params[name] != null) {\n      requestBody[name] = params[name];\n    }\n  });\n  return requestBody;\n}","const GET = 'GET';\nconst POST = 'POST';\nconst PUT = 'PUT';\nconst PATCH = 'PATCH';\nconst DELETE = 'DELETE';\nexport { GET, POST, PUT, PATCH, DELETE };","import each from './functions/each';\nimport { JQ } from './JQ';\nimport { getChildNodesArray, isArrayLike, isFunction, isNode, isString } from './utils';\n\nfunction get$() {\n  const $ = function (selector) {\n    if (!selector) {\n      return new JQ();\n    } // JQ\n\n\n    if (selector instanceof JQ) {\n      return selector;\n    } // function\n\n\n    if (isFunction(selector)) {\n      if (/complete|loaded|interactive/.test(document.readyState) && document.body) {\n        selector.call(document, $);\n      } else {\n        document.addEventListener('DOMContentLoaded', () => selector.call(document, $), false);\n      }\n\n      return new JQ([document]);\n    } // String\n\n\n    if (isString(selector)) {\n      const html = selector.trim(); //  HTML  JQ \n\n      if (html[0] === '<' && html[html.length - 1] === '>') {\n        let toCreate = 'div';\n        const tags = {\n          li: 'ul',\n          tr: 'tbody',\n          td: 'tr',\n          th: 'tr',\n          tbody: 'table',\n          option: 'select'\n        };\n        each(tags, (childTag, parentTag) => {\n          if (html.indexOf(`<${childTag}`) === 0) {\n            toCreate = parentTag;\n            return false;\n          }\n\n          return;\n        });\n        return new JQ(getChildNodesArray(html, toCreate));\n      } //  CSS  JQ \n\n\n      const isIdSelector = selector[0] === '#' && !selector.match(/[ .<>:~]/);\n\n      if (!isIdSelector) {\n        return new JQ(document.querySelectorAll(selector));\n      }\n\n      const element = document.getElementById(selector.slice(1));\n\n      if (element) {\n        return new JQ([element]);\n      }\n\n      return new JQ();\n    }\n\n    if (isArrayLike(selector) && !isNode(selector)) {\n      return new JQ(selector);\n    }\n\n    return new JQ([selector]);\n  };\n\n  $.fn = JQ.prototype;\n  return $;\n}\n\nconst $ = get$();\nexport default $;","import each from './functions/each';\n/**\n * \n */\n\nexport class JQ {\n  constructor(arr) {\n    this.length = 0;\n\n    if (!arr) {\n      return this;\n    }\n\n    each(arr, (i, item) => {\n      // @ts-ignore\n      this[i] = item;\n    });\n    this.length = arr.length;\n    return this;\n  }\n\n}","import { isArrayLike } from '../utils';\n\nfunction each(target, callback) {\n  if (isArrayLike(target)) {\n    for (let i = 0; i < target.length; i += 1) {\n      if (callback.call(target[i], i, target[i]) === false) {\n        return target;\n      }\n    }\n  } else {\n    const keys = Object.keys(target);\n\n    for (let i = 0; i < keys.length; i += 1) {\n      if (callback.call(target[keys[i]], keys[i], target[keys[i]]) === false) {\n        return target;\n      }\n    }\n  }\n\n  return target;\n}\n\nexport default each;","import { isObjectLike } from '../utils';\nimport each from './each';\n/**\n *  URL \n *\n *  serializeArray \n * @param obj \n * @example\n```js\nparam({ width: 1680, height: 1050 });\n// width=1680&height=1050\n```\n * @example\n```js\nparam({ foo: { one: 1, two: 2 }})\n// foo[one]=1&foo[two]=2\n```\n * @example\n```js\nparam({ids: [1, 2, 3]})\n// ids[]=1&ids[]=2&ids[]=3\n```\n * @example\n```js\nparam([\n  {\"name\":\"name\",\"value\":\"mdui\"},\n  {\"name\":\"password\",\"value\":\"123456\"}\n])\n// name=mdui&password=123456\n```\n */\n\nfunction param(obj) {\n  if (!isObjectLike(obj) && !Array.isArray(obj)) {\n    return '';\n  }\n\n  const args = [];\n\n  function destructure(key, value) {\n    let keyTmp;\n\n    if (isObjectLike(value)) {\n      each(value, (i, v) => {\n        if (Array.isArray(value) && !isObjectLike(v)) {\n          keyTmp = '';\n        } else {\n          keyTmp = i;\n        }\n\n        destructure(`${key}[${keyTmp}]`, v);\n      });\n    } else {\n      if (value == null || value === '') {\n        keyTmp = '=';\n      } else {\n        keyTmp = `=${encodeURIComponent(value)}`;\n      }\n\n      args.push(encodeURIComponent(key) + keyTmp);\n    }\n  }\n\n  if (Array.isArray(obj)) {\n    each(obj, function () {\n      destructure(this.name, this.value);\n    });\n  } else {\n    each(obj, destructure);\n  }\n\n  return args.join('&');\n}\n\nexport default param;","function isNodeName(element, name) {\n  return element.nodeName.toLowerCase() === name.toLowerCase();\n}\n\nfunction isFunction(target) {\n  return typeof target === 'function';\n}\n\nfunction isString(target) {\n  return typeof target === 'string';\n}\n\nfunction isNumber(target) {\n  return typeof target === 'number';\n}\n\nfunction isBoolean(target) {\n  return typeof target === 'boolean';\n}\n\nfunction isUndefined(target) {\n  return typeof target === 'undefined';\n}\n\nfunction isNull(target) {\n  return target === null;\n}\n\nfunction isWindow(target) {\n  return target instanceof Window;\n}\n\nfunction isDocument(target) {\n  return target instanceof Document;\n}\n\nfunction isElement(target) {\n  return target instanceof Element;\n}\n\nfunction isNode(target) {\n  return target instanceof Node;\n}\n/**\n *  IE \n */\n\n\nfunction isIE() {\n  // @ts-ignore\n  return !!window.document.documentMode;\n}\n\nfunction isArrayLike(target) {\n  if (isFunction(target) || isWindow(target)) {\n    return false;\n  }\n\n  return isNumber(target.length);\n}\n\nfunction isObjectLike(target) {\n  return typeof target === 'object' && target !== null;\n}\n\nfunction toElement(target) {\n  return isDocument(target) ? target.documentElement : target;\n}\n/**\n *  -  box-sizing  boxSizing\n * @param string\n */\n\n\nfunction toCamelCase(string) {\n  return string.replace(/^-ms-/, 'ms-').replace(/-([a-z])/g, (_, letter) => letter.toUpperCase());\n}\n/**\n *  -  boxSizing  box-sizing\n * @param string\n */\n\n\nfunction toKebabCase(string) {\n  return string.replace(/[A-Z]/g, replacer => '-' + replacer.toLowerCase());\n}\n/**\n * \n * @param element\n * @param name\n */\n\n\nfunction getComputedStyleValue(element, name) {\n  return window.getComputedStyle(element).getPropertyValue(toKebabCase(name));\n}\n/**\n *  box-sizing  border-box\n * @param element\n */\n\n\nfunction isBorderBox(element) {\n  return getComputedStyleValue(element, 'box-sizing') === 'border-box';\n}\n/**\n *  padding, border, margin px\n * @param element\n * @param direction\n * @param extra\n */\n\n\nfunction getExtraWidth(element, direction, extra) {\n  const position = direction === 'width' ? ['Left', 'Right'] : ['Top', 'Bottom'];\n  return [0, 1].reduce((prev, _, index) => {\n    let prop = extra + position[index];\n\n    if (extra === 'border') {\n      prop += 'Width';\n    }\n\n    return prev + parseFloat(getComputedStyleValue(element, prop) || '0');\n  }, 0);\n}\n/**\n *  width  height \n * @param element\n * @param name\n */\n\n\nfunction getStyle(element, name) {\n  // widthheight  getComputedStyle  getBoundingClientRect \n  if (name === 'width' || name === 'height') {\n    const valueNumber = element.getBoundingClientRect()[name];\n\n    if (isBorderBox(element)) {\n      return `${valueNumber}px`;\n    }\n\n    return `${valueNumber - getExtraWidth(element, name, 'border') - getExtraWidth(element, name, 'padding')}px`;\n  }\n\n  return getComputedStyleValue(element, name);\n}\n/**\n * \n * @param target\n * @param parent\n */\n\n\nfunction getChildNodesArray(target, parent) {\n  const tempParent = document.createElement(parent);\n  tempParent.innerHTML = target;\n  return [].slice.call(tempParent.childNodes);\n}\n/**\n *  false \n */\n\n\nfunction returnFalse() {\n  return false;\n}\n/**\n *  CSS \n */\n\n\nconst cssNumber = ['animationIterationCount', 'columnCount', 'fillOpacity', 'flexGrow', 'flexShrink', 'fontWeight', 'gridArea', 'gridColumn', 'gridColumnEnd', 'gridColumnStart', 'gridRow', 'gridRowEnd', 'gridRowStart', 'lineHeight', 'opacity', 'order', 'orphans', 'widows', 'zIndex', 'zoom'];\nexport { isNodeName, isArrayLike, isObjectLike, isFunction, isString, isNumber, isBoolean, isUndefined, isNull, isWindow, isDocument, isElement, isNode, isIE, toElement, toCamelCase, toKebabCase, getComputedStyleValue, isBorderBox, getExtraWidth, getStyle, getChildNodesArray, returnFalse, cssNumber };","import $ from 'mdui.jq/es/$'; // css\n// https://css-tricks.com/transitions-only-after-page-load/\n\nsetTimeout(() => $('body').addClass('mdui-loaded'));\nconst mdui = {\n  $: $\n};\nexport default mdui;","import $ from 'mdui.jq';\nimport mdui from 'mdui';\nimport { get as getUserInfo } from 'mdclub-sdk-js/es/UserApi';\nimport { findIndex } from '~/utils/func';\nimport apiCatch from '~/utils/errorHandler';\nexport default {\n  /**\n   * @param element\n   * @param dataName \n   * @param primaryKey \n   * @param primaryValue \n   * @param actions\n   */\n  onUserPopoverCreate: ({\n    element,\n    dataName,\n    primaryKey = null,\n    primaryValue = null\n  }) => (state, actions) => {\n    const $element = $(element);\n    const $trigger = $element.find('.user-popover-trigger');\n    const $popover = $element.find('.popover');\n    const menu = new mdui.Menu($trigger, $popover);\n    let timeoutId;\n    $trigger.on('mouseenter', () => {\n      timeoutId = setTimeout(() => {\n        menu.open();\n        actions.loadUserForUserPopover({\n          dataName,\n          primaryKey,\n          primaryValue\n        });\n      }, 500);\n    }).on('mouseleave', () => {\n      clearTimeout(timeoutId);\n      timeoutId = null;\n    });\n    $popover.on('mouseleave', () => {\n      if (timeoutId) {\n        clearTimeout(timeoutId);\n        timeoutId = null;\n      }\n\n      menu.close();\n    });\n  },\n\n  /**\n   * \n   * @param dataName\n   * @param primaryKey\n   * @param primaryValue\n   */\n  loadUserForUserPopover: ({\n    dataName,\n    primaryKey,\n    primaryValue\n  }) => (state, actions) => {\n    // eslint-disable-next-line no-eval\n    const data = eval(`state.${dataName}`);\n    let index;\n    let item;\n\n    if (primaryKey) {\n      index = findIndex(data, primaryKey, primaryValue);\n      item = data[index];\n    }\n\n    const user_id = primaryKey ? item.relationships.user.user_id : data.relationships.user.user_id;\n    getUserInfo({\n      user_id,\n      include: ['is_followed', 'is_following', 'is_me']\n    }).then(response => {\n      if (primaryKey) {\n        data[index].relationships.user = response.data;\n      } else {\n        data.relationships.user = response.data;\n      }\n\n      actions.setState({\n        [dataName]: data\n      });\n    }).catch(apiCatch);\n  }\n};","import mdui from 'mdui';\nexport default function apiCatch(response) {\n  let message;\n\n  if (response.code === 999999) {\n    message = '';\n  } else if (!response.message) {\n    message = '';\n  } else {\n    message = response.message;\n  }\n\n  mdui.snackbar(message);\n}","import each from 'mdui.jq/es/functions/each';\nexport const findIndex = (items, prop, value) => {\n  let result;\n  each(items, (index, item) => {\n    if (item[prop] === value) {\n      result = index;\n      return false;\n    }\n\n    return true;\n  });\n  return result;\n};\nexport const findItem = (items, prop, value) => {\n  const index = findIndex(items, prop, value);\n  return items[index];\n};","// https://github.com/substack/deep-freeze/blob/master/index.js\n/** @param {any} obj */\nfunction deepFreeze(obj) {\n  Object.freeze(obj);\n\n  var objIsFunction = typeof obj === 'function';\n\n  Object.getOwnPropertyNames(obj).forEach(function(prop) {\n    if (Object.hasOwnProperty.call(obj, prop)\n    && obj[prop] !== null\n    && (typeof obj[prop] === \"object\" || typeof obj[prop] === \"function\")\n    // IE11 fix: https://github.com/highlightjs/highlight.js/issues/2318\n    // TODO: remove in the future\n    && (objIsFunction ? prop !== 'caller' && prop !== 'callee' && prop !== 'arguments' : true)\n    && !Object.isFrozen(obj[prop])) {\n      deepFreeze(obj[prop]);\n    }\n  });\n\n  return obj;\n}\n\nclass Response {\n  /**\n   * @param {CompiledMode} mode\n   */\n  constructor(mode) {\n    // eslint-disable-next-line no-undefined\n    if (mode.data === undefined) mode.data = {};\n\n    this.data = mode.data;\n  }\n\n  ignoreMatch() {\n    this.ignore = true;\n  }\n}\n\n/**\n * @param {string} value\n * @returns {string}\n */\nfunction escapeHTML(value) {\n  return value\n    .replace(/&/g, '&amp;')\n    .replace(/</g, '&lt;')\n    .replace(/>/g, '&gt;')\n    .replace(/\"/g, '&quot;')\n    .replace(/'/g, '&#x27;');\n}\n\n/**\n * performs a shallow merge of multiple objects into one\n *\n * @template T\n * @param {T} original\n * @param {Record<string,any>[]} objects\n * @returns {T} a single new object\n */\nfunction inherit(original, ...objects) {\n  /** @type Record<string,any> */\n  var result = {};\n\n  for (const key in original) {\n    result[key] = original[key];\n  }\n  objects.forEach(function(obj) {\n    for (const key in obj) {\n      result[key] = obj[key];\n    }\n  });\n  return /** @type {T} */ (result);\n}\n\n/* Stream merging */\n\n/**\n * @typedef Event\n * @property {'start'|'stop'} event\n * @property {number} offset\n * @property {Node} node\n */\n\n/**\n * @param {Node} node\n */\nfunction tag(node) {\n  return node.nodeName.toLowerCase();\n}\n\n/**\n * @param {Node} node\n */\nfunction nodeStream(node) {\n  /** @type Event[] */\n  var result = [];\n  (function _nodeStream(node, offset) {\n    for (var child = node.firstChild; child; child = child.nextSibling) {\n      if (child.nodeType === 3) {\n        offset += child.nodeValue.length;\n      } else if (child.nodeType === 1) {\n        result.push({\n          event: 'start',\n          offset: offset,\n          node: child\n        });\n        offset = _nodeStream(child, offset);\n        // Prevent void elements from having an end tag that would actually\n        // double them in the output. There are more void elements in HTML\n        // but we list only those realistically expected in code display.\n        if (!tag(child).match(/br|hr|img|input/)) {\n          result.push({\n            event: 'stop',\n            offset: offset,\n            node: child\n          });\n        }\n      }\n    }\n    return offset;\n  })(node, 0);\n  return result;\n}\n\n/**\n * @param {any} original - the original stream\n * @param {any} highlighted - stream of the highlighted source\n * @param {string} value - the original source itself\n */\nfunction mergeStreams(original, highlighted, value) {\n  var processed = 0;\n  var result = '';\n  var nodeStack = [];\n\n  function selectStream() {\n    if (!original.length || !highlighted.length) {\n      return original.length ? original : highlighted;\n    }\n    if (original[0].offset !== highlighted[0].offset) {\n      return (original[0].offset < highlighted[0].offset) ? original : highlighted;\n    }\n\n    /*\n    To avoid starting the stream just before it should stop the order is\n    ensured that original always starts first and closes last:\n\n    if (event1 == 'start' && event2 == 'start')\n      return original;\n    if (event1 == 'start' && event2 == 'stop')\n      return highlighted;\n    if (event1 == 'stop' && event2 == 'start')\n      return original;\n    if (event1 == 'stop' && event2 == 'stop')\n      return highlighted;\n\n    ... which is collapsed to:\n    */\n    return highlighted[0].event === 'start' ? original : highlighted;\n  }\n\n  /**\n   * @param {Node} node\n   */\n  function open(node) {\n    /** @param {Attr} attr */\n    function attributeString(attr) {\n      return ' ' + attr.nodeName + '=\"' + escapeHTML(attr.value) + '\"';\n    }\n    // @ts-ignore\n    result += '<' + tag(node) + [].map.call(node.attributes, attributeString).join('') + '>';\n  }\n\n  /**\n   * @param {Node} node\n   */\n  function close(node) {\n    result += '</' + tag(node) + '>';\n  }\n\n  /**\n   * @param {Event} event\n   */\n  function render(event) {\n    (event.event === 'start' ? open : close)(event.node);\n  }\n\n  while (original.length || highlighted.length) {\n    var stream = selectStream();\n    result += escapeHTML(value.substring(processed, stream[0].offset));\n    processed = stream[0].offset;\n    if (stream === original) {\n      /*\n      On any opening or closing tag of the original markup we first close\n      the entire highlighted node stack, then render the original tag along\n      with all the following original tags at the same offset and then\n      reopen all the tags on the highlighted stack.\n      */\n      nodeStack.reverse().forEach(close);\n      do {\n        render(stream.splice(0, 1)[0]);\n        stream = selectStream();\n      } while (stream === original && stream.length && stream[0].offset === processed);\n      nodeStack.reverse().forEach(open);\n    } else {\n      if (stream[0].event === 'start') {\n        nodeStack.push(stream[0].node);\n      } else {\n        nodeStack.pop();\n      }\n      render(stream.splice(0, 1)[0]);\n    }\n  }\n  return result + escapeHTML(value.substr(processed));\n}\n\nvar utils = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  escapeHTML: escapeHTML,\n  inherit: inherit,\n  nodeStream: nodeStream,\n  mergeStreams: mergeStreams\n});\n\n/**\n * @typedef {object} Renderer\n * @property {(text: string) => void} addText\n * @property {(node: Node) => void} openNode\n * @property {(node: Node) => void} closeNode\n * @property {() => string} value\n */\n\n/** @typedef {{kind?: string, sublanguage?: boolean}} Node */\n/** @typedef {{walk: (r: Renderer) => void}} Tree */\n/** */\n\nconst SPAN_CLOSE = '</span>';\n\n/**\n * Determines if a node needs to be wrapped in <span>\n *\n * @param {Node} node */\nconst emitsWrappingTags = (node) => {\n  return !!node.kind;\n};\n\n/** @type {Renderer} */\nclass HTMLRenderer {\n  /**\n   * Creates a new HTMLRenderer\n   *\n   * @param {Tree} parseTree - the parse tree (must support `walk` API)\n   * @param {{classPrefix: string}} options\n   */\n  constructor(parseTree, options) {\n    this.buffer = \"\";\n    this.classPrefix = options.classPrefix;\n    parseTree.walk(this);\n  }\n\n  /**\n   * Adds texts to the output stream\n   *\n   * @param {string} text */\n  addText(text) {\n    this.buffer += escapeHTML(text);\n  }\n\n  /**\n   * Adds a node open to the output stream (if needed)\n   *\n   * @param {Node} node */\n  openNode(node) {\n    if (!emitsWrappingTags(node)) return;\n\n    let className = node.kind;\n    if (!node.sublanguage) {\n      className = `${this.classPrefix}${className}`;\n    }\n    this.span(className);\n  }\n\n  /**\n   * Adds a node close to the output stream (if needed)\n   *\n   * @param {Node} node */\n  closeNode(node) {\n    if (!emitsWrappingTags(node)) return;\n\n    this.buffer += SPAN_CLOSE;\n  }\n\n  /**\n   * returns the accumulated buffer\n  */\n  value() {\n    return this.buffer;\n  }\n\n  // helpers\n\n  /**\n   * Builds a span element\n   *\n   * @param {string} className */\n  span(className) {\n    this.buffer += `<span class=\"${className}\">`;\n  }\n}\n\n/** @typedef {{kind?: string, sublanguage?: boolean, children: Node[]} | string} Node */\n/** @typedef {{kind?: string, sublanguage?: boolean, children: Node[]} } DataNode */\n/**  */\n\nclass TokenTree {\n  constructor() {\n    /** @type DataNode */\n    this.rootNode = { children: [] };\n    this.stack = [this.rootNode];\n  }\n\n  get top() {\n    return this.stack[this.stack.length - 1];\n  }\n\n  get root() { return this.rootNode; }\n\n  /** @param {Node} node */\n  add(node) {\n    this.top.children.push(node);\n  }\n\n  /** @param {string} kind */\n  openNode(kind) {\n    /** @type Node */\n    const node = { kind, children: [] };\n    this.add(node);\n    this.stack.push(node);\n  }\n\n  closeNode() {\n    if (this.stack.length > 1) {\n      return this.stack.pop();\n    }\n    // eslint-disable-next-line no-undefined\n    return undefined;\n  }\n\n  closeAllNodes() {\n    while (this.closeNode());\n  }\n\n  toJSON() {\n    return JSON.stringify(this.rootNode, null, 4);\n  }\n\n  /**\n   * @typedef { import(\"./html_renderer\").Renderer } Renderer\n   * @param {Renderer} builder\n   */\n  walk(builder) {\n    // this does not\n    return this.constructor._walk(builder, this.rootNode);\n    // this works\n    // return TokenTree._walk(builder, this.rootNode);\n  }\n\n  /**\n   * @param {Renderer} builder\n   * @param {Node} node\n   */\n  static _walk(builder, node) {\n    if (typeof node === \"string\") {\n      builder.addText(node);\n    } else if (node.children) {\n      builder.openNode(node);\n      node.children.forEach((child) => this._walk(builder, child));\n      builder.closeNode(node);\n    }\n    return builder;\n  }\n\n  /**\n   * @param {Node} node\n   */\n  static _collapse(node) {\n    if (typeof node === \"string\") return;\n    if (!node.children) return;\n\n    if (node.children.every(el => typeof el === \"string\")) {\n      // node.text = node.children.join(\"\");\n      // delete node.children;\n      node.children = [node.children.join(\"\")];\n    } else {\n      node.children.forEach((child) => {\n        TokenTree._collapse(child);\n      });\n    }\n  }\n}\n\n/**\n  Currently this is all private API, but this is the minimal API necessary\n  that an Emitter must implement to fully support the parser.\n\n  Minimal interface:\n\n  - addKeyword(text, kind)\n  - addText(text)\n  - addSublanguage(emitter, subLanguageName)\n  - finalize()\n  - openNode(kind)\n  - closeNode()\n  - closeAllNodes()\n  - toHTML()\n\n*/\n\n/**\n * @implements {Emitter}\n */\nclass TokenTreeEmitter extends TokenTree {\n  /**\n   * @param {*} options\n   */\n  constructor(options) {\n    super();\n    this.options = options;\n  }\n\n  /**\n   * @param {string} text\n   * @param {string} kind\n   */\n  addKeyword(text, kind) {\n    if (text === \"\") { return; }\n\n    this.openNode(kind);\n    this.addText(text);\n    this.closeNode();\n  }\n\n  /**\n   * @param {string} text\n   */\n  addText(text) {\n    if (text === \"\") { return; }\n\n    this.add(text);\n  }\n\n  /**\n   * @param {Emitter & {root: DataNode}} emitter\n   * @param {string} name\n   */\n  addSublanguage(emitter, name) {\n    /** @type DataNode */\n    const node = emitter.root;\n    node.kind = name;\n    node.sublanguage = true;\n    this.add(node);\n  }\n\n  toHTML() {\n    const renderer = new HTMLRenderer(this, this.options);\n    return renderer.value();\n  }\n\n  finalize() {\n    return true;\n  }\n}\n\n/**\n * @param {string} value\n * @returns {RegExp}\n * */\nfunction escape(value) {\n  return new RegExp(value.replace(/[-/\\\\^$*+?.()|[\\]{}]/g, '\\\\$&'), 'm');\n}\n\n/**\n * @param {RegExp | string } re\n * @returns {string}\n */\nfunction source(re) {\n  if (!re) return null;\n  if (typeof re === \"string\") return re;\n\n  return re.source;\n}\n\n/**\n * @param {...(RegExp | string) } args\n * @returns {string}\n */\nfunction concat(...args) {\n  const joined = args.map((x) => source(x)).join(\"\");\n  return joined;\n}\n\n/**\n * @param {RegExp} re\n * @returns {number}\n */\nfunction countMatchGroups(re) {\n  return (new RegExp(re.toString() + '|')).exec('').length - 1;\n}\n\n/**\n * Does lexeme start with a regular expression match at the beginning\n * @param {RegExp} re\n * @param {string} lexeme\n */\nfunction startsWith(re, lexeme) {\n  var match = re && re.exec(lexeme);\n  return match && match.index === 0;\n}\n\n// join logically computes regexps.join(separator), but fixes the\n// backreferences so they continue to match.\n// it also places each individual regular expression into it's own\n// match group, keeping track of the sequencing of those match groups\n// is currently an exercise for the caller. :-)\n/**\n * @param {(string | RegExp)[]} regexps\n * @param {string} separator\n * @returns {string}\n */\nfunction join(regexps, separator = \"|\") {\n  // backreferenceRe matches an open parenthesis or backreference. To avoid\n  // an incorrect parse, it additionally matches the following:\n  // - [...] elements, where the meaning of parentheses and escapes change\n  // - other escape sequences, so we do not misparse escape sequences as\n  //   interesting elements\n  // - non-matching or lookahead parentheses, which do not capture. These\n  //   follow the '(' with a '?'.\n  var backreferenceRe = /\\[(?:[^\\\\\\]]|\\\\.)*\\]|\\(\\??|\\\\([1-9][0-9]*)|\\\\./;\n  var numCaptures = 0;\n  var ret = '';\n  for (var i = 0; i < regexps.length; i++) {\n    numCaptures += 1;\n    var offset = numCaptures;\n    var re = source(regexps[i]);\n    if (i > 0) {\n      ret += separator;\n    }\n    ret += \"(\";\n    while (re.length > 0) {\n      var match = backreferenceRe.exec(re);\n      if (match == null) {\n        ret += re;\n        break;\n      }\n      ret += re.substring(0, match.index);\n      re = re.substring(match.index + match[0].length);\n      if (match[0][0] === '\\\\' && match[1]) {\n        // Adjust the backreference.\n        ret += '\\\\' + String(Number(match[1]) + offset);\n      } else {\n        ret += match[0];\n        if (match[0] === '(') {\n          numCaptures++;\n        }\n      }\n    }\n    ret += \")\";\n  }\n  return ret;\n}\n\n// Common regexps\nconst IDENT_RE = '[a-zA-Z]\\\\w*';\nconst UNDERSCORE_IDENT_RE = '[a-zA-Z_]\\\\w*';\nconst NUMBER_RE = '\\\\b\\\\d+(\\\\.\\\\d+)?';\nconst C_NUMBER_RE = '(-?)(\\\\b0[xX][a-fA-F0-9]+|(\\\\b\\\\d+(\\\\.\\\\d*)?|\\\\.\\\\d+)([eE][-+]?\\\\d+)?)'; // 0x..., 0..., decimal, float\nconst BINARY_NUMBER_RE = '\\\\b(0b[01]+)'; // 0b...\nconst RE_STARTERS_RE = '!|!=|!==|%|%=|&|&&|&=|\\\\*|\\\\*=|\\\\+|\\\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\\\?|\\\\[|\\\\{|\\\\(|\\\\^|\\\\^=|\\\\||\\\\|=|\\\\|\\\\||~';\n\n/**\n* @param { Partial<Mode> & {binary?: string | RegExp} } opts\n*/\nconst SHEBANG = (opts = {}) => {\n  const beginShebang = /^#![ ]*\\//;\n  if (opts.binary) {\n    opts.begin = concat(\n      beginShebang,\n      /.*\\b/,\n      opts.binary,\n      /\\b.*/);\n  }\n  return inherit({\n    className: 'meta',\n    begin: beginShebang,\n    end: /$/,\n    relevance: 0,\n    /** @type {ModeCallback} */\n    \"on:begin\": (m, resp) => {\n      if (m.index !== 0) resp.ignoreMatch();\n    }\n  }, opts);\n};\n\n// Common modes\nconst BACKSLASH_ESCAPE = {\n  begin: '\\\\\\\\[\\\\s\\\\S]', relevance: 0\n};\nconst APOS_STRING_MODE = {\n  className: 'string',\n  begin: '\\'',\n  end: '\\'',\n  illegal: '\\\\n',\n  contains: [BACKSLASH_ESCAPE]\n};\nconst QUOTE_STRING_MODE = {\n  className: 'string',\n  begin: '\"',\n  end: '\"',\n  illegal: '\\\\n',\n  contains: [BACKSLASH_ESCAPE]\n};\nconst PHRASAL_WORDS_MODE = {\n  begin: /\\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|they|like|more)\\b/\n};\n/**\n * Creates a comment mode\n *\n * @param {string | RegExp} begin\n * @param {string | RegExp} end\n * @param {Mode | {}} [modeOptions]\n * @returns {Partial<Mode>}\n */\nconst COMMENT = function(begin, end, modeOptions = {}) {\n  var mode = inherit(\n    {\n      className: 'comment',\n      begin,\n      end,\n      contains: []\n    },\n    modeOptions\n  );\n  mode.contains.push(PHRASAL_WORDS_MODE);\n  mode.contains.push({\n    className: 'doctag',\n    begin: '(?:TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):',\n    relevance: 0\n  });\n  return mode;\n};\nconst C_LINE_COMMENT_MODE = COMMENT('//', '$');\nconst C_BLOCK_COMMENT_MODE = COMMENT('/\\\\*', '\\\\*/');\nconst HASH_COMMENT_MODE = COMMENT('#', '$');\nconst NUMBER_MODE = {\n  className: 'number',\n  begin: NUMBER_RE,\n  relevance: 0\n};\nconst C_NUMBER_MODE = {\n  className: 'number',\n  begin: C_NUMBER_RE,\n  relevance: 0\n};\nconst BINARY_NUMBER_MODE = {\n  className: 'number',\n  begin: BINARY_NUMBER_RE,\n  relevance: 0\n};\nconst CSS_NUMBER_MODE = {\n  className: 'number',\n  begin: NUMBER_RE + '(' +\n    '%|em|ex|ch|rem' +\n    '|vw|vh|vmin|vmax' +\n    '|cm|mm|in|pt|pc|px' +\n    '|deg|grad|rad|turn' +\n    '|s|ms' +\n    '|Hz|kHz' +\n    '|dpi|dpcm|dppx' +\n    ')?',\n  relevance: 0\n};\nconst REGEXP_MODE = {\n  // this outer rule makes sure we actually have a WHOLE regex and not simply\n  // an expression such as:\n  //\n  //     3 / something\n  //\n  // (which will then blow up when regex's `illegal` sees the newline)\n  begin: /(?=\\/[^/\\n]*\\/)/,\n  contains: [{\n    className: 'regexp',\n    begin: /\\//,\n    end: /\\/[gimuy]*/,\n    illegal: /\\n/,\n    contains: [\n      BACKSLASH_ESCAPE,\n      {\n        begin: /\\[/,\n        end: /\\]/,\n        relevance: 0,\n        contains: [BACKSLASH_ESCAPE]\n      }\n    ]\n  }]\n};\nconst TITLE_MODE = {\n  className: 'title',\n  begin: IDENT_RE,\n  relevance: 0\n};\nconst UNDERSCORE_TITLE_MODE = {\n  className: 'title',\n  begin: UNDERSCORE_IDENT_RE,\n  relevance: 0\n};\nconst METHOD_GUARD = {\n  // excludes method names from keyword processing\n  begin: '\\\\.\\\\s*' + UNDERSCORE_IDENT_RE,\n  relevance: 0\n};\n\n/**\n * Adds end same as begin mechanics to a mode\n *\n * Your mode must include at least a single () match group as that first match\n * group is what is used for comparison\n * @param {Partial<Mode>} mode\n */\nconst END_SAME_AS_BEGIN = function(mode) {\n  return Object.assign(mode,\n    {\n      /** @type {ModeCallback} */\n      'on:begin': (m, resp) => { resp.data._beginMatch = m[1]; },\n      /** @type {ModeCallback} */\n      'on:end': (m, resp) => { if (resp.data._beginMatch !== m[1]) resp.ignoreMatch(); }\n    });\n};\n\nvar MODES = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  IDENT_RE: IDENT_RE,\n  UNDERSCORE_IDENT_RE: UNDERSCORE_IDENT_RE,\n  NUMBER_RE: NUMBER_RE,\n  C_NUMBER_RE: C_NUMBER_RE,\n  BINARY_NUMBER_RE: BINARY_NUMBER_RE,\n  RE_STARTERS_RE: RE_STARTERS_RE,\n  SHEBANG: SHEBANG,\n  BACKSLASH_ESCAPE: BACKSLASH_ESCAPE,\n  APOS_STRING_MODE: APOS_STRING_MODE,\n  QUOTE_STRING_MODE: QUOTE_STRING_MODE,\n  PHRASAL_WORDS_MODE: PHRASAL_WORDS_MODE,\n  COMMENT: COMMENT,\n  C_LINE_COMMENT_MODE: C_LINE_COMMENT_MODE,\n  C_BLOCK_COMMENT_MODE: C_BLOCK_COMMENT_MODE,\n  HASH_COMMENT_MODE: HASH_COMMENT_MODE,\n  NUMBER_MODE: NUMBER_MODE,\n  C_NUMBER_MODE: C_NUMBER_MODE,\n  BINARY_NUMBER_MODE: BINARY_NUMBER_MODE,\n  CSS_NUMBER_MODE: CSS_NUMBER_MODE,\n  REGEXP_MODE: REGEXP_MODE,\n  TITLE_MODE: TITLE_MODE,\n  UNDERSCORE_TITLE_MODE: UNDERSCORE_TITLE_MODE,\n  METHOD_GUARD: METHOD_GUARD,\n  END_SAME_AS_BEGIN: END_SAME_AS_BEGIN\n});\n\n// keywords that should have no default relevance value\nvar COMMON_KEYWORDS = 'of and for in not or if then'.split(' ');\n\n// compilation\n\n/**\n * Compiles a language definition result\n *\n * Given the raw result of a language definition (Language), compiles this so\n * that it is ready for highlighting code.\n * @param {Language} language\n * @returns {CompiledLanguage}\n */\nfunction compileLanguage(language) {\n  /**\n   * Builds a regex with the case sensativility of the current language\n   *\n   * @param {RegExp | string} value\n   * @param {boolean} [global]\n   */\n  function langRe(value, global) {\n    return new RegExp(\n      source(value),\n      'm' + (language.case_insensitive ? 'i' : '') + (global ? 'g' : '')\n    );\n  }\n\n  /**\n    Stores multiple regular expressions and allows you to quickly search for\n    them all in a string simultaneously - returning the first match.  It does\n    this by creating a huge (a|b|c) regex - each individual item wrapped with ()\n    and joined by `|` - using match groups to track position.  When a match is\n    found checking which position in the array has content allows us to figure\n    out which of the original regexes / match groups triggered the match.\n\n    The match object itself (the result of `Regex.exec`) is returned but also\n    enhanced by merging in any meta-data that was registered with the regex.\n    This is how we keep track of which mode matched, and what type of rule\n    (`illegal`, `begin`, end, etc).\n  */\n  class MultiRegex {\n    constructor() {\n      this.matchIndexes = {};\n      // @ts-ignore\n      this.regexes = [];\n      this.matchAt = 1;\n      this.position = 0;\n    }\n\n    // @ts-ignore\n    addRule(re, opts) {\n      opts.position = this.position++;\n      // @ts-ignore\n      this.matchIndexes[this.matchAt] = opts;\n      this.regexes.push([opts, re]);\n      this.matchAt += countMatchGroups(re) + 1;\n    }\n\n    compile() {\n      if (this.regexes.length === 0) {\n        // avoids the need to check length every time exec is called\n        // @ts-ignore\n        this.exec = () => null;\n      }\n      const terminators = this.regexes.map(el => el[1]);\n      this.matcherRe = langRe(join(terminators), true);\n      this.lastIndex = 0;\n    }\n\n    /** @param {string} s */\n    exec(s) {\n      this.matcherRe.lastIndex = this.lastIndex;\n      const match = this.matcherRe.exec(s);\n      if (!match) { return null; }\n\n      // eslint-disable-next-line no-undefined\n      const i = match.findIndex((el, i) => i > 0 && el !== undefined);\n      // @ts-ignore\n      const matchData = this.matchIndexes[i];\n      // trim off any earlier non-relevant match groups (ie, the other regex\n      // match groups that make up the multi-matcher)\n      match.splice(0, i);\n\n      return Object.assign(match, matchData);\n    }\n  }\n\n  /*\n    Created to solve the key deficiently with MultiRegex - there is no way to\n    test for multiple matches at a single location.  Why would we need to do\n    that?  In the future a more dynamic engine will allow certain matches to be\n    ignored.  An example: if we matched say the 3rd regex in a large group but\n    decided to ignore it - we'd need to started testing again at the 4th\n    regex... but MultiRegex itself gives us no real way to do that.\n\n    So what this class creates MultiRegexs on the fly for whatever search\n    position they are needed.\n\n    NOTE: These additional MultiRegex objects are created dynamically.  For most\n    grammars most of the time we will never actually need anything more than the\n    first MultiRegex - so this shouldn't have too much overhead.\n\n    Say this is our search group, and we match regex3, but wish to ignore it.\n\n      regex1 | regex2 | regex3 | regex4 | regex5    ' ie, startAt = 0\n\n    What we need is a new MultiRegex that only includes the remaining\n    possibilities:\n\n      regex4 | regex5                               ' ie, startAt = 3\n\n    This class wraps all that complexity up in a simple API... `startAt` decides\n    where in the array of expressions to start doing the matching. It\n    auto-increments, so if a match is found at position 2, then startAt will be\n    set to 3.  If the end is reached startAt will return to 0.\n\n    MOST of the time the parser will be setting startAt manually to 0.\n  */\n  class ResumableMultiRegex {\n    constructor() {\n      // @ts-ignore\n      this.rules = [];\n      // @ts-ignore\n      this.multiRegexes = [];\n      this.count = 0;\n\n      this.lastIndex = 0;\n      this.regexIndex = 0;\n    }\n\n    // @ts-ignore\n    getMatcher(index) {\n      if (this.multiRegexes[index]) return this.multiRegexes[index];\n\n      const matcher = new MultiRegex();\n      this.rules.slice(index).forEach(([re, opts]) => matcher.addRule(re, opts));\n      matcher.compile();\n      this.multiRegexes[index] = matcher;\n      return matcher;\n    }\n\n    resumingScanAtSamePosition() {\n      return this.regexIndex !== 0;\n    }\n\n    considerAll() {\n      this.regexIndex = 0;\n    }\n\n    // @ts-ignore\n    addRule(re, opts) {\n      this.rules.push([re, opts]);\n      if (opts.type === \"begin\") this.count++;\n    }\n\n    /** @param {string} s */\n    exec(s) {\n      const m = this.getMatcher(this.regexIndex);\n      m.lastIndex = this.lastIndex;\n      let result = m.exec(s);\n\n      // The following is because we have no easy way to say \"resume scanning at the\n      // existing position but also skip the current rule ONLY\". What happens is\n      // all prior rules are also skipped which can result in matching the wrong\n      // thing. Example of matching \"booger\":\n\n      // our matcher is [string, \"booger\", number]\n      //\n      // ....booger....\n\n      // if \"booger\" is ignored then we'd really need a regex to scan from the\n      // SAME position for only: [string, number] but ignoring \"booger\" (if it\n      // was the first match), a simple resume would scan ahead who knows how\n      // far looking only for \"number\", ignoring potential string matches (or\n      // future \"booger\" matches that might be valid.)\n\n      // So what we do: We execute two matchers, one resuming at the same\n      // position, but the second full matcher starting at the position after:\n\n      //     /--- resume first regex match here (for [number])\n      //     |/---- full match here for [string, \"booger\", number]\n      //     vv\n      // ....booger....\n\n      // Which ever results in a match first is then used. So this 3-4 step\n      // process essentially allows us to say \"match at this position, excluding\n      // a prior rule that was ignored\".\n      //\n      // 1. Match \"booger\" first, ignore. Also proves that [string] does non match.\n      // 2. Resume matching for [number]\n      // 3. Match at index + 1 for [string, \"booger\", number]\n      // 4. If #2 and #3 result in matches, which came first?\n      if (this.resumingScanAtSamePosition()) {\n        if (result && result.index === this.lastIndex) ; else { // use the second matcher result\n          const m2 = this.getMatcher(0);\n          m2.lastIndex = this.lastIndex + 1;\n          result = m2.exec(s);\n        }\n      }\n\n      if (result) {\n        this.regexIndex += result.position + 1;\n        if (this.regexIndex === this.count) {\n          // wrap-around to considering all matches again\n          this.considerAll();\n        }\n      }\n\n      return result;\n    }\n  }\n\n  /**\n   * Given a mode, builds a huge ResumableMultiRegex that can be used to walk\n   * the content and find matches.\n   *\n   * @param {CompiledMode} mode\n   * @returns {ResumableMultiRegex}\n   */\n  function buildModeRegex(mode) {\n    const mm = new ResumableMultiRegex();\n\n    mode.contains.forEach(term => mm.addRule(term.begin, { rule: term, type: \"begin\" }));\n\n    if (mode.terminator_end) {\n      mm.addRule(mode.terminator_end, { type: \"end\" });\n    }\n    if (mode.illegal) {\n      mm.addRule(mode.illegal, { type: \"illegal\" });\n    }\n\n    return mm;\n  }\n\n  // TODO: We need negative look-behind support to do this properly\n  /**\n   * Skip a match if it has a preceding or trailing dot\n   *\n   * This is used for `beginKeywords` to prevent matching expressions such as\n   * `bob.keyword.do()`. The mode compiler automatically wires this up as a\n   * special _internal_ 'on:begin' callback for modes with `beginKeywords`\n   * @param {RegExpMatchArray} match\n   * @param {CallbackResponse} response\n   */\n  function skipIfhasPrecedingOrTrailingDot(match, response) {\n    const before = match.input[match.index - 1];\n    const after = match.input[match.index + match[0].length];\n    if (before === \".\" || after === \".\") {\n      response.ignoreMatch();\n    }\n  }\n\n  /** skip vs abort vs ignore\n   *\n   * @skip   - The mode is still entered and exited normally (and contains rules apply),\n   *           but all content is held and added to the parent buffer rather than being\n   *           output when the mode ends.  Mostly used with `sublanguage` to build up\n   *           a single large buffer than can be parsed by sublanguage.\n   *\n   *             - The mode begin ands ends normally.\n   *             - Content matched is added to the parent mode buffer.\n   *             - The parser cursor is moved forward normally.\n   *\n   * @abort  - A hack placeholder until we have ignore.  Aborts the mode (as if it\n   *           never matched) but DOES NOT continue to match subsequent `contains`\n   *           modes.  Abort is bad/suboptimal because it can result in modes\n   *           farther down not getting applied because an earlier rule eats the\n   *           content but then aborts.\n   *\n   *             - The mode does not begin.\n   *             - Content matched by `begin` is added to the mode buffer.\n   *             - The parser cursor is moved forward accordingly.\n   *\n   * @ignore - Ignores the mode (as if it never matched) and continues to match any\n   *           subsequent `contains` modes.  Ignore isn't technically possible with\n   *           the current parser implementation.\n   *\n   *             - The mode does not begin.\n   *             - Content matched by `begin` is ignored.\n   *             - The parser cursor is not moved forward.\n   */\n\n  /**\n   * Compiles an individual mode\n   *\n   * This can raise an error if the mode contains certain detectable known logic\n   * issues.\n   * @param {Mode} mode\n   * @param {CompiledMode | null} [parent]\n   * @returns {CompiledMode | never}\n   */\n  function compileMode(mode, parent) {\n    const cmode = /** @type CompiledMode */ (mode);\n    if (mode.compiled) return cmode;\n    mode.compiled = true;\n\n    // __beforeBegin is considered private API, internal use only\n    mode.__beforeBegin = null;\n\n    mode.keywords = mode.keywords || mode.beginKeywords;\n\n    let keywordPattern = null;\n    if (typeof mode.keywords === \"object\") {\n      keywordPattern = mode.keywords.$pattern;\n      delete mode.keywords.$pattern;\n    }\n\n    if (mode.keywords) {\n      mode.keywords = compileKeywords(mode.keywords, language.case_insensitive);\n    }\n\n    // both are not allowed\n    if (mode.lexemes && keywordPattern) {\n      throw new Error(\"ERR: Prefer `keywords.$pattern` to `mode.lexemes`, BOTH are not allowed. (see mode reference) \");\n    }\n\n    // `mode.lexemes` was the old standard before we added and now recommend\n    // using `keywords.$pattern` to pass the keyword pattern\n    cmode.keywordPatternRe = langRe(mode.lexemes || keywordPattern || /\\w+/, true);\n\n    if (parent) {\n      if (mode.beginKeywords) {\n        // for languages with keywords that include non-word characters checking for\n        // a word boundary is not sufficient, so instead we check for a word boundary\n        // or whitespace - this does no harm in any case since our keyword engine\n        // doesn't allow spaces in keywords anyways and we still check for the boundary\n        // first\n        mode.begin = '\\\\b(' + mode.beginKeywords.split(' ').join('|') + ')(?=\\\\b|\\\\s)';\n        mode.__beforeBegin = skipIfhasPrecedingOrTrailingDot;\n      }\n      if (!mode.begin) mode.begin = /\\B|\\b/;\n      cmode.beginRe = langRe(mode.begin);\n      if (mode.endSameAsBegin) mode.end = mode.begin;\n      if (!mode.end && !mode.endsWithParent) mode.end = /\\B|\\b/;\n      if (mode.end) cmode.endRe = langRe(mode.end);\n      cmode.terminator_end = source(mode.end) || '';\n      if (mode.endsWithParent && parent.terminator_end) {\n        cmode.terminator_end += (mode.end ? '|' : '') + parent.terminator_end;\n      }\n    }\n    if (mode.illegal) cmode.illegalRe = langRe(mode.illegal);\n    // eslint-disable-next-line no-undefined\n    if (mode.relevance === undefined) mode.relevance = 1;\n    if (!mode.contains) mode.contains = [];\n\n    mode.contains = [].concat(...mode.contains.map(function(c) {\n      return expandOrCloneMode(c === 'self' ? mode : c);\n    }));\n    mode.contains.forEach(function(c) { compileMode(/** @type Mode */ (c), cmode); });\n\n    if (mode.starts) {\n      compileMode(mode.starts, parent);\n    }\n\n    cmode.matcher = buildModeRegex(cmode);\n    return cmode;\n  }\n\n  // self is not valid at the top-level\n  if (language.contains && language.contains.includes('self')) {\n    throw new Error(\"ERR: contains `self` is not supported at the top-level of a language.  See documentation.\");\n  }\n  return compileMode(/** @type Mode */ (language));\n}\n\n/**\n * Determines if a mode has a dependency on it's parent or not\n *\n * If a mode does have a parent dependency then often we need to clone it if\n * it's used in multiple places so that each copy points to the correct parent,\n * where-as modes without a parent can often safely be re-used at the bottom of\n * a mode chain.\n *\n * @param {Mode | null} mode\n * @returns {boolean} - is there a dependency on the parent?\n * */\nfunction dependencyOnParent(mode) {\n  if (!mode) return false;\n\n  return mode.endsWithParent || dependencyOnParent(mode.starts);\n}\n\n/**\n * Expands a mode or clones it if necessary\n *\n * This is necessary for modes with parental dependenceis (see notes on\n * `dependencyOnParent`) and for nodes that have `variants` - which must then be\n * exploded into their own individual modes at compile time.\n *\n * @param {Mode} mode\n * @returns {Mode | Mode[]}\n * */\nfunction expandOrCloneMode(mode) {\n  if (mode.variants && !mode.cached_variants) {\n    mode.cached_variants = mode.variants.map(function(variant) {\n      return inherit(mode, { variants: null }, variant);\n    });\n  }\n\n  // EXPAND\n  // if we have variants then essentially \"replace\" the mode with the variants\n  // this happens in compileMode, where this function is called from\n  if (mode.cached_variants) {\n    return mode.cached_variants;\n  }\n\n  // CLONE\n  // if we have dependencies on parents then we need a unique\n  // instance of ourselves, so we can be reused with many\n  // different parents without issue\n  if (dependencyOnParent(mode)) {\n    return inherit(mode, { starts: mode.starts ? inherit(mode.starts) : null });\n  }\n\n  if (Object.isFrozen(mode)) {\n    return inherit(mode);\n  }\n\n  // no special dependency issues, just return ourselves\n  return mode;\n}\n\n/***********************************************\n  Keywords\n***********************************************/\n\n/**\n * Given raw keywords from a language definition, compile them.\n *\n * @param {string | Record<string,string>} rawKeywords\n * @param {boolean} caseInsensitive\n */\nfunction compileKeywords(rawKeywords, caseInsensitive) {\n  /** @type KeywordDict */\n  var compiledKeywords = {};\n\n  if (typeof rawKeywords === 'string') { // string\n    splitAndCompile('keyword', rawKeywords);\n  } else {\n    Object.keys(rawKeywords).forEach(function(className) {\n      splitAndCompile(className, rawKeywords[className]);\n    });\n  }\n  return compiledKeywords;\n\n  // ---\n\n  /**\n   * Compiles an individual list of keywords\n   *\n   * Ex: \"for if when while|5\"\n   *\n   * @param {string} className\n   * @param {string} keywordList\n   */\n  function splitAndCompile(className, keywordList) {\n    if (caseInsensitive) {\n      keywordList = keywordList.toLowerCase();\n    }\n    keywordList.split(' ').forEach(function(keyword) {\n      var pair = keyword.split('|');\n      compiledKeywords[pair[0]] = [className, scoreForKeyword(pair[0], pair[1])];\n    });\n  }\n}\n\n/**\n * Returns the proper score for a given keyword\n *\n * Also takes into account comment keywords, which will be scored 0 UNLESS\n * another score has been manually assigned.\n * @param {string} keyword\n * @param {string} [providedScore]\n */\nfunction scoreForKeyword(keyword, providedScore) {\n  // manual scores always win over common keywords\n  // so you can force a score of 1 if you really insist\n  if (providedScore) {\n    return Number(providedScore);\n  }\n\n  return commonKeyword(keyword) ? 0 : 1;\n}\n\n/**\n * Determines if a given keyword is common or not\n *\n * @param {string} keyword */\nfunction commonKeyword(keyword) {\n  return COMMON_KEYWORDS.includes(keyword.toLowerCase());\n}\n\nvar version = \"10.3.1\";\n\n// @ts-nocheck\n\nfunction hasValueOrEmptyAttribute(value) {\n  return Boolean(value || value === \"\");\n}\n\nconst Component = {\n  props: [\"language\", \"code\", \"autodetect\"],\n  data: function() {\n    return {\n      detectedLanguage: \"\",\n      unknownLanguage: false\n    };\n  },\n  computed: {\n    className() {\n      if (this.unknownLanguage) return \"\";\n\n      return \"hljs \" + this.detectedLanguage;\n    },\n    highlighted() {\n      // no idea what language to use, return raw code\n      if (!this.autoDetect && !hljs.getLanguage(this.language)) {\n        console.warn(`The language \"${this.language}\" you specified could not be found.`);\n        this.unknownLanguage = true;\n        return escapeHTML(this.code);\n      }\n\n      let result;\n      if (this.autoDetect) {\n        result = hljs.highlightAuto(this.code);\n        this.detectedLanguage = result.language;\n      } else {\n        result = hljs.highlight(this.language, this.code, this.ignoreIllegals);\n        this.detectectLanguage = this.language;\n      }\n      return result.value;\n    },\n    autoDetect() {\n      return !this.language || hasValueOrEmptyAttribute(this.autodetect);\n    },\n    ignoreIllegals() {\n      return true;\n    }\n  },\n  // this avoids needing to use a whole Vue compilation pipeline just\n  // to build Highlight.js\n  render(createElement) {\n    return createElement(\"pre\", {}, [\n      createElement(\"code\", {\n        class: this.className,\n        domProps: { innerHTML: this.highlighted }})\n    ]);\n  }\n  // template: `<pre><code :class=\"className\" v-html=\"highlighted\"></code></pre>`\n};\n\nconst VuePlugin = {\n  install(Vue) {\n    Vue.component('highlightjs', Component);\n  }\n};\n\n/*\nSyntax highlighting with language autodetection.\nhttps://highlightjs.org/\n*/\n\nconst escape$1 = escapeHTML;\nconst inherit$1 = inherit;\n\nconst { nodeStream: nodeStream$1, mergeStreams: mergeStreams$1 } = utils;\nconst NO_MATCH = Symbol(\"nomatch\");\n\n/**\n * @param {any} hljs - object that is extended (legacy)\n * @returns {HLJSApi}\n */\nconst HLJS = function(hljs) {\n  // Convenience variables for build-in objects\n  /** @type {unknown[]} */\n  var ArrayProto = [];\n\n  // Global internal variables used within the highlight.js library.\n  /** @type {Record<string, Language>} */\n  var languages = Object.create(null);\n  /** @type {Record<string, string>} */\n  var aliases = Object.create(null);\n  /** @type {HLJSPlugin[]} */\n  var plugins = [];\n\n  // safe/production mode - swallows more errors, tries to keep running\n  // even if a single syntax or parse hits a fatal error\n  var SAFE_MODE = true;\n  var fixMarkupRe = /(^(<[^>]+>|\\t|)+|\\n)/gm;\n  var LANGUAGE_NOT_FOUND = \"Could not find the language '{}', did you forget to load/include a language module?\";\n  /** @type {Language} */\n  const PLAINTEXT_LANGUAGE = { disableAutodetect: true, name: 'Plain text', contains: [] };\n\n  // Global options used when within external APIs. This is modified when\n  // calling the `hljs.configure` function.\n  /** @type HLJSOptions */\n  var options = {\n    noHighlightRe: /^(no-?highlight)$/i,\n    languageDetectRe: /\\blang(?:uage)?-([\\w-]+)\\b/i,\n    classPrefix: 'hljs-',\n    tabReplace: null,\n    useBR: false,\n    languages: null,\n    // beta configuration options, subject to change, welcome to discuss\n    // https://github.com/highlightjs/highlight.js/issues/1086\n    __emitter: TokenTreeEmitter\n  };\n\n  /* Utility functions */\n\n  /**\n   * Tests a language name to see if highlighting should be skipped\n   * @param {string} languageName\n   */\n  function shouldNotHighlight(languageName) {\n    return options.noHighlightRe.test(languageName);\n  }\n\n  /**\n   * @param {HighlightedHTMLElement} block - the HTML element to determine language for\n   */\n  function blockLanguage(block) {\n    var classes = block.className + ' ';\n\n    classes += block.parentNode ? block.parentNode.className : '';\n\n    // language-* takes precedence over non-prefixed class names.\n    const match = options.languageDetectRe.exec(classes);\n    if (match) {\n      var language = getLanguage(match[1]);\n      if (!language) {\n        console.warn(LANGUAGE_NOT_FOUND.replace(\"{}\", match[1]));\n        console.warn(\"Falling back to no-highlight mode for this block.\", block);\n      }\n      return language ? match[1] : 'no-highlight';\n    }\n\n    return classes\n      .split(/\\s+/)\n      .find((_class) => shouldNotHighlight(_class) || getLanguage(_class));\n  }\n\n  /**\n   * Core highlighting function.\n   *\n   * @param {string} languageName - the language to use for highlighting\n   * @param {string} code - the code to highlight\n   * @param {boolean} [ignoreIllegals] - whether to ignore illegal matches, default is to bail\n   * @param {Mode} [continuation] - current continuation mode, if any\n   *\n   * @returns {HighlightResult} Result - an object that represents the result\n   * @property {string} language - the language name\n   * @property {number} relevance - the relevance score\n   * @property {string} value - the highlighted HTML code\n   * @property {string} code - the original raw code\n   * @property {Mode} top - top of the current mode stack\n   * @property {boolean} illegal - indicates whether any illegal matches were found\n  */\n  function highlight(languageName, code, ignoreIllegals, continuation) {\n    /** @type {{ code: string, language: string, result?: any }} */\n    var context = {\n      code,\n      language: languageName\n    };\n    // the plugin can change the desired language or the code to be highlighted\n    // just be changing the object it was passed\n    fire(\"before:highlight\", context);\n\n    // a before plugin can usurp the result completely by providing it's own\n    // in which case we don't even need to call highlight\n    var result = context.result ?\n      context.result :\n      _highlight(context.language, context.code, ignoreIllegals, continuation);\n\n    result.code = context.code;\n    // the plugin can change anything in result to suite it\n    fire(\"after:highlight\", result);\n\n    return result;\n  }\n\n  /**\n   * private highlight that's used internally and does not fire callbacks\n   *\n   * @param {string} languageName - the language to use for highlighting\n   * @param {string} code - the code to highlight\n   * @param {boolean} [ignoreIllegals] - whether to ignore illegal matches, default is to bail\n   * @param {Mode} [continuation] - current continuation mode, if any\n  */\n  function _highlight(languageName, code, ignoreIllegals, continuation) {\n    var codeToHighlight = code;\n\n    /**\n     * Return keyword data if a match is a keyword\n     * @param {CompiledMode} mode - current mode\n     * @param {RegExpMatchArray} match - regexp match data\n     * @returns {KeywordData | false}\n     */\n    function keywordData(mode, match) {\n      var matchText = language.case_insensitive ? match[0].toLowerCase() : match[0];\n      return Object.prototype.hasOwnProperty.call(mode.keywords, matchText) && mode.keywords[matchText];\n    }\n\n    function processKeywords() {\n      if (!top.keywords) {\n        emitter.addText(modeBuffer);\n        return;\n      }\n\n      let lastIndex = 0;\n      top.keywordPatternRe.lastIndex = 0;\n      let match = top.keywordPatternRe.exec(modeBuffer);\n      let buf = \"\";\n\n      while (match) {\n        buf += modeBuffer.substring(lastIndex, match.index);\n        const data = keywordData(top, match);\n        if (data) {\n          const [kind, keywordRelevance] = data;\n          emitter.addText(buf);\n          buf = \"\";\n\n          relevance += keywordRelevance;\n          emitter.addKeyword(match[0], kind);\n        } else {\n          buf += match[0];\n        }\n        lastIndex = top.keywordPatternRe.lastIndex;\n        match = top.keywordPatternRe.exec(modeBuffer);\n      }\n      buf += modeBuffer.substr(lastIndex);\n      emitter.addText(buf);\n    }\n\n    function processSubLanguage() {\n      if (modeBuffer === \"\") return;\n      /** @type HighlightResult */\n      var result = null;\n\n      if (typeof top.subLanguage === 'string') {\n        if (!languages[top.subLanguage]) {\n          emitter.addText(modeBuffer);\n          return;\n        }\n        result = _highlight(top.subLanguage, modeBuffer, true, continuations[top.subLanguage]);\n        continuations[top.subLanguage] = result.top;\n      } else {\n        result = highlightAuto(modeBuffer, top.subLanguage.length ? top.subLanguage : null);\n      }\n\n      // Counting embedded language score towards the host language may be disabled\n      // with zeroing the containing mode relevance. Use case in point is Markdown that\n      // allows XML everywhere and makes every XML snippet to have a much larger Markdown\n      // score.\n      if (top.relevance > 0) {\n        relevance += result.relevance;\n      }\n      emitter.addSublanguage(result.emitter, result.language);\n    }\n\n    function processBuffer() {\n      if (top.subLanguage != null) {\n        processSubLanguage();\n      } else {\n        processKeywords();\n      }\n      modeBuffer = '';\n    }\n\n    /**\n     * @param {Mode} mode - new mode to start\n     */\n    function startNewMode(mode) {\n      if (mode.className) {\n        emitter.openNode(mode.className);\n      }\n      top = Object.create(mode, { parent: { value: top } });\n      return top;\n    }\n\n    /**\n     * @param {CompiledMode } mode - the mode to potentially end\n     * @param {RegExpMatchArray} match - the latest match\n     * @param {string} matchPlusRemainder - match plus remainder of content\n     * @returns {CompiledMode | void} - the next mode, or if void continue on in current mode\n     */\n    function endOfMode(mode, match, matchPlusRemainder) {\n      let matched = startsWith(mode.endRe, matchPlusRemainder);\n\n      if (matched) {\n        if (mode[\"on:end\"]) {\n          const resp = new Response(mode);\n          mode[\"on:end\"](match, resp);\n          if (resp.ignore) matched = false;\n        }\n\n        if (matched) {\n          while (mode.endsParent && mode.parent) {\n            mode = mode.parent;\n          }\n          return mode;\n        }\n      }\n      // even if on:end fires an `ignore` it's still possible\n      // that we might trigger the end node because of a parent mode\n      if (mode.endsWithParent) {\n        return endOfMode(mode.parent, match, matchPlusRemainder);\n      }\n    }\n\n    /**\n     * Handle matching but then ignoring a sequence of text\n     *\n     * @param {string} lexeme - string containing full match text\n     */\n    function doIgnore(lexeme) {\n      if (top.matcher.regexIndex === 0) {\n        // no more regexs to potentially match here, so we move the cursor forward one\n        // space\n        modeBuffer += lexeme[0];\n        return 1;\n      } else {\n        // no need to move the cursor, we still have additional regexes to try and\n        // match at this very spot\n        resumeScanAtSamePosition = true;\n        return 0;\n      }\n    }\n\n    /**\n     * Handle the start of a new potential mode match\n     *\n     * @param {EnhancedMatch} match - the current match\n     * @returns {number} how far to advance the parse cursor\n     */\n    function doBeginMatch(match) {\n      var lexeme = match[0];\n      var newMode = match.rule;\n\n      const resp = new Response(newMode);\n      // first internal before callbacks, then the public ones\n      const beforeCallbacks = [newMode.__beforeBegin, newMode[\"on:begin\"]];\n      for (const cb of beforeCallbacks) {\n        if (!cb) continue;\n        cb(match, resp);\n        if (resp.ignore) return doIgnore(lexeme);\n      }\n\n      if (newMode && newMode.endSameAsBegin) {\n        newMode.endRe = escape(lexeme);\n      }\n\n      if (newMode.skip) {\n        modeBuffer += lexeme;\n      } else {\n        if (newMode.excludeBegin) {\n          modeBuffer += lexeme;\n        }\n        processBuffer();\n        if (!newMode.returnBegin && !newMode.excludeBegin) {\n          modeBuffer = lexeme;\n        }\n      }\n      startNewMode(newMode);\n      // if (mode[\"after:begin\"]) {\n      //   let resp = new Response(mode);\n      //   mode[\"after:begin\"](match, resp);\n      // }\n      return newMode.returnBegin ? 0 : lexeme.length;\n    }\n\n    /**\n     * Handle the potential end of mode\n     *\n     * @param {RegExpMatchArray} match - the current match\n     */\n    function doEndMatch(match) {\n      var lexeme = match[0];\n      var matchPlusRemainder = codeToHighlight.substr(match.index);\n\n      var endMode = endOfMode(top, match, matchPlusRemainder);\n      if (!endMode) { return NO_MATCH; }\n\n      var origin = top;\n      if (origin.skip) {\n        modeBuffer += lexeme;\n      } else {\n        if (!(origin.returnEnd || origin.excludeEnd)) {\n          modeBuffer += lexeme;\n        }\n        processBuffer();\n        if (origin.excludeEnd) {\n          modeBuffer = lexeme;\n        }\n      }\n      do {\n        if (top.className) {\n          emitter.closeNode();\n        }\n        if (!top.skip && !top.subLanguage) {\n          relevance += top.relevance;\n        }\n        top = top.parent;\n      } while (top !== endMode.parent);\n      if (endMode.starts) {\n        if (endMode.endSameAsBegin) {\n          endMode.starts.endRe = endMode.endRe;\n        }\n        startNewMode(endMode.starts);\n      }\n      return origin.returnEnd ? 0 : lexeme.length;\n    }\n\n    function processContinuations() {\n      var list = [];\n      for (var current = top; current !== language; current = current.parent) {\n        if (current.className) {\n          list.unshift(current.className);\n        }\n      }\n      list.forEach(item => emitter.openNode(item));\n    }\n\n    /** @type {{type?: MatchType, index?: number, rule?: Mode}}} */\n    var lastMatch = {};\n\n    /**\n     *  Process an individual match\n     *\n     * @param {string} textBeforeMatch - text preceeding the match (since the last match)\n     * @param {EnhancedMatch} [match] - the match itself\n     */\n    function processLexeme(textBeforeMatch, match) {\n      var lexeme = match && match[0];\n\n      // add non-matched text to the current mode buffer\n      modeBuffer += textBeforeMatch;\n\n      if (lexeme == null) {\n        processBuffer();\n        return 0;\n      }\n\n      // we've found a 0 width match and we're stuck, so we need to advance\n      // this happens when we have badly behaved rules that have optional matchers to the degree that\n      // sometimes they can end up matching nothing at all\n      // Ref: https://github.com/highlightjs/highlight.js/issues/2140\n      if (lastMatch.type === \"begin\" && match.type === \"end\" && lastMatch.index === match.index && lexeme === \"\") {\n        // spit the \"skipped\" character that our regex choked on back into the output sequence\n        modeBuffer += codeToHighlight.slice(match.index, match.index + 1);\n        if (!SAFE_MODE) {\n          /** @type {AnnotatedError} */\n          const err = new Error('0 width match regex');\n          err.languageName = languageName;\n          err.badRule = lastMatch.rule;\n          throw err;\n        }\n        return 1;\n      }\n      lastMatch = match;\n\n      if (match.type === \"begin\") {\n        return doBeginMatch(match);\n      } else if (match.type === \"illegal\" && !ignoreIllegals) {\n        // illegal match, we do not continue processing\n        /** @type {AnnotatedError} */\n        const err = new Error('Illegal lexeme \"' + lexeme + '\" for mode \"' + (top.className || '<unnamed>') + '\"');\n        err.mode = top;\n        throw err;\n      } else if (match.type === \"end\") {\n        var processed = doEndMatch(match);\n        if (processed !== NO_MATCH) {\n          return processed;\n        }\n      }\n\n      // edge case for when illegal matches $ (end of line) which is technically\n      // a 0 width match but not a begin/end match so it's not caught by the\n      // first handler (when ignoreIllegals is true)\n      if (match.type === \"illegal\" && lexeme === \"\") {\n        // advance so we aren't stuck in an infinite loop\n        return 1;\n      }\n\n      // infinite loops are BAD, this is a last ditch catch all. if we have a\n      // decent number of iterations yet our index (cursor position in our\n      // parsing) still 3x behind our index then something is very wrong\n      // so we bail\n      if (iterations > 100000 && iterations > match.index * 3) {\n        const err = new Error('potential infinite loop, way more iterations than matches');\n        throw err;\n      }\n\n      /*\n      Why might be find ourselves here?  Only one occasion now.  An end match that was\n      triggered but could not be completed.  When might this happen?  When an `endSameasBegin`\n      rule sets the end rule to a specific match.  Since the overall mode termination rule that's\n      being used to scan the text isn't recompiled that means that any match that LOOKS like\n      the end (but is not, because it is not an exact match to the beginning) will\n      end up here.  A definite end match, but when `doEndMatch` tries to \"reapply\"\n      the end rule and fails to match, we wind up here, and just silently ignore the end.\n\n      This causes no real harm other than stopping a few times too many.\n      */\n\n      modeBuffer += lexeme;\n      return lexeme.length;\n    }\n\n    var language = getLanguage(languageName);\n    if (!language) {\n      console.error(LANGUAGE_NOT_FOUND.replace(\"{}\", languageName));\n      throw new Error('Unknown language: \"' + languageName + '\"');\n    }\n\n    var md = compileLanguage(language);\n    var result = '';\n    /** @type {CompiledMode} */\n    var top = continuation || md;\n    /** @type Record<string,Mode> */\n    var continuations = {}; // keep continuations for sub-languages\n    var emitter = new options.__emitter(options);\n    processContinuations();\n    var modeBuffer = '';\n    var relevance = 0;\n    var index = 0;\n    var iterations = 0;\n    var resumeScanAtSamePosition = false;\n\n    try {\n      top.matcher.considerAll();\n\n      for (;;) {\n        iterations++;\n        if (resumeScanAtSamePosition) {\n          // only regexes not matched previously will now be\n          // considered for a potential match\n          resumeScanAtSamePosition = false;\n        } else {\n          top.matcher.considerAll();\n        }\n        top.matcher.lastIndex = index;\n\n        const match = top.matcher.exec(codeToHighlight);\n        // console.log(\"match\", match[0], match.rule && match.rule.begin)\n\n        if (!match) break;\n\n        const beforeMatch = codeToHighlight.substring(index, match.index);\n        const processedCount = processLexeme(beforeMatch, match);\n        index = match.index + processedCount;\n      }\n      processLexeme(codeToHighlight.substr(index));\n      emitter.closeAllNodes();\n      emitter.finalize();\n      result = emitter.toHTML();\n\n      return {\n        relevance: relevance,\n        value: result,\n        language: languageName,\n        illegal: false,\n        emitter: emitter,\n        top: top\n      };\n    } catch (err) {\n      if (err.message && err.message.includes('Illegal')) {\n        return {\n          illegal: true,\n          illegalBy: {\n            msg: err.message,\n            context: codeToHighlight.slice(index - 100, index + 100),\n            mode: err.mode\n          },\n          sofar: result,\n          relevance: 0,\n          value: escape$1(codeToHighlight),\n          emitter: emitter\n        };\n      } else if (SAFE_MODE) {\n        return {\n          illegal: false,\n          relevance: 0,\n          value: escape$1(codeToHighlight),\n          emitter: emitter,\n          language: languageName,\n          top: top,\n          errorRaised: err\n        };\n      } else {\n        throw err;\n      }\n    }\n  }\n\n  /**\n   * returns a valid highlight result, without actually doing any actual work,\n   * auto highlight starts with this and it's possible for small snippets that\n   * auto-detection may not find a better match\n   * @param {string} code\n   * @returns {HighlightResult}\n   */\n  function justTextHighlightResult(code) {\n    const result = {\n      relevance: 0,\n      emitter: new options.__emitter(options),\n      value: escape$1(code),\n      illegal: false,\n      top: PLAINTEXT_LANGUAGE\n    };\n    result.emitter.addText(code);\n    return result;\n  }\n\n  /**\n  Highlighting with language detection. Accepts a string with the code to\n  highlight. Returns an object with the following properties:\n\n  - language (detected language)\n  - relevance (int)\n  - value (an HTML string with highlighting markup)\n  - second_best (object with the same structure for second-best heuristically\n    detected language, may be absent)\n\n    @param {string} code\n    @param {Array<string>} [languageSubset]\n    @returns {AutoHighlightResult}\n  */\n  function highlightAuto(code, languageSubset) {\n    languageSubset = languageSubset || options.languages || Object.keys(languages);\n    var result = justTextHighlightResult(code);\n    var secondBest = result;\n    languageSubset.filter(getLanguage).filter(autoDetection).forEach(function(name) {\n      var current = _highlight(name, code, false);\n      current.language = name;\n      if (current.relevance > secondBest.relevance) {\n        secondBest = current;\n      }\n      if (current.relevance > result.relevance) {\n        secondBest = result;\n        result = current;\n      }\n    });\n    if (secondBest.language) {\n      // second_best (with underscore) is the expected API\n      result.second_best = secondBest;\n    }\n    return result;\n  }\n\n  /**\n  Post-processing of the highlighted markup:\n\n  - replace TABs with something more useful\n  - replace real line-breaks with '<br>' for non-pre containers\n\n    @param {string} html\n    @returns {string}\n  */\n  function fixMarkup(html) {\n    if (!(options.tabReplace || options.useBR)) {\n      return html;\n    }\n\n    return html.replace(fixMarkupRe, match => {\n      if (match === '\\n') {\n        return options.useBR ? '<br>' : match;\n      } else if (options.tabReplace) {\n        return match.replace(/\\t/g, options.tabReplace);\n      }\n      return match;\n    });\n  }\n\n  /**\n   * Builds new class name for block given the language name\n   *\n   * @param {string} prevClassName\n   * @param {string} [currentLang]\n   * @param {string} [resultLang]\n   */\n  function buildClassName(prevClassName, currentLang, resultLang) {\n    var language = currentLang ? aliases[currentLang] : resultLang;\n    var result = [prevClassName.trim()];\n\n    if (!prevClassName.match(/\\bhljs\\b/)) {\n      result.push('hljs');\n    }\n\n    if (!prevClassName.includes(language)) {\n      result.push(language);\n    }\n\n    return result.join(' ').trim();\n  }\n\n  /**\n   * Applies highlighting to a DOM node containing code. Accepts a DOM node and\n   * two optional parameters for fixMarkup.\n   *\n   * @param {HighlightedHTMLElement} element - the HTML element to highlight\n  */\n  function highlightBlock(element) {\n    /** @type HTMLElement */\n    let node = null;\n    const language = blockLanguage(element);\n\n    if (shouldNotHighlight(language)) return;\n\n    fire(\"before:highlightBlock\",\n      { block: element, language: language });\n\n    if (options.useBR) {\n      node = document.createElement('div');\n      node.innerHTML = element.innerHTML.replace(/\\n/g, '').replace(/<br[ /]*>/g, '\\n');\n    } else {\n      node = element;\n    }\n    const text = node.textContent;\n    const result = language ? highlight(language, text, true) : highlightAuto(text);\n\n    const originalStream = nodeStream$1(node);\n    if (originalStream.length) {\n      const resultNode = document.createElement('div');\n      resultNode.innerHTML = result.value;\n      result.value = mergeStreams$1(originalStream, nodeStream$1(resultNode), text);\n    }\n    result.value = fixMarkup(result.value);\n\n    fire(\"after:highlightBlock\", { block: element, result: result });\n\n    element.innerHTML = result.value;\n    element.className = buildClassName(element.className, language, result.language);\n    element.result = {\n      language: result.language,\n      // TODO: remove with version 11.0\n      re: result.relevance,\n      relavance: result.relevance\n    };\n    if (result.second_best) {\n      element.second_best = {\n        language: result.second_best.language,\n        // TODO: remove with version 11.0\n        re: result.second_best.relevance,\n        relavance: result.second_best.relevance\n      };\n    }\n  }\n\n  /**\n   * Updates highlight.js global options with the passed options\n   *\n   * @param {{}} userOptions\n   */\n  function configure(userOptions) {\n    if (userOptions.useBR) {\n      console.warn(\"'useBR' option is deprecated and will be removed entirely in v11.0\");\n      console.warn(\"Please see https://github.com/highlightjs/highlight.js/issues/2559\");\n    }\n    options = inherit$1(options, userOptions);\n  }\n\n  /**\n   * Highlights to all <pre><code> blocks on a page\n   *\n   * @type {Function & {called?: boolean}}\n   */\n  const initHighlighting = () => {\n    if (initHighlighting.called) return;\n    initHighlighting.called = true;\n\n    var blocks = document.querySelectorAll('pre code');\n    ArrayProto.forEach.call(blocks, highlightBlock);\n  };\n\n  // Higlights all when DOMContentLoaded fires\n  function initHighlightingOnLoad() {\n    // @ts-ignore\n    window.addEventListener('DOMContentLoaded', initHighlighting, false);\n  }\n\n  /**\n   * Register a language grammar module\n   *\n   * @param {string} languageName\n   * @param {LanguageFn} languageDefinition\n   */\n  function registerLanguage(languageName, languageDefinition) {\n    var lang = null;\n    try {\n      lang = languageDefinition(hljs);\n    } catch (error) {\n      console.error(\"Language definition for '{}' could not be registered.\".replace(\"{}\", languageName));\n      // hard or soft error\n      if (!SAFE_MODE) { throw error; } else { console.error(error); }\n      // languages that have serious errors are replaced with essentially a\n      // \"plaintext\" stand-in so that the code blocks will still get normal\n      // css classes applied to them - and one bad language won't break the\n      // entire highlighter\n      lang = PLAINTEXT_LANGUAGE;\n    }\n    // give it a temporary name if it doesn't have one in the meta-data\n    if (!lang.name) lang.name = languageName;\n    languages[languageName] = lang;\n    lang.rawDefinition = languageDefinition.bind(null, hljs);\n\n    if (lang.aliases) {\n      registerAliases(lang.aliases, { languageName });\n    }\n  }\n\n  /**\n   * @returns {string[]} List of language internal names\n   */\n  function listLanguages() {\n    return Object.keys(languages);\n  }\n\n  /**\n    intended usage: When one language truly requires another\n\n    Unlike `getLanguage`, this will throw when the requested language\n    is not available.\n\n    @param {string} name - name of the language to fetch/require\n    @returns {Language | never}\n  */\n  function requireLanguage(name) {\n    var lang = getLanguage(name);\n    if (lang) { return lang; }\n\n    var err = new Error('The \\'{}\\' language is required, but not loaded.'.replace('{}', name));\n    throw err;\n  }\n\n  /**\n   * @param {string} name - name of the language to retrieve\n   * @returns {Language | undefined}\n   */\n  function getLanguage(name) {\n    name = (name || '').toLowerCase();\n    return languages[name] || languages[aliases[name]];\n  }\n\n  /**\n   *\n   * @param {string|string[]} aliasList - single alias or list of aliases\n   * @param {{languageName: string}} opts\n   */\n  function registerAliases(aliasList, { languageName }) {\n    if (typeof aliasList === 'string') {\n      aliasList = [aliasList];\n    }\n    aliasList.forEach(alias => { aliases[alias] = languageName; });\n  }\n\n  /**\n   * Determines if a given language has auto-detection enabled\n   * @param {string} name - name of the language\n   */\n  function autoDetection(name) {\n    var lang = getLanguage(name);\n    return lang && !lang.disableAutodetect;\n  }\n\n  /**\n   * @param {HLJSPlugin} plugin\n   */\n  function addPlugin(plugin) {\n    plugins.push(plugin);\n  }\n\n  /**\n   *\n   * @param {PluginEvent} event\n   * @param {any} args\n   */\n  function fire(event, args) {\n    var cb = event;\n    plugins.forEach(function(plugin) {\n      if (plugin[cb]) {\n        plugin[cb](args);\n      }\n    });\n  }\n\n  /**\n  Note: fixMarkup is deprecated and will be removed entirely in v11\n\n  @param {string} arg\n  @returns {string}\n  */\n  function deprecateFixMarkup(arg) {\n    console.warn(\"fixMarkup is deprecated and will be removed entirely in v11.0\");\n    console.warn(\"Please see https://github.com/highlightjs/highlight.js/issues/2534\");\n\n    return fixMarkup(arg);\n  }\n\n  /* Interface definition */\n  Object.assign(hljs, {\n    highlight,\n    highlightAuto,\n    fixMarkup: deprecateFixMarkup,\n    highlightBlock,\n    configure,\n    initHighlighting,\n    initHighlightingOnLoad,\n    registerLanguage,\n    listLanguages,\n    getLanguage,\n    registerAliases,\n    requireLanguage,\n    autoDetection,\n    inherit: inherit$1,\n    addPlugin,\n    // plugins for frameworks\n    vuePlugin: VuePlugin\n  });\n\n  hljs.debugMode = function() { SAFE_MODE = false; };\n  hljs.safeMode = function() { SAFE_MODE = true; };\n  hljs.versionString = version;\n\n  for (const key in MODES) {\n    // @ts-ignore\n    if (typeof MODES[key] === \"object\") {\n      // @ts-ignore\n      deepFreeze(MODES[key]);\n    }\n  }\n\n  // merge all the modes/regexs into our main object\n  Object.assign(hljs, MODES);\n\n  return hljs;\n};\n\n// export an \"instance\" of the highlighter\nvar highlight = HLJS({});\n\nmodule.exports = highlight;\n","/*\nLanguage: CSS\nCategory: common, css\nWebsite: https://developer.mozilla.org/en-US/docs/Web/CSS\n*/\n\n/** @type LanguageFn */\nfunction css(hljs) {\n  var FUNCTION_LIKE = {\n    begin: /[\\w-]+\\(/, returnBegin: true,\n    contains: [\n      {\n        className: 'built_in',\n        begin: /[\\w-]+/\n      },\n      {\n        begin: /\\(/, end: /\\)/,\n        contains: [\n          hljs.APOS_STRING_MODE,\n          hljs.QUOTE_STRING_MODE,\n          hljs.CSS_NUMBER_MODE,\n        ]\n      }\n    ]\n  };\n  var ATTRIBUTE = {\n    className: 'attribute',\n    begin: /\\S/, end: ':', excludeEnd: true,\n    starts: {\n      endsWithParent: true, excludeEnd: true,\n      contains: [\n        FUNCTION_LIKE,\n        hljs.CSS_NUMBER_MODE,\n        hljs.QUOTE_STRING_MODE,\n        hljs.APOS_STRING_MODE,\n        hljs.C_BLOCK_COMMENT_MODE,\n        {\n          className: 'number', begin: '#[0-9A-Fa-f]+'\n        },\n        {\n          className: 'meta', begin: '!important'\n        }\n      ]\n    }\n  };\n  var AT_IDENTIFIER = '@[a-z-]+'; // @font-face\n  var AT_MODIFIERS = \"and or not only\";\n  var AT_PROPERTY_RE = /@\\-?\\w[\\w]*(\\-\\w+)*/; // @-webkit-keyframes\n  var IDENT_RE = '[a-zA-Z-][a-zA-Z0-9_-]*';\n  var RULE = {\n    begin: /(?:[A-Z\\_\\.\\-]+|--[a-zA-Z0-9_-]+)\\s*:/, returnBegin: true, end: ';', endsWithParent: true,\n    contains: [\n      ATTRIBUTE\n    ]\n  };\n\n  return {\n    name: 'CSS',\n    case_insensitive: true,\n    illegal: /[=\\/|'\\$]/,\n    contains: [\n      hljs.C_BLOCK_COMMENT_MODE,\n      {\n        className: 'selector-id', begin: /#[A-Za-z0-9_-]+/\n      },\n      {\n        className: 'selector-class', begin: /\\.[A-Za-z0-9_-]+/\n      },\n      {\n        className: 'selector-attr',\n        begin: /\\[/, end: /\\]/,\n        illegal: '$',\n        contains: [\n          hljs.APOS_STRING_MODE,\n          hljs.QUOTE_STRING_MODE,\n        ]\n      },\n      {\n        className: 'selector-pseudo',\n        begin: /:(:)?[a-zA-Z0-9\\_\\-\\+\\(\\)\"'.]+/\n      },\n      // matching these here allows us to treat them more like regular CSS\n      // rules so everything between the {} gets regular rule highlighting,\n      // which is what we want for page and font-face\n      {\n        begin: '@(page|font-face)',\n        lexemes: AT_IDENTIFIER,\n        keywords: '@page @font-face'\n      },\n      {\n        begin: '@', end: '[{;]', // at_rule eating first \"{\" is a good thing\n                                 // because it doesnt let it to be parsed as\n                                 // a rule set but instead drops parser into\n                                 // the default mode which is how it should be.\n        illegal: /:/, // break on Less variables @var: ...\n        returnBegin: true,\n        contains: [\n          {\n            className: 'keyword',\n            begin: AT_PROPERTY_RE\n          },\n          {\n            begin: /\\s/, endsWithParent: true, excludeEnd: true,\n            relevance: 0,\n            keywords: AT_MODIFIERS,\n            contains: [\n              {\n                begin: /[a-z-]+:/,\n                className:\"attribute\"\n              },\n              hljs.APOS_STRING_MODE,\n              hljs.QUOTE_STRING_MODE,\n              hljs.CSS_NUMBER_MODE\n            ]\n          }\n        ]\n      },\n      {\n        className: 'selector-tag', begin: IDENT_RE,\n        relevance: 0\n      },\n      {\n        begin: '{', end: '}',\n        illegal: /\\S/,\n        contains: [\n          hljs.C_BLOCK_COMMENT_MODE,\n          RULE,\n        ]\n      }\n    ]\n  };\n}\n\nmodule.exports = css;\n","const IDENT_RE = '[A-Za-z$_][0-9A-Za-z$_]*';\nconst KEYWORDS = [\n  \"as\", // for exports\n  \"in\",\n  \"of\",\n  \"if\",\n  \"for\",\n  \"while\",\n  \"finally\",\n  \"var\",\n  \"new\",\n  \"function\",\n  \"do\",\n  \"return\",\n  \"void\",\n  \"else\",\n  \"break\",\n  \"catch\",\n  \"instanceof\",\n  \"with\",\n  \"throw\",\n  \"case\",\n  \"default\",\n  \"try\",\n  \"switch\",\n  \"continue\",\n  \"typeof\",\n  \"delete\",\n  \"let\",\n  \"yield\",\n  \"const\",\n  \"class\",\n  // JS handles these with a special rule\n  // \"get\",\n  // \"set\",\n  \"debugger\",\n  \"async\",\n  \"await\",\n  \"static\",\n  \"import\",\n  \"from\",\n  \"export\",\n  \"extends\"\n];\nconst LITERALS = [\n  \"true\",\n  \"false\",\n  \"null\",\n  \"undefined\",\n  \"NaN\",\n  \"Infinity\"\n];\n\nconst TYPES = [\n  \"Intl\",\n  \"DataView\",\n  \"Number\",\n  \"Math\",\n  \"Date\",\n  \"String\",\n  \"RegExp\",\n  \"Object\",\n  \"Function\",\n  \"Boolean\",\n  \"Error\",\n  \"Symbol\",\n  \"Set\",\n  \"Map\",\n  \"WeakSet\",\n  \"WeakMap\",\n  \"Proxy\",\n  \"Reflect\",\n  \"JSON\",\n  \"Promise\",\n  \"Float64Array\",\n  \"Int16Array\",\n  \"Int32Array\",\n  \"Int8Array\",\n  \"Uint16Array\",\n  \"Uint32Array\",\n  \"Float32Array\",\n  \"Array\",\n  \"Uint8Array\",\n  \"Uint8ClampedArray\",\n  \"ArrayBuffer\"\n];\n\nconst ERROR_TYPES = [\n  \"EvalError\",\n  \"InternalError\",\n  \"RangeError\",\n  \"ReferenceError\",\n  \"SyntaxError\",\n  \"TypeError\",\n  \"URIError\"\n];\n\nconst BUILT_IN_GLOBALS = [\n  \"setInterval\",\n  \"setTimeout\",\n  \"clearInterval\",\n  \"clearTimeout\",\n\n  \"require\",\n  \"exports\",\n\n  \"eval\",\n  \"isFinite\",\n  \"isNaN\",\n  \"parseFloat\",\n  \"parseInt\",\n  \"decodeURI\",\n  \"decodeURIComponent\",\n  \"encodeURI\",\n  \"encodeURIComponent\",\n  \"escape\",\n  \"unescape\"\n];\n\nconst BUILT_IN_VARIABLES = [\n  \"arguments\",\n  \"this\",\n  \"super\",\n  \"console\",\n  \"window\",\n  \"document\",\n  \"localStorage\",\n  \"module\",\n  \"global\" // Node.js\n];\n\nconst BUILT_INS = [].concat(\n  BUILT_IN_GLOBALS,\n  BUILT_IN_VARIABLES,\n  TYPES,\n  ERROR_TYPES\n);\n\n/**\n * @param {string} value\n * @returns {RegExp}\n * */\n\n/**\n * @param {RegExp | string } re\n * @returns {string}\n */\nfunction source(re) {\n  if (!re) return null;\n  if (typeof re === \"string\") return re;\n\n  return re.source;\n}\n\n/**\n * @param {RegExp | string } re\n * @returns {string}\n */\nfunction lookahead(re) {\n  return concat('(?=', re, ')');\n}\n\n/**\n * @param {RegExp | string } re\n * @returns {string}\n */\nfunction optional(re) {\n  return concat('(', re, ')?');\n}\n\n/**\n * @param {...(RegExp | string) } args\n * @returns {string}\n */\nfunction concat(...args) {\n  const joined = args.map((x) => source(x)).join(\"\");\n  return joined;\n}\n\n/* eslint-disable no-unreachable */\n\n/** @type LanguageFn */\nfunction javascript(hljs) {\n  /**\n   * Takes a string like \"<Booger\" and checks to see\n   * if we can find a matching \"</Booger\" later in the\n   * content.\n   * @param {RegExpMatchArray} match\n   * @param {{after:number}} param1\n   */\n  const hasClosingTag = (match, { after }) => {\n    const tag = match[0].replace(\"<\", \"</\");\n    const pos = match.input.indexOf(tag, after);\n    return pos !== -1;\n  };\n\n  const IDENT_RE$1 = IDENT_RE;\n  const FRAGMENT = {\n    begin: '<>',\n    end: '</>'\n  };\n  const XML_TAG = {\n    begin: /<[A-Za-z0-9\\\\._:-]+/,\n    end: /\\/[A-Za-z0-9\\\\._:-]+>|\\/>/,\n    /**\n     * @param {RegExpMatchArray} match\n     * @param {CallbackResponse} response\n     */\n    isTrulyOpeningTag: (match, response) => {\n      const afterMatchIndex = match[0].length + match.index;\n      const nextChar = match.input[afterMatchIndex];\n      // nested type?\n      // HTML should not include another raw `<` inside a tag\n      // But a type might: `<Array<Array<number>>`, etc.\n      if (nextChar === \"<\") {\n        response.ignoreMatch();\n        return;\n      }\n      // <something>\n      // This is now either a tag or a type.\n      if (nextChar === \">\") {\n        // if we cannot find a matching closing tag, then we\n        // will ignore it\n        if (!hasClosingTag(match, { after: afterMatchIndex })) {\n          response.ignoreMatch();\n        }\n      }\n    }\n  };\n  const KEYWORDS$1 = {\n    $pattern: IDENT_RE,\n    keyword: KEYWORDS.join(\" \"),\n    literal: LITERALS.join(\" \"),\n    built_in: BUILT_INS.join(\" \")\n  };\n  const nonDecimalLiterals = (prefixLetters, validChars) =>\n    `\\\\b0[${prefixLetters}][${validChars}]([${validChars}_]*[${validChars}])?n?`;\n  const noLeadingZeroDecimalDigits = /[1-9]([0-9_]*\\d)?/;\n  const decimalDigits = /\\d([0-9_]*\\d)?/;\n  const exponentPart = concat(/[eE][+-]?/, decimalDigits);\n  const NUMBER = {\n    className: 'number',\n    variants: [\n      { begin: nonDecimalLiterals('bB', '01') }, // Binary literals\n      { begin: nonDecimalLiterals('oO', '0-7') }, // Octal literals\n      { begin: nonDecimalLiterals('xX', '0-9a-fA-F') }, // Hexadecimal literals\n      { begin: concat(/\\b/, noLeadingZeroDecimalDigits, 'n') }, // Non-zero BigInt literals\n      { begin: concat(/(\\b0)?\\./, decimalDigits, optional(exponentPart)) }, // Decimal literals between 0 and 1\n      { begin: concat(\n        /\\b/,\n        noLeadingZeroDecimalDigits,\n        optional(concat(/\\./, optional(decimalDigits))), // fractional part\n        optional(exponentPart)\n        ) }, // Decimal literals >= 1\n      { begin: /\\b0[\\.n]?/ }, // Zero literals (`0`, `0.`, `0n`)\n    ],\n    relevance: 0\n  };\n  const SUBST = {\n    className: 'subst',\n    begin: '\\\\$\\\\{',\n    end: '\\\\}',\n    keywords: KEYWORDS$1,\n    contains: [] // defined later\n  };\n  const HTML_TEMPLATE = {\n    begin: 'html`',\n    end: '',\n    starts: {\n      end: '`',\n      returnEnd: false,\n      contains: [\n        hljs.BACKSLASH_ESCAPE,\n        SUBST\n      ],\n      subLanguage: 'xml'\n    }\n  };\n  const CSS_TEMPLATE = {\n    begin: 'css`',\n    end: '',\n    starts: {\n      end: '`',\n      returnEnd: false,\n      contains: [\n        hljs.BACKSLASH_ESCAPE,\n        SUBST\n      ],\n      subLanguage: 'css'\n    }\n  };\n  const TEMPLATE_STRING = {\n    className: 'string',\n    begin: '`',\n    end: '`',\n    contains: [\n      hljs.BACKSLASH_ESCAPE,\n      SUBST\n    ]\n  };\n  const JSDOC_COMMENT = hljs.COMMENT(\n    '/\\\\*\\\\*',\n    '\\\\*/',\n    {\n      relevance: 0,\n      contains: [\n        {\n          className: 'doctag',\n          begin: '@[A-Za-z]+',\n          contains: [\n            {\n              className: 'type',\n              begin: '\\\\{',\n              end: '\\\\}',\n              relevance: 0\n            },\n            {\n              className: 'variable',\n              begin: IDENT_RE$1 + '(?=\\\\s*(-)|$)',\n              endsParent: true,\n              relevance: 0\n            },\n            // eat spaces (not newlines) so we can find\n            // types or variables\n            {\n              begin: /(?=[^\\n])\\s/,\n              relevance: 0\n            }\n          ]\n        }\n      ]\n    }\n  );\n  const COMMENT = {\n    className: \"comment\",\n    variants: [\n      JSDOC_COMMENT,\n      hljs.C_BLOCK_COMMENT_MODE,\n      hljs.C_LINE_COMMENT_MODE\n    ]\n  };\n  const SUBST_INTERNALS = [\n    hljs.APOS_STRING_MODE,\n    hljs.QUOTE_STRING_MODE,\n    HTML_TEMPLATE,\n    CSS_TEMPLATE,\n    TEMPLATE_STRING,\n    NUMBER,\n    hljs.REGEXP_MODE\n  ];\n  SUBST.contains = SUBST_INTERNALS\n    .concat({\n      // we need to pair up {} inside our subst to prevent\n      // it from ending too early by matching another }\n      begin: /{/,\n      end: /}/,\n      keywords: KEYWORDS$1,\n      contains: [\n        \"self\"\n      ].concat(SUBST_INTERNALS)\n    });\n  const SUBST_AND_COMMENTS = [].concat(COMMENT, SUBST.contains);\n  const PARAMS_CONTAINS = SUBST_AND_COMMENTS.concat([\n    // eat recursive parens in sub expressions\n    {\n      begin: /\\(/,\n      end: /\\)/,\n      keywords: KEYWORDS$1,\n      contains: [\"self\"].concat(SUBST_AND_COMMENTS)\n    }\n  ]);\n  const PARAMS = {\n    className: 'params',\n    begin: /\\(/,\n    end: /\\)/,\n    excludeBegin: true,\n    excludeEnd: true,\n    keywords: KEYWORDS$1,\n    contains: PARAMS_CONTAINS\n  };\n\n  return {\n    name: 'Javascript',\n    aliases: ['js', 'jsx', 'mjs', 'cjs'],\n    keywords: KEYWORDS$1,\n    // this will be extended by TypeScript\n    exports: { PARAMS_CONTAINS },\n    illegal: /#(?![$_A-z])/,\n    contains: [\n      hljs.SHEBANG({\n        label: \"shebang\",\n        binary: \"node\",\n        relevance: 5\n      }),\n      {\n        label: \"use_strict\",\n        className: 'meta',\n        relevance: 10,\n        begin: /^\\s*['\"]use (strict|asm)['\"]/\n      },\n      hljs.APOS_STRING_MODE,\n      hljs.QUOTE_STRING_MODE,\n      HTML_TEMPLATE,\n      CSS_TEMPLATE,\n      TEMPLATE_STRING,\n      COMMENT,\n      NUMBER,\n      { // object attr container\n        begin: concat(/[{,\\n]\\s*/,\n          // we need to look ahead to make sure that we actually have an\n          // attribute coming up so we don't steal a comma from a potential\n          // \"value\" container\n          //\n          // NOTE: this might not work how you think.  We don't actually always\n          // enter this mode and stay.  Instead it might merely match `,\n          // <comments up next>` and then immediately end after the , because it\n          // fails to find any actual attrs. But this still does the job because\n          // it prevents the value contain rule from grabbing this instead and\n          // prevening this rule from firing when we actually DO have keys.\n          lookahead(concat(\n            // we also need to allow for multiple possible comments inbetween\n            // the first key:value pairing\n            /(\\/\\/.*$)*/,\n            /(\\/\\*(.|\\n)*\\*\\/)*/,\n            /\\s*/,\n            IDENT_RE$1 + '\\\\s*:'))),\n        relevance: 0,\n        contains: [\n          {\n            className: 'attr',\n            begin: IDENT_RE$1 + lookahead('\\\\s*:'),\n            relevance: 0\n          }\n        ]\n      },\n      { // \"value\" container\n        begin: '(' + hljs.RE_STARTERS_RE + '|\\\\b(case|return|throw)\\\\b)\\\\s*',\n        keywords: 'return throw case',\n        contains: [\n          COMMENT,\n          hljs.REGEXP_MODE,\n          {\n            className: 'function',\n            // we have to count the parens to make sure we actually have the\n            // correct bounding ( ) before the =>.  There could be any number of\n            // sub-expressions inside also surrounded by parens.\n            begin: '(\\\\(' +\n            '[^()]*(\\\\(' +\n            '[^()]*(\\\\(' +\n            '[^()]*' +\n            '\\\\))*[^()]*' +\n            '\\\\))*[^()]*' +\n            '\\\\)|' + hljs.UNDERSCORE_IDENT_RE + ')\\\\s*=>',\n            returnBegin: true,\n            end: '\\\\s*=>',\n            contains: [\n              {\n                className: 'params',\n                variants: [\n                  {\n                    begin: hljs.UNDERSCORE_IDENT_RE\n                  },\n                  {\n                    className: null,\n                    begin: /\\(\\s*\\)/,\n                    skip: true\n                  },\n                  {\n                    begin: /\\(/,\n                    end: /\\)/,\n                    excludeBegin: true,\n                    excludeEnd: true,\n                    keywords: KEYWORDS$1,\n                    contains: PARAMS_CONTAINS\n                  }\n                ]\n              }\n            ]\n          },\n          { // could be a comma delimited list of params to a function call\n            begin: /,/, relevance: 0\n          },\n          {\n            className: '',\n            begin: /\\s/,\n            end: /\\s*/,\n            skip: true\n          },\n          { // JSX\n            variants: [\n              { begin: FRAGMENT.begin, end: FRAGMENT.end },\n              {\n                begin: XML_TAG.begin,\n                // we carefully check the opening tag to see if it truly\n                // is a tag and not a false positive\n                'on:begin': XML_TAG.isTrulyOpeningTag,\n                end: XML_TAG.end\n              }\n            ],\n            subLanguage: 'xml',\n            contains: [\n              {\n                begin: XML_TAG.begin,\n                end: XML_TAG.end,\n                skip: true,\n                contains: ['self']\n              }\n            ]\n          }\n        ],\n        relevance: 0\n      },\n      {\n        className: 'function',\n        beginKeywords: 'function',\n        end: /[{;]/,\n        excludeEnd: true,\n        keywords: KEYWORDS$1,\n        contains: [\n          'self',\n          hljs.inherit(hljs.TITLE_MODE, { begin: IDENT_RE$1 }),\n          PARAMS\n        ],\n        illegal: /%/\n      },\n      {\n        className: 'function',\n        // we have to count the parens to make sure we actually have the correct\n        // bounding ( ).  There could be any number of sub-expressions inside\n        // also surrounded by parens.\n        begin: hljs.UNDERSCORE_IDENT_RE +\n          '\\\\(' + // first parens\n          '[^()]*(\\\\(' +\n            '[^()]*(\\\\(' +\n              '[^()]*' +\n            '\\\\))*[^()]*' +\n          '\\\\))*[^()]*' +\n          '\\\\)\\\\s*{', // end parens\n        returnBegin:true,\n        contains: [\n          PARAMS,\n          hljs.inherit(hljs.TITLE_MODE, { begin: IDENT_RE$1 }),\n        ]\n      },\n      // hack: prevents detection of keywords in some circumstances\n      // .keyword()\n      // $keyword = x\n      {\n        variants: [\n          { begin: '\\\\.' + IDENT_RE$1 },\n          { begin: '\\\\$' + IDENT_RE$1 }\n        ],\n        relevance: 0\n      },\n      { // ES6 class\n        className: 'class',\n        beginKeywords: 'class',\n        end: /[{;=]/,\n        excludeEnd: true,\n        illegal: /[:\"\\[\\]]/,\n        contains: [\n          { beginKeywords: 'extends' },\n          hljs.UNDERSCORE_TITLE_MODE\n        ]\n      },\n      {\n        begin: /\\b(?=constructor)/,\n        end: /[\\{;]/,\n        excludeEnd: true,\n        contains: [\n          hljs.inherit(hljs.TITLE_MODE, { begin: IDENT_RE$1 }),\n          'self',\n          PARAMS\n        ]\n      },\n      {\n        begin: '(get|set)\\\\s+(?=' + IDENT_RE$1 + '\\\\()',\n        end: /{/,\n        keywords: \"get set\",\n        contains: [\n          hljs.inherit(hljs.TITLE_MODE, { begin: IDENT_RE$1 }),\n          { begin: /\\(\\)/ }, // eat to avoid empty params\n          PARAMS\n        ]\n      },\n      {\n        begin: /\\$[(.]/ // relevance booster for a pattern common to JS libs: `$(something)` and `$.something`\n      }\n    ]\n  };\n}\n\nmodule.exports = javascript;\n","/*\nLanguage: JSON\nDescription: JSON (JavaScript Object Notation) is a lightweight data-interchange format.\nAuthor: Ivan Sagalaev <maniac@softwaremaniacs.org>\nWebsite: http://www.json.org\nCategory: common, protocols\n*/\n\nfunction json(hljs) {\n  var LITERALS = {literal: 'true false null'};\n  var ALLOWED_COMMENTS = [\n    hljs.C_LINE_COMMENT_MODE,\n    hljs.C_BLOCK_COMMENT_MODE\n  ];\n  var TYPES = [\n    hljs.QUOTE_STRING_MODE,\n    hljs.C_NUMBER_MODE\n  ];\n  var VALUE_CONTAINER = {\n    end: ',', endsWithParent: true, excludeEnd: true,\n    contains: TYPES,\n    keywords: LITERALS\n  };\n  var OBJECT = {\n    begin: '{', end: '}',\n    contains: [\n      {\n        className: 'attr',\n        begin: /\"/, end: /\"/,\n        contains: [hljs.BACKSLASH_ESCAPE],\n        illegal: '\\\\n',\n      },\n      hljs.inherit(VALUE_CONTAINER, {begin: /:/})\n    ].concat(ALLOWED_COMMENTS),\n    illegal: '\\\\S'\n  };\n  var ARRAY = {\n    begin: '\\\\[', end: '\\\\]',\n    contains: [hljs.inherit(VALUE_CONTAINER)], // inherit is a workaround for a bug that makes shared modes with endsWithParent compile only the ending of one of the parents\n    illegal: '\\\\S'\n  };\n  TYPES.push(OBJECT, ARRAY);\n  ALLOWED_COMMENTS.forEach(function(rule) {\n    TYPES.push(rule);\n  });\n  return {\n    name: 'JSON',\n    contains: TYPES,\n    keywords: LITERALS,\n    illegal: '\\\\S'\n  };\n}\n\nmodule.exports = json;\n","/*\nLanguage: PHP\nAuthor: Victor Karamzin <Victor.Karamzin@enterra-inc.com>\nContributors: Evgeny Stepanischev <imbolk@gmail.com>, Ivan Sagalaev <maniac@softwaremaniacs.org>\nWebsite: https://www.php.net\nCategory: common\n*/\n\n/**\n * @param {HLJSApi} hljs\n * @returns {LanguageDetail}\n * */\nfunction php(hljs) {\n  var VARIABLE = {\n    begin: '\\\\$+[a-zA-Z_\\x7f-\\xff][a-zA-Z0-9_\\x7f-\\xff]*'\n  };\n  var PREPROCESSOR = {\n    className: 'meta',\n    variants: [\n      { begin: /<\\?php/, relevance: 10 }, // boost for obvious PHP\n      { begin: /<\\?[=]?/ },\n      { begin: /\\?>/ } // end php tag\n    ]\n  };\n  var SUBST = {\n    className: 'subst',\n    variants: [\n      { begin: /\\$\\w+/ },\n      { begin: /\\{\\$/, end: /\\}/ }\n    ]\n  };\n  var SINGLE_QUOTED = hljs.inherit(hljs.APOS_STRING_MODE, {\n    illegal: null,\n  });\n  var DOUBLE_QUOTED = hljs.inherit(hljs.QUOTE_STRING_MODE, {\n    illegal: null,\n    contains: hljs.QUOTE_STRING_MODE.contains.concat(SUBST),\n  });\n  var HEREDOC = hljs.END_SAME_AS_BEGIN({\n    begin: /<<<[ \\t]*(\\w+)\\n/,\n    end: /[ \\t]*(\\w+)\\b/,\n    contains: hljs.QUOTE_STRING_MODE.contains.concat(SUBST),\n  });\n  var STRING = {\n    className: 'string',\n    contains: [hljs.BACKSLASH_ESCAPE, PREPROCESSOR],\n    variants: [\n      hljs.inherit(SINGLE_QUOTED, {\n        begin: \"b'\", end: \"'\",\n      }),\n      hljs.inherit(DOUBLE_QUOTED, {\n        begin: 'b\"', end: '\"',\n      }),\n      DOUBLE_QUOTED,\n      SINGLE_QUOTED,\n      HEREDOC\n    ]\n  };\n  var NUMBER = {variants: [hljs.BINARY_NUMBER_MODE, hljs.C_NUMBER_MODE]};\n  var KEYWORDS = {\n    keyword:\n    // Magic constants:\n    // <https://www.php.net/manual/en/language.constants.predefined.php>\n    '__CLASS__ __DIR__ __FILE__ __FUNCTION__ __LINE__ __METHOD__ __NAMESPACE__ __TRAIT__ ' +\n    // Function that look like language construct or language construct that look like function:\n    // List of keywords that may not require parenthesis\n    'die echo exit include include_once print require require_once ' +\n    // These are not language construct (function) but operate on the currently-executing function and can access the current symbol table\n    // 'compact extract func_get_arg func_get_args func_num_args get_called_class get_parent_class ' +\n    // Other keywords:\n    // <https://www.php.net/manual/en/reserved.php>\n    // <https://www.php.net/manual/en/language.types.type-juggling.php>\n    'array abstract and as binary bool boolean break callable case catch class clone const continue declare default do double else elseif empty enddeclare endfor endforeach endif endswitch endwhile eval extends final finally float for foreach from global goto if implements instanceof insteadof int integer interface isset iterable list match new object or private protected public real return string switch throw trait try unset use var void while xor yield',\n    literal: 'false null true',\n    built_in:\n    // Standard PHP library:\n    // <https://www.php.net/manual/en/book.spl.php>\n    'Error|0 ' + // error is too common a name esp since PHP is case in-sensitive\n    'AppendIterator ArgumentCountError ArithmeticError ArrayIterator ArrayObject AssertionError BadFunctionCallException BadMethodCallException CachingIterator CallbackFilterIterator CompileError Countable DirectoryIterator DivisionByZeroError DomainException EmptyIterator ErrorException Exception FilesystemIterator FilterIterator GlobIterator InfiniteIterator InvalidArgumentException IteratorIterator LengthException LimitIterator LogicException MultipleIterator NoRewindIterator OutOfBoundsException OutOfRangeException OuterIterator OverflowException ParentIterator ParseError RangeException RecursiveArrayIterator RecursiveCachingIterator RecursiveCallbackFilterIterator RecursiveDirectoryIterator RecursiveFilterIterator RecursiveIterator RecursiveIteratorIterator RecursiveRegexIterator RecursiveTreeIterator RegexIterator RuntimeException SeekableIterator SplDoublyLinkedList SplFileInfo SplFileObject SplFixedArray SplHeap SplMaxHeap SplMinHeap SplObjectStorage SplObserver SplObserver SplPriorityQueue SplQueue SplStack SplSubject SplSubject SplTempFileObject TypeError UnderflowException UnexpectedValueException ' +\n    // Reserved interfaces:\n    // <https://www.php.net/manual/en/reserved.interfaces.php>\n    'ArrayAccess Closure Generator Iterator IteratorAggregate Serializable Throwable Traversable WeakReference ' +\n    // Reserved classes:\n    // <https://www.php.net/manual/en/reserved.classes.php>\n    'Directory __PHP_Incomplete_Class parent php_user_filter self static stdClass'\n  };\n  return {\n    aliases: ['php', 'php3', 'php4', 'php5', 'php6', 'php7', 'php8'],\n    case_insensitive: true,\n    keywords: KEYWORDS,\n    contains: [\n      hljs.HASH_COMMENT_MODE,\n      hljs.COMMENT('//', '$', {contains: [PREPROCESSOR]}),\n      hljs.COMMENT(\n        '/\\\\*',\n        '\\\\*/',\n        {\n          contains: [\n            {\n              className: 'doctag',\n              begin: '@[A-Za-z]+'\n            }\n          ]\n        }\n      ),\n      hljs.COMMENT(\n        '__halt_compiler.+?;',\n        false,\n        {\n          endsWithParent: true,\n          keywords: '__halt_compiler'\n        }\n      ),\n      PREPROCESSOR,\n      {\n        className: 'keyword', begin: /\\$this\\b/\n      },\n      VARIABLE,\n      {\n        // swallow composed identifiers to avoid parsing them as keywords\n        begin: /(::|->)+[a-zA-Z_\\x7f-\\xff][a-zA-Z0-9_\\x7f-\\xff]*/\n      },\n      {\n        className: 'function',\n        beginKeywords: 'fn function', end: /[;{]/, excludeEnd: true,\n        illegal: '[$%\\\\[]',\n        contains: [\n          hljs.UNDERSCORE_TITLE_MODE,\n          {\n            className: 'params',\n            begin: '\\\\(', end: '\\\\)',\n            excludeBegin: true,\n            excludeEnd: true,\n            keywords: KEYWORDS,\n            contains: [\n              'self',\n              VARIABLE,\n              hljs.C_BLOCK_COMMENT_MODE,\n              STRING,\n              NUMBER\n            ]\n          }\n        ]\n      },\n      {\n        className: 'class',\n        beginKeywords: 'class interface', end: '{', excludeEnd: true,\n        illegal: /[:\\(\\$\"]/,\n        contains: [\n          {beginKeywords: 'extends implements'},\n          hljs.UNDERSCORE_TITLE_MODE\n        ]\n      },\n      {\n        beginKeywords: 'namespace', end: ';',\n        illegal: /[\\.']/,\n        contains: [hljs.UNDERSCORE_TITLE_MODE]\n      },\n      {\n        beginKeywords: 'use', end: ';',\n        contains: [hljs.UNDERSCORE_TITLE_MODE]\n      },\n      {\n        begin: '=>' // No markup, just a relevance booster\n      },\n      STRING,\n      NUMBER\n    ]\n  };\n}\n\nmodule.exports = php;\n","/*\nLanguage: HTML, XML\nWebsite: https://www.w3.org/XML/\nCategory: common\n*/\n\nfunction xml(hljs) {\n  var XML_IDENT_RE = '[A-Za-z0-9\\\\._:-]+';\n  var XML_ENTITIES = {\n    className: 'symbol',\n    begin: '&[a-z]+;|&#[0-9]+;|&#x[a-f0-9]+;'\n  };\n  var XML_META_KEYWORDS = {\n\t  begin: '\\\\s',\n\t  contains:[\n\t    {\n\t      className: 'meta-keyword',\n\t      begin: '#?[a-z_][a-z1-9_-]+',\n\t      illegal: '\\\\n',\n      }\n\t  ]\n  };\n  var XML_META_PAR_KEYWORDS = hljs.inherit(XML_META_KEYWORDS, {begin: '\\\\(', end: '\\\\)'});\n  var APOS_META_STRING_MODE = hljs.inherit(hljs.APOS_STRING_MODE, {className: 'meta-string'});\n  var QUOTE_META_STRING_MODE = hljs.inherit(hljs.QUOTE_STRING_MODE, {className: 'meta-string'});\n  var TAG_INTERNALS = {\n    endsWithParent: true,\n    illegal: /</,\n    relevance: 0,\n    contains: [\n      {\n        className: 'attr',\n        begin: XML_IDENT_RE,\n        relevance: 0\n      },\n      {\n        begin: /=\\s*/,\n        relevance: 0,\n        contains: [\n          {\n            className: 'string',\n            endsParent: true,\n            variants: [\n              {begin: /\"/, end: /\"/, contains: [XML_ENTITIES]},\n              {begin: /'/, end: /'/, contains: [XML_ENTITIES]},\n              {begin: /[^\\s\"'=<>`]+/}\n            ]\n          }\n        ]\n      }\n    ]\n  };\n  return {\n    name: 'HTML, XML',\n    aliases: ['html', 'xhtml', 'rss', 'atom', 'xjb', 'xsd', 'xsl', 'plist', 'wsf', 'svg'],\n    case_insensitive: true,\n    contains: [\n      {\n        className: 'meta',\n        begin: '<![a-z]', end: '>',\n        relevance: 10,\n        contains: [\n\t\t\t\t  XML_META_KEYWORDS,\n\t\t\t\t  QUOTE_META_STRING_MODE,\n\t\t\t\t  APOS_META_STRING_MODE,\n\t\t\t\t\tXML_META_PAR_KEYWORDS,\n\t\t\t\t\t{\n\t\t\t\t\t  begin: '\\\\[', end: '\\\\]',\n\t\t\t\t\t  contains:[\n\t\t\t\t\t\t  {\n\t\t\t\t\t      className: 'meta',\n\t\t\t\t\t      begin: '<![a-z]', end: '>',\n\t\t\t\t\t      contains: [\n\t\t\t\t\t        XML_META_KEYWORDS,\n\t\t\t\t\t        XML_META_PAR_KEYWORDS,\n\t\t\t\t\t        QUOTE_META_STRING_MODE,\n\t\t\t\t\t        APOS_META_STRING_MODE\n\t\t\t\t\t\t    ]\n\t\t\t        }\n\t\t\t\t\t  ]\n\t\t\t\t  }\n\t\t\t\t]\n      },\n      hljs.COMMENT(\n        '<!--',\n        '-->',\n        {\n          relevance: 10\n        }\n      ),\n      {\n        begin: '<\\\\!\\\\[CDATA\\\\[', end: '\\\\]\\\\]>',\n        relevance: 10\n      },\n      XML_ENTITIES,\n      {\n        className: 'meta',\n        begin: /<\\?xml/, end: /\\?>/, relevance: 10\n      },\n      {\n        className: 'tag',\n        /*\n        The lookahead pattern (?=...) ensures that 'begin' only matches\n        '<style' as a single word, followed by a whitespace or an\n        ending braket. The '$' is needed for the lexeme to be recognized\n        by hljs.subMode() that tests lexemes outside the stream.\n        */\n        begin: '<style(?=\\\\s|>)', end: '>',\n        keywords: {name: 'style'},\n        contains: [TAG_INTERNALS],\n        starts: {\n          end: '</style>', returnEnd: true,\n          subLanguage: ['css', 'xml']\n        }\n      },\n      {\n        className: 'tag',\n        // See the comment in the <style tag about the lookahead pattern\n        begin: '<script(?=\\\\s|>)', end: '>',\n        keywords: {name: 'script'},\n        contains: [TAG_INTERNALS],\n        starts: {\n          end: '\\<\\/script\\>', returnEnd: true,\n          subLanguage: ['javascript', 'handlebars', 'xml']\n        }\n      },\n      {\n        className: 'tag',\n        begin: '</?', end: '/?>',\n        contains: [\n          {\n            className: 'name', begin: /[^\\/><\\s]+/, relevance: 0\n          },\n          TAG_INTERNALS\n        ]\n      }\n    ]\n  };\n}\n\nmodule.exports = xml;\n","!function(){function t(t,e){e=e||{bubbles:!1,cancelable:!1,detail:void 0};var n=document.createEvent(\"CustomEvent\");return n.initCustomEvent(t,e.bubbles,e.cancelable,e.detail),n}\"function\"!=typeof window.CustomEvent&&(t.prototype=window.Event.prototype,window.CustomEvent=t)}();\n","!function(){try{return new MouseEvent(\"test\")}catch(e){}var e=function(e,t){t=t||{bubbles:!1,cancelable:!1};var n=document.createEvent(\"MouseEvent\");return n.initMouseEvent(e,t.bubbles,t.cancelable,window,0,t.screenX||0,t.screenY||0,t.clientX||0,t.clientY||0,t.ctrlKey||!1,t.altKey||!1,t.shiftKey||!1,t.metaKey||!1,t.button||0,t.relatedTarget||null),n};e.prototype=Event.prototype,window.MouseEvent=e}();\n","(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n  typeof define === 'function' && define.amd ? define(factory) :\n  (global = global || self, global.sha1 = factory());\n}(this, (function () { 'use strict';\n\n  /**\n   * @file This is a SHA-1 hash generator by JavaScript.\n   * @author Hsun\n   * @description For your convenience, the code comments have been translated by Google.\n   ***/\n\n  // \n  // Message padding bits, complement the length.\n  function fillString(str) {\n    var blockAmount = ((str.length + 8) >> 6) + 1,\n      blocks = [],\n      i;\n\n    for (i = 0; i < blockAmount * 16; i++) {\n      blocks[i] = 0;\n    }\n    for (i = 0; i < str.length; i++) {\n      blocks[i >> 2] |= str.charCodeAt(i) << (24 - (i & 3) * 8);\n    }\n    blocks[i >> 2] |= 0x80 << (24 - (i & 3) * 8);\n    blocks[blockAmount * 16 - 1] = str.length * 8;\n\n    return blocks;\n  }\n\n  // \n  // Convert the input binary array to a hexadecimal string.\n  function binToHex(binArray) {\n    var hexString = \"0123456789abcdef\",\n      str = \"\",\n      i;\n\n    for (i = 0; i < binArray.length * 4; i++) {\n      str += hexString.charAt((binArray[i >> 2] >> ((3 - i % 4) * 8 + 4)) & 0xF) +\n        hexString.charAt((binArray[i >> 2] >> ((3 - i % 4) * 8)) & 0xF);\n    }\n\n    return str;\n  }\n\n  // 5number160\n  // The core function, the output is a number array with a length of 5,\n  // corresponding to a 160-bit message digest.\n  function core(blockArray) {\n    var w = [],\n      a = 0x67452301,\n      b = 0xEFCDAB89,\n      c = 0x98BADCFE,\n      d = 0x10325476,\n      e = 0xC3D2E1F0,\n      olda,\n      oldb,\n      oldc,\n      oldd,\n      olde,\n      t,\n      i,\n      j;\n\n    for (i = 0; i < blockArray.length; i += 16) {  //512 16*32\n      olda = a;\n      oldb = b;\n      oldc = c;\n      oldd = d;\n      olde = e;\n\n      for (j = 0; j < 80; j++) {  //51280\n        if (j < 16) {\n          w[j] = blockArray[i + j];\n        } else {\n          w[j] = cyclicShift(w[j - 3] ^ w[j - 8] ^ w[j - 14] ^ w[j - 16], 1);\n        }\n        t = modPlus(modPlus(cyclicShift(a, 5), ft(j, b, c, d)), modPlus(modPlus(e, w[j]), kt(j)));\n        e = d;\n        d = c;\n        c = cyclicShift(b, 30);\n        b = a;\n        a = t;\n      }\n\n      a = modPlus(a, olda);\n      b = modPlus(b, oldb);\n      c = modPlus(c, oldc);\n      d = modPlus(d, oldd);\n      e = modPlus(e, olde);\n    }\n\n    return [a, b, c, d, e];\n  }\n\n  // tf\n  // According to the t value, return the corresponding f function used in\n  // the compression function.\n  function ft(t, b, c, d) {\n    if (t < 20) {\n      return (b & c) | ((~b) & d);\n    } else if (t < 40) {\n      return b ^ c ^ d;\n    } else if (t < 60) {\n      return (b & c) | (b & d) | (c & d);\n    } else {\n      return b ^ c ^ d;\n    }\n  }\n\n  // tK\n  // According to the t value, return the corresponding K value used in\n  // the compression function.\n  function kt(t) {\n    return (t < 20) ? 0x5A827999 :\n      (t < 40) ? 0x6ED9EBA1 :\n        (t < 60) ? 0x8F1BBCDC : 0xCA62C1D6;\n  }\n\n  // 232JavaScriptnumber321616\n  // Modulo 2 to the 32nd power addition, because JavaScript's number is a\n  // double-precision floating-point number, so the 32-bit number is split\n  // into the upper 16 bits and the lower 16 bits are added separately.\n  function modPlus(x, y) {\n    var low = (x & 0xFFFF) + (y & 0xFFFF),\n      high = (x >> 16) + (y >> 16) + (low >> 16);\n\n    return (high << 16) | (low & 0xFFFF);\n  }\n\n  // 32num ,JavaScriptnumber\n  // Rotate left of the input 32-bit num binary number, because JavaScript's\n  // number is a double-precision floating-point number, so you need to pay\n  //  attention to the shift.\n  function cyclicShift(num, k) {\n    return (num << k) | (num >>> (32 - k));\n  }\n\n  // \n  // The main function calculates the message digest based on the input message\n  // string and returns the message digest in hexadecimal.\n  function sha1(s) {\n    return binToHex(core(fillString(s)));\n  }\n\n  return sha1;\n\n})));\n","/*!\n * time-stamp <https://github.com/jonschlinkert/time-stamp>\n *\n * Copyright (c) 2015-2018, Jon Schlinkert.\n * Released under the MIT License.\n */\n\n'use strict';\n\nvar dateRegex = /(?=(YYYY|YY|MM|DD|HH|mm|ss|ms))\\1([:\\/]*)/g;\nvar timespan = {\n  YYYY: ['getFullYear', 4],\n  YY: ['getFullYear', 2],\n  MM: ['getMonth', 2, 1], // getMonth is zero-based, thus the extra increment field\n  DD: ['getDate', 2],\n  HH: ['getHours', 2],\n  mm: ['getMinutes', 2],\n  ss: ['getSeconds', 2],\n  ms: ['getMilliseconds', 3]\n};\n\nvar timestamp = function(str, date, utc) {\n  if (typeof str !== 'string') {\n    date = str;\n    str = 'YYYY-MM-DD';\n  }\n\n  if (!date) date = new Date();\n  return str.replace(dateRegex, function(match, key, rest) {\n    var args = timespan[key];\n    var name = args[0];\n    var chars = args[1];\n    if (utc === true) name = 'getUTC' + name.slice(3);\n    var val = '00' + String(date[name]() + (args[2] || 0));\n    return val.slice(-chars) + (rest || '');\n  });\n};\n\ntimestamp.utc = function(str, date) {\n  return timestamp(str, date, true);\n};\n\nmodule.exports = timestamp;\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tif(__webpack_module_cache__[moduleId]) {\n\t\treturn __webpack_module_cache__[moduleId].exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","/**\n * @this {Promise}\n */\nfunction finallyConstructor(callback) {\n  var constructor = this.constructor;\n  return this.then(\n    function(value) {\n      // @ts-ignore\n      return constructor.resolve(callback()).then(function() {\n        return value;\n      });\n    },\n    function(reason) {\n      // @ts-ignore\n      return constructor.resolve(callback()).then(function() {\n        // @ts-ignore\n        return constructor.reject(reason);\n      });\n    }\n  );\n}\n\nexport default finallyConstructor;\n","function allSettled(arr) {\n  var P = this;\n  return new P(function(resolve, reject) {\n    if (!(arr && typeof arr.length !== 'undefined')) {\n      return reject(\n        new TypeError(\n          typeof arr +\n            ' ' +\n            arr +\n            ' is not iterable(cannot read property Symbol(Symbol.iterator))'\n        )\n      );\n    }\n    var args = Array.prototype.slice.call(arr);\n    if (args.length === 0) return resolve([]);\n    var remaining = args.length;\n\n    function res(i, val) {\n      if (val && (typeof val === 'object' || typeof val === 'function')) {\n        var then = val.then;\n        if (typeof then === 'function') {\n          then.call(\n            val,\n            function(val) {\n              res(i, val);\n            },\n            function(e) {\n              args[i] = { status: 'rejected', reason: e };\n              if (--remaining === 0) {\n                resolve(args);\n              }\n            }\n          );\n          return;\n        }\n      }\n      args[i] = { status: 'fulfilled', value: val };\n      if (--remaining === 0) {\n        resolve(args);\n      }\n    }\n\n    for (var i = 0; i < args.length; i++) {\n      res(i, args[i]);\n    }\n  });\n}\n\nexport default allSettled;\n","import promiseFinally from './finally';\nimport allSettled from './allSettled';\n\n// Store setTimeout reference so promise-polyfill will be unaffected by\n// other code modifying setTimeout (like sinon.useFakeTimers())\nvar setTimeoutFunc = setTimeout;\n\nfunction isArray(x) {\n  return Boolean(x && typeof x.length !== 'undefined');\n}\n\nfunction noop() {}\n\n// Polyfill for Function.prototype.bind\nfunction bind(fn, thisArg) {\n  return function() {\n    fn.apply(thisArg, arguments);\n  };\n}\n\n/**\n * @constructor\n * @param {Function} fn\n */\nfunction Promise(fn) {\n  if (!(this instanceof Promise))\n    throw new TypeError('Promises must be constructed via new');\n  if (typeof fn !== 'function') throw new TypeError('not a function');\n  /** @type {!number} */\n  this._state = 0;\n  /** @type {!boolean} */\n  this._handled = false;\n  /** @type {Promise|undefined} */\n  this._value = undefined;\n  /** @type {!Array<!Function>} */\n  this._deferreds = [];\n\n  doResolve(fn, this);\n}\n\nfunction handle(self, deferred) {\n  while (self._state === 3) {\n    self = self._value;\n  }\n  if (self._state === 0) {\n    self._deferreds.push(deferred);\n    return;\n  }\n  self._handled = true;\n  Promise._immediateFn(function() {\n    var cb = self._state === 1 ? deferred.onFulfilled : deferred.onRejected;\n    if (cb === null) {\n      (self._state === 1 ? resolve : reject)(deferred.promise, self._value);\n      return;\n    }\n    var ret;\n    try {\n      ret = cb(self._value);\n    } catch (e) {\n      reject(deferred.promise, e);\n      return;\n    }\n    resolve(deferred.promise, ret);\n  });\n}\n\nfunction resolve(self, newValue) {\n  try {\n    // Promise Resolution Procedure: https://github.com/promises-aplus/promises-spec#the-promise-resolution-procedure\n    if (newValue === self)\n      throw new TypeError('A promise cannot be resolved with itself.');\n    if (\n      newValue &&\n      (typeof newValue === 'object' || typeof newValue === 'function')\n    ) {\n      var then = newValue.then;\n      if (newValue instanceof Promise) {\n        self._state = 3;\n        self._value = newValue;\n        finale(self);\n        return;\n      } else if (typeof then === 'function') {\n        doResolve(bind(then, newValue), self);\n        return;\n      }\n    }\n    self._state = 1;\n    self._value = newValue;\n    finale(self);\n  } catch (e) {\n    reject(self, e);\n  }\n}\n\nfunction reject(self, newValue) {\n  self._state = 2;\n  self._value = newValue;\n  finale(self);\n}\n\nfunction finale(self) {\n  if (self._state === 2 && self._deferreds.length === 0) {\n    Promise._immediateFn(function() {\n      if (!self._handled) {\n        Promise._unhandledRejectionFn(self._value);\n      }\n    });\n  }\n\n  for (var i = 0, len = self._deferreds.length; i < len; i++) {\n    handle(self, self._deferreds[i]);\n  }\n  self._deferreds = null;\n}\n\n/**\n * @constructor\n */\nfunction Handler(onFulfilled, onRejected, promise) {\n  this.onFulfilled = typeof onFulfilled === 'function' ? onFulfilled : null;\n  this.onRejected = typeof onRejected === 'function' ? onRejected : null;\n  this.promise = promise;\n}\n\n/**\n * Take a potentially misbehaving resolver function and make sure\n * onFulfilled and onRejected are only called once.\n *\n * Makes no guarantees about asynchrony.\n */\nfunction doResolve(fn, self) {\n  var done = false;\n  try {\n    fn(\n      function(value) {\n        if (done) return;\n        done = true;\n        resolve(self, value);\n      },\n      function(reason) {\n        if (done) return;\n        done = true;\n        reject(self, reason);\n      }\n    );\n  } catch (ex) {\n    if (done) return;\n    done = true;\n    reject(self, ex);\n  }\n}\n\nPromise.prototype['catch'] = function(onRejected) {\n  return this.then(null, onRejected);\n};\n\nPromise.prototype.then = function(onFulfilled, onRejected) {\n  // @ts-ignore\n  var prom = new this.constructor(noop);\n\n  handle(this, new Handler(onFulfilled, onRejected, prom));\n  return prom;\n};\n\nPromise.prototype['finally'] = promiseFinally;\n\nPromise.all = function(arr) {\n  return new Promise(function(resolve, reject) {\n    if (!isArray(arr)) {\n      return reject(new TypeError('Promise.all accepts an array'));\n    }\n\n    var args = Array.prototype.slice.call(arr);\n    if (args.length === 0) return resolve([]);\n    var remaining = args.length;\n\n    function res(i, val) {\n      try {\n        if (val && (typeof val === 'object' || typeof val === 'function')) {\n          var then = val.then;\n          if (typeof then === 'function') {\n            then.call(\n              val,\n              function(val) {\n                res(i, val);\n              },\n              reject\n            );\n            return;\n          }\n        }\n        args[i] = val;\n        if (--remaining === 0) {\n          resolve(args);\n        }\n      } catch (ex) {\n        reject(ex);\n      }\n    }\n\n    for (var i = 0; i < args.length; i++) {\n      res(i, args[i]);\n    }\n  });\n};\n\nPromise.allSettled = allSettled;\n\nPromise.resolve = function(value) {\n  if (value && typeof value === 'object' && value.constructor === Promise) {\n    return value;\n  }\n\n  return new Promise(function(resolve) {\n    resolve(value);\n  });\n};\n\nPromise.reject = function(value) {\n  return new Promise(function(resolve, reject) {\n    reject(value);\n  });\n};\n\nPromise.race = function(arr) {\n  return new Promise(function(resolve, reject) {\n    if (!isArray(arr)) {\n      return reject(new TypeError('Promise.race accepts an array'));\n    }\n\n    for (var i = 0, len = arr.length; i < len; i++) {\n      Promise.resolve(arr[i]).then(resolve, reject);\n    }\n  });\n};\n\n// Use polyfill for setImmediate for performance gains\nPromise._immediateFn =\n  // @ts-ignore\n  (typeof setImmediate === 'function' &&\n    function(fn) {\n      // @ts-ignore\n      setImmediate(fn);\n    }) ||\n  function(fn) {\n    setTimeoutFunc(fn, 0);\n  };\n\nPromise._unhandledRejectionFn = function _unhandledRejectionFn(err) {\n  if (typeof console !== 'undefined' && console) {\n    console.warn('Possible Unhandled Promise Rejection:', err); // eslint-disable-line no-console\n  }\n};\n\nexport default Promise;\n","import Promise from './index';\nimport promiseFinally from './finally';\nimport allSettled from './allSettled';\n\n/** @suppress {undefinedVars} */\nvar globalNS = (function() {\n  // the only reliable means to get the global object is\n  // `Function('return this')()`\n  // However, this causes CSP violations in Chrome apps.\n  if (typeof self !== 'undefined') {\n    return self;\n  }\n  if (typeof window !== 'undefined') {\n    return window;\n  }\n  if (typeof global !== 'undefined') {\n    return global;\n  }\n  throw new Error('unable to locate global object');\n})();\n\n// Expose the polyfill if Promise is undefined or set to a\n// non-function value. The latter can be due to a named HTMLElement\n// being exposed by browsers for legacy reasons.\n// https://github.com/taylorhakes/promise-polyfill/issues/114\nif (typeof globalNS['Promise'] !== 'function') {\n  globalNS['Promise'] = Promise;\n} else if (!globalNS.Promise.prototype['finally']) {\n  globalNS.Promise.prototype['finally'] = promiseFinally;\n} else if (!globalNS.Promise.allSettled) {\n  globalNS.Promise.allSettled = allSettled;\n}\n","export function h(name, attributes) {\n  var rest = []\n  var children = []\n  var length = arguments.length\n\n  while (length-- > 2) rest.push(arguments[length])\n\n  while (rest.length) {\n    var node = rest.pop()\n    if (node && node.pop) {\n      for (length = node.length; length--; ) {\n        rest.push(node[length])\n      }\n    } else if (node != null && node !== true && node !== false) {\n      children.push(node)\n    }\n  }\n\n  return typeof name === \"function\"\n    ? name(attributes || {}, children)\n    : {\n        nodeName: name,\n        attributes: attributes || {},\n        children: children,\n        key: attributes && attributes.key\n      }\n}\n\nexport function app(state, actions, view, container) {\n  var map = [].map\n  var rootElement = (container && container.children[0]) || null\n  var oldNode = rootElement && recycleElement(rootElement)\n  var lifecycle = []\n  var skipRender\n  var isRecycling = true\n  var globalState = clone(state)\n  var wiredActions = wireStateToActions([], globalState, clone(actions))\n\n  scheduleRender()\n\n  return wiredActions\n\n  function recycleElement(element) {\n    return {\n      nodeName: element.nodeName.toLowerCase(),\n      attributes: {},\n      children: map.call(element.childNodes, function(element) {\n        return element.nodeType === 3 // Node.TEXT_NODE\n          ? element.nodeValue\n          : recycleElement(element)\n      })\n    }\n  }\n\n  function resolveNode(node) {\n    return typeof node === \"function\"\n      ? resolveNode(node(globalState, wiredActions))\n      : node != null\n        ? node\n        : \"\"\n  }\n\n  function render() {\n    skipRender = !skipRender\n\n    var node = resolveNode(view)\n\n    if (container && !skipRender) {\n      rootElement = patch(container, rootElement, oldNode, (oldNode = node))\n    }\n\n    isRecycling = false\n\n    while (lifecycle.length) lifecycle.pop()()\n  }\n\n  function scheduleRender() {\n    if (!skipRender) {\n      skipRender = true\n      setTimeout(render)\n    }\n  }\n\n  function clone(target, source) {\n    var out = {}\n\n    for (var i in target) out[i] = target[i]\n    for (var i in source) out[i] = source[i]\n\n    return out\n  }\n\n  function setPartialState(path, value, source) {\n    var target = {}\n    if (path.length) {\n      target[path[0]] =\n        path.length > 1\n          ? setPartialState(path.slice(1), value, source[path[0]])\n          : value\n      return clone(source, target)\n    }\n    return value\n  }\n\n  function getPartialState(path, source) {\n    var i = 0\n    while (i < path.length) {\n      source = source[path[i++]]\n    }\n    return source\n  }\n\n  function wireStateToActions(path, state, actions) {\n    for (var key in actions) {\n      typeof actions[key] === \"function\"\n        ? (function(key, action) {\n            actions[key] = function(data) {\n              var result = action(data)\n\n              if (typeof result === \"function\") {\n                result = result(getPartialState(path, globalState), actions)\n              }\n\n              if (\n                result &&\n                result !== (state = getPartialState(path, globalState)) &&\n                !result.then // !isPromise\n              ) {\n                scheduleRender(\n                  (globalState = setPartialState(\n                    path,\n                    clone(state, result),\n                    globalState\n                  ))\n                )\n              }\n\n              return result\n            }\n          })(key, actions[key])\n        : wireStateToActions(\n            path.concat(key),\n            (state[key] = clone(state[key])),\n            (actions[key] = clone(actions[key]))\n          )\n    }\n\n    return actions\n  }\n\n  function getKey(node) {\n    return node ? node.key : null\n  }\n\n  function eventListener(event) {\n    return event.currentTarget.events[event.type](event)\n  }\n\n  function updateAttribute(element, name, value, oldValue, isSvg) {\n    if (name === \"key\") {\n    } else if (name === \"style\") {\n      if (typeof value === \"string\") {\n        element.style.cssText = value\n      } else {\n        if (typeof oldValue === \"string\") oldValue = element.style.cssText = \"\"\n        for (var i in clone(oldValue, value)) {\n          var style = value == null || value[i] == null ? \"\" : value[i]\n          if (i[0] === \"-\") {\n            element.style.setProperty(i, style)\n          } else {\n            element.style[i] = style\n          }\n        }\n      }\n    } else {\n      if (name[0] === \"o\" && name[1] === \"n\") {\n        name = name.slice(2)\n\n        if (element.events) {\n          if (!oldValue) oldValue = element.events[name]\n        } else {\n          element.events = {}\n        }\n\n        element.events[name] = value\n\n        if (value) {\n          if (!oldValue) {\n            element.addEventListener(name, eventListener)\n          }\n        } else {\n          element.removeEventListener(name, eventListener)\n        }\n      } else if (\n        name in element &&\n        name !== \"list\" &&\n        name !== \"type\" &&\n        name !== \"draggable\" &&\n        name !== \"spellcheck\" &&\n        name !== \"translate\" &&\n        !isSvg\n      ) {\n        element[name] = value == null ? \"\" : value\n      } else if (value != null && value !== false) {\n        element.setAttribute(name, value)\n      }\n\n      if (value == null || value === false) {\n        element.removeAttribute(name)\n      }\n    }\n  }\n\n  function createElement(node, isSvg) {\n    var element =\n      typeof node === \"string\" || typeof node === \"number\"\n        ? document.createTextNode(node)\n        : (isSvg = isSvg || node.nodeName === \"svg\")\n          ? document.createElementNS(\n              \"http://www.w3.org/2000/svg\",\n              node.nodeName\n            )\n          : document.createElement(node.nodeName)\n\n    var attributes = node.attributes\n    if (attributes) {\n      if (attributes.oncreate) {\n        lifecycle.push(function() {\n          attributes.oncreate(element)\n        })\n      }\n\n      for (var i = 0; i < node.children.length; i++) {\n        element.appendChild(\n          createElement(\n            (node.children[i] = resolveNode(node.children[i])),\n            isSvg\n          )\n        )\n      }\n\n      for (var name in attributes) {\n        updateAttribute(element, name, attributes[name], null, isSvg)\n      }\n    }\n\n    return element\n  }\n\n  function updateElement(element, oldAttributes, attributes, isSvg) {\n    for (var name in clone(oldAttributes, attributes)) {\n      if (\n        attributes[name] !==\n        (name === \"value\" || name === \"checked\"\n          ? element[name]\n          : oldAttributes[name])\n      ) {\n        updateAttribute(\n          element,\n          name,\n          attributes[name],\n          oldAttributes[name],\n          isSvg\n        )\n      }\n    }\n\n    var cb = isRecycling ? attributes.oncreate : attributes.onupdate\n    if (cb) {\n      lifecycle.push(function() {\n        cb(element, oldAttributes)\n      })\n    }\n  }\n\n  function removeChildren(element, node) {\n    var attributes = node.attributes\n    if (attributes) {\n      for (var i = 0; i < node.children.length; i++) {\n        removeChildren(element.childNodes[i], node.children[i])\n      }\n\n      if (attributes.ondestroy) {\n        attributes.ondestroy(element)\n      }\n    }\n    return element\n  }\n\n  function removeElement(parent, element, node) {\n    function done() {\n      parent.removeChild(removeChildren(element, node))\n    }\n\n    var cb = node.attributes && node.attributes.onremove\n    if (cb) {\n      cb(element, done)\n    } else {\n      done()\n    }\n  }\n\n  function patch(parent, element, oldNode, node, isSvg) {\n    if (node === oldNode) {\n    } else if (oldNode == null || oldNode.nodeName !== node.nodeName) {\n      var newElement = createElement(node, isSvg)\n      parent.insertBefore(newElement, element)\n\n      if (oldNode != null) {\n        removeElement(parent, element, oldNode)\n      }\n\n      element = newElement\n    } else if (oldNode.nodeName == null) {\n      element.nodeValue = node\n    } else {\n      updateElement(\n        element,\n        oldNode.attributes,\n        node.attributes,\n        (isSvg = isSvg || node.nodeName === \"svg\")\n      )\n\n      var oldKeyed = {}\n      var newKeyed = {}\n      var oldElements = []\n      var oldChildren = oldNode.children\n      var children = node.children\n\n      for (var i = 0; i < oldChildren.length; i++) {\n        oldElements[i] = element.childNodes[i]\n\n        var oldKey = getKey(oldChildren[i])\n        if (oldKey != null) {\n          oldKeyed[oldKey] = [oldElements[i], oldChildren[i]]\n        }\n      }\n\n      var i = 0\n      var k = 0\n\n      while (k < children.length) {\n        var oldKey = getKey(oldChildren[i])\n        var newKey = getKey((children[k] = resolveNode(children[k])))\n\n        if (newKeyed[oldKey]) {\n          i++\n          continue\n        }\n\n        if (newKey != null && newKey === getKey(oldChildren[i + 1])) {\n          if (oldKey == null) {\n            removeElement(element, oldElements[i], oldChildren[i])\n          }\n          i++\n          continue\n        }\n\n        if (newKey == null || isRecycling) {\n          if (oldKey == null) {\n            patch(element, oldElements[i], oldChildren[i], children[k], isSvg)\n            k++\n          }\n          i++\n        } else {\n          var keyedNode = oldKeyed[newKey] || []\n\n          if (oldKey === newKey) {\n            patch(element, keyedNode[0], keyedNode[1], children[k], isSvg)\n            i++\n          } else if (keyedNode[0]) {\n            patch(\n              element,\n              element.insertBefore(keyedNode[0], oldElements[i]),\n              keyedNode[1],\n              children[k],\n              isSvg\n            )\n          } else {\n            patch(element, oldElements[i], null, children[k], isSvg)\n          }\n\n          newKeyed[newKey] = children[k]\n          k++\n        }\n      }\n\n      while (i < oldChildren.length) {\n        if (getKey(oldChildren[i]) == null) {\n          removeElement(element, oldElements[i], oldChildren[i])\n        }\n        i++\n      }\n\n      for (var i in oldKeyed) {\n        if (!newKeyed[i]) {\n          removeElement(element, oldKeyed[i][0], oldKeyed[i][1])\n        }\n      }\n    }\n    return element\n  }\n}\n","import { h } from \"hyperapp\"\n\nexport function Link(props, children) {\n  return function(state, actions) {\n    var to = props.to\n    var location = state.location\n    var onclick = props.onclick\n    delete props.to\n    delete props.location\n\n    props.href = to\n    props.onclick = function(e) {\n      if (onclick) {\n        onclick(e)\n      }\n      if (\n        e.defaultPrevented ||\n        e.button !== 0 ||\n        e.altKey ||\n        e.metaKey ||\n        e.ctrlKey ||\n        e.shiftKey ||\n        props.target === \"_blank\"\n      ) {\n      } else {\n        e.preventDefault()\n\n        if (to !== location.pathname) {\n          history.pushState(location.pathname, \"\", to)\n        }\n      }\n    }\n\n    return h(\"a\", props, children)\n  }\n}\n","function createMatch(isExact, path, url, params) {\n  return {\n    isExact: isExact,\n    path: path,\n    url: url,\n    params: params\n  }\n}\n\nfunction trimTrailingSlash(url) {\n  for (var len = url.length; \"/\" === url[--len]; );\n  return url.slice(0, len + 1)\n}\n\nfunction decodeParam(val) {\n  try {\n    return decodeURIComponent(val)\n  } catch (e) {\n    return val\n  }\n}\n\nexport function parseRoute(path, url, options) {\n  if (path === url || !path) {\n    return createMatch(path === url, path, url)\n  }\n\n  var exact = options && options.exact\n  var paths = trimTrailingSlash(path).split(\"/\")\n  var urls = trimTrailingSlash(url).split(\"/\")\n\n  if (paths.length > urls.length || (exact && paths.length < urls.length)) {\n    return\n  }\n\n  for (var i = 0, params = {}, len = paths.length, url = \"\"; i < len; i++) {\n    if (\":\" === paths[i][0]) {\n      params[paths[i].slice(1)] = urls[i] = decodeParam(urls[i])\n    } else if (paths[i] !== urls[i]) {\n      return\n    }\n    url += urls[i] + \"/\"\n  }\n\n  return createMatch(false, path, url.slice(0, -1), params)\n}\n","import { parseRoute } from \"./parseRoute\"\n\nexport function Route(props) {\n  return function(state, actions) {\n    var location = state.location\n    var match = parseRoute(props.path, location.pathname, {\n      exact: !props.parent\n    })\n\n    return (\n      match &&\n      props.render({\n        match: match,\n        location: location\n      })\n    )\n  }\n}\n","function wrapHistory(keys) {\n  return keys.reduce(function(next, key) {\n    var fn = history[key]\n\n    history[key] = function(data, title, url) {\n      fn.call(this, data, title, url)\n      dispatchEvent(new CustomEvent(\"pushstate\", { detail: data }))\n    }\n\n    return function() {\n      history[key] = fn\n      next && next()\n    }\n  }, null)\n}\n\nexport var location = {\n  state: {\n    pathname: window.location.pathname,\n    previous: window.location.pathname\n  },\n  actions: {\n    go: function(pathname) {\n      history.pushState(null, \"\", pathname)\n    },\n    set: function(data) {\n      return data\n    }\n  },\n  subscribe: function(actions) {\n    function handleLocationChange(e) {\n      actions.set({\n        pathname: window.location.pathname,\n        previous: e.detail\n          ? (window.location.previous = e.detail)\n          : window.location.previous\n      })\n    }\n\n    var unwrap = wrapHistory([\"pushState\", \"replaceState\"])\n\n    addEventListener(\"pushstate\", handleLocationChange)\n    addEventListener(\"popstate\", handleLocationChange)\n\n    return function() {\n      removeEventListener(\"pushstate\", handleLocationChange)\n      removeEventListener(\"popstate\", handleLocationChange)\n      unwrap()\n    }\n  }\n}\n","import $ from 'mdui.jq/es/$';\nconst $document = $(document);\nconst $window = $(window);\nconst $body = $('body');\nexport { $document, $window, $body };","import { $document } from 'mdui/es/utils/dom';\n/**\n * \n * @param name\n * @param fn\n */\n\nexport function subscribe(name, fn) {\n  $document.on(name, (_, data) => {\n    fn(data);\n  });\n}\n/**\n * \n * @param name\n * @param data\n */\n\nexport function emit(name, data = '') {\n  $document.trigger(name, data);\n}","import $ from '../$';\nimport each from '../functions/each';\n\n$.fn.each = function (callback) {\n  return each(this, callback);\n};","import $ from '../$';\nimport each from '../functions/each';\nimport { isElement, isFunction } from '../utils';\nimport './each';\neach(['add', 'remove', 'toggle'], (_, name) => {\n  $.fn[`${name}Class`] = function (className) {\n    if (name === 'remove' && !arguments.length) {\n      return this.each((_, element) => {\n        element.setAttribute('class', '');\n      });\n    }\n\n    return this.each((i, element) => {\n      if (!isElement(element)) {\n        return;\n      }\n\n      const classes = (isFunction(className) ? className.call(element, i, element.getAttribute('class') || '') : className).split(' ').filter(name => name);\n      each(classes, (_, cls) => {\n        element.classList[name](cls);\n      });\n    });\n  };\n});","import $ from '../$';\nimport each from '../functions/each';\nimport './each';\neach(['insertBefore', 'insertAfter'], (nameIndex, name) => {\n  $.fn[name] = function (target) {\n    const $element = nameIndex ? $(this.get().reverse()) : this; //  jQuery \n\n    const $target = $(target);\n    const result = [];\n    $target.each((index, target) => {\n      if (!target.parentNode) {\n        return;\n      }\n\n      $element.each((_, element) => {\n        const newItem = index ? element.cloneNode(true) : element;\n        const existingItem = nameIndex ? target.nextSibling : target;\n        result.push(newItem);\n        target.parentNode.insertBefore(newItem, existingItem);\n      });\n    });\n    return $(nameIndex ? result.reverse() : result);\n  };\n});","import each from './each';\n\nfunction map(elements, callback) {\n  let value;\n  const ret = [];\n  each(elements, (i, element) => {\n    value = callback.call(window, element, i);\n\n    if (value != null) {\n      ret.push(value);\n    }\n  });\n  return [].concat(...ret);\n}\n\nexport default map;","import $ from '../$';\nimport map from '../functions/map';\nimport { JQ } from '../JQ';\n\n$.fn.map = function (callback) {\n  return new JQ(map(this, (element, i) => callback.call(element, i, element)));\n};","import $ from '../$';\nimport { isDocument, isFunction, isString, isWindow } from '../utils';\nimport './each';\n\n$.fn.is = function (selector) {\n  let isMatched = false;\n\n  if (isFunction(selector)) {\n    this.each((index, element) => {\n      if (selector.call(element, index, element)) {\n        isMatched = true;\n      }\n    });\n    return isMatched;\n  }\n\n  if (isString(selector)) {\n    this.each((_, element) => {\n      if (isDocument(element) || isWindow(element)) {\n        return;\n      } // @ts-ignore\n\n\n      const matches = element.matches || element.msMatchesSelector;\n\n      if (matches.call(element, selector)) {\n        isMatched = true;\n      }\n    });\n    return isMatched;\n  }\n\n  const $compareWith = $(selector);\n  this.each((_, element) => {\n    $compareWith.each((_, compare) => {\n      if (element === compare) {\n        isMatched = true;\n      }\n    });\n  });\n  return isMatched;\n};","import $ from '../$';\nimport './each';\nimport './is';\n\n$.fn.remove = function (selector) {\n  return this.each((_, element) => {\n    if (element.parentNode && (!selector || $(element).is(selector))) {\n      element.parentNode.removeChild(element);\n    }\n  });\n};","import $ from '../$';\nimport each from '../functions/each';\nimport './insertAfter';\nimport './insertBefore';\nimport './map';\nimport './remove';\neach(['appendTo', 'prependTo'], (nameIndex, name) => {\n  $.fn[name] = function (target) {\n    const extraChilds = [];\n    const $target = $(target).map((_, element) => {\n      const childNodes = element.childNodes;\n      const childLength = childNodes.length;\n\n      if (childLength) {\n        return childNodes[nameIndex ? 0 : childLength - 1];\n      }\n\n      const child = document.createElement('div');\n      element.appendChild(child);\n      extraChilds.push(child);\n      return child;\n    });\n    const $result = this[nameIndex ? 'insertBefore' : 'insertAfter']($target);\n    $(extraChilds).remove();\n    return $result;\n  };\n});","import each from './each';\n/**\n * \n * @param arr \n * @example\n```js\nunique([1, 2, 12, 3, 2, 1, 2, 1, 1]);\n// [1, 2, 12, 3]\n```\n */\n\nfunction unique(arr) {\n  const result = [];\n  each(arr, (_, val) => {\n    if (result.indexOf(val) === -1) {\n      result.push(val);\n    }\n  });\n  return result;\n}\n\nexport default unique;","import $ from '../$';\nimport each from '../functions/each';\nimport unique from '../functions/unique';\nimport { JQ } from '../JQ';\nimport { isElement } from '../utils';\nimport './each';\nimport './is';\n\n$.fn.children = function (selector) {\n  const children = [];\n  this.each((_, element) => {\n    each(element.childNodes, (__, childNode) => {\n      if (!isElement(childNode)) {\n        return;\n      }\n\n      if (!selector || $(childNode).is(selector)) {\n        children.push(childNode);\n      }\n    });\n  });\n  return new JQ(unique(children));\n};","import $ from '../$';\nimport './map';\n\n$.fn.clone = function () {\n  return this.map(function () {\n    return this.cloneNode(true);\n  });\n};","const dataNS = '_mduiElementDataStorage';\nexport default dataNS;","import { isObjectLike, isUndefined, toCamelCase } from '../utils';\nimport each from './each';\nimport dataNS from './utils/data';\n/**\n * \n * @param element\n * @param object\n */\n\nfunction setObjectToElement(element, object) {\n  // @ts-ignore\n  if (!element[dataNS]) {\n    // @ts-ignore\n    element[dataNS] = {};\n  }\n\n  each(object, (key, value) => {\n    // @ts-ignore\n    element[dataNS][toCamelCase(key)] = value;\n  });\n}\n\nfunction data(element, key, value) {\n  // \n  // data(element, { 'key' : 'value' })\n  if (isObjectLike(key)) {\n    setObjectToElement(element, key);\n    return key;\n  } //  keyvalue \n  // data(element, 'key', 'value')\n\n\n  if (!isUndefined(value)) {\n    setObjectToElement(element, {\n      [key]: value\n    });\n    return value;\n  } // \n  // data(element)\n\n\n  if (isUndefined(key)) {\n    // @ts-ignore\n    return element[dataNS] ? element[dataNS] : {};\n  } //  dataNS \n  // data(element, 'key')\n\n\n  key = toCamelCase(key); // @ts-ignore\n\n  if (element[dataNS] && key in element[dataNS]) {\n    // @ts-ignore\n    return element[dataNS][key];\n  }\n\n  return undefined;\n}\n\nexport default data;","import $ from '../$';\nimport data from '../functions/data';\nimport { isObjectLike, isString, isUndefined, toCamelCase, toKebabCase } from '../utils';\nimport './each';\nconst rbrace = /^(?:{[\\w\\W]*\\}|\\[[\\w\\W]*\\])$/; //  `data-*` \n\nfunction getData(value) {\n  if (value === 'true') {\n    return true;\n  }\n\n  if (value === 'false') {\n    return false;\n  }\n\n  if (value === 'null') {\n    return null;\n  }\n\n  if (value === +value + '') {\n    return +value;\n  }\n\n  if (rbrace.test(value)) {\n    return JSON.parse(value);\n  }\n\n  return value;\n} //  value  `data-*` \n\n\nfunction dataAttr(element, key, value) {\n  if (isUndefined(value) && element.nodeType === 1) {\n    const name = 'data-' + toKebabCase(key);\n    value = element.getAttribute(name);\n\n    if (isString(value)) {\n      try {\n        value = getData(value);\n      } catch (e) {}\n    } else {\n      value = undefined;\n    }\n  }\n\n  return value;\n}\n\n$.fn.data = function (key, value) {\n  // \n  if (isUndefined(key)) {\n    if (!this.length) {\n      return undefined;\n    }\n\n    const element = this[0];\n    const resultData = data(element); // window, document  `data-*` \n\n    if (element.nodeType !== 1) {\n      return resultData;\n    } //  `data-*` \n\n\n    const attrs = element.attributes;\n    let i = attrs.length;\n\n    while (i--) {\n      if (attrs[i]) {\n        let name = attrs[i].name;\n\n        if (name.indexOf('data-') === 0) {\n          name = toCamelCase(name.slice(5));\n          resultData[name] = dataAttr(element, name, resultData[name]);\n        }\n      }\n    }\n\n    return resultData;\n  } // \n\n\n  if (isObjectLike(key)) {\n    return this.each(function () {\n      data(this, key);\n    });\n  } // value  undefined\n\n\n  if (arguments.length === 2 && isUndefined(value)) {\n    return this;\n  } // \n\n\n  if (!isUndefined(value)) {\n    return this.each(function () {\n      data(this, key, value);\n    });\n  } // \n\n\n  if (!this.length) {\n    return undefined;\n  }\n\n  return dataAttr(this[0], key, data(this[0], key));\n};","import each from './each';\n/**\n * \n * @param first \n * @param second \n * @example\n```js\nmerge( [ 0, 1, 2 ], [ 2, 3, 4 ] )\n// [ 0, 1, 2, 2, 3, 4 ]\n```\n */\n\nfunction merge(first, second) {\n  each(second, (_, value) => {\n    first.push(value);\n  });\n  return first;\n}\n\nexport default merge;","import $ from '../../$';\nimport unique from '../../functions/unique';\nimport { JQ } from '../../JQ';\nimport { isElement } from '../../utils';\nimport '../each';\nimport '../is';\nexport default function dir($elements, nameIndex, node, selector, filter) {\n  const ret = [];\n  let target;\n  $elements.each((_, element) => {\n    target = element[node]; //  document \n\n    while (target && isElement(target)) {\n      // prevUntil, nextUntil, parentsUntil\n      if (nameIndex === 2) {\n        if (selector && $(target).is(selector)) {\n          break;\n        }\n\n        if (!filter || $(target).is(filter)) {\n          ret.push(target);\n        }\n      } // prev, next, parent\n      else if (nameIndex === 0) {\n          if (!selector || $(target).is(selector)) {\n            ret.push(target);\n          }\n\n          break;\n        } // prevAll, nextAll, parents\n        else {\n            if (!selector || $(target).is(selector)) {\n              ret.push(target);\n            }\n          } // @ts-ignore\n\n\n      target = target[node];\n    }\n  });\n  return new JQ(unique(ret));\n}","import $ from '../$';\n\n$.fn.get = function (index) {\n  return index === undefined ? [].slice.call(this) : this[index >= 0 ? index : index + this.length];\n};","import $ from '../$';\nimport merge from '../functions/merge';\nimport { JQ } from '../JQ';\nimport './each';\nimport './get';\n\n$.fn.find = function (selector) {\n  const foundElements = [];\n  this.each((_, element) => {\n    merge(foundElements, $(element.querySelectorAll(selector)).get());\n  });\n  return new JQ(foundElements);\n};","import $ from '../$';\nimport each from '../functions/each';\nimport dir from './utils/dir';\neach(['', 'All', 'Until'], (nameIndex, name) => {\n  $.fn[`next${name}`] = function (selector, filter) {\n    return dir(this, nameIndex, 'nextElementSibling', selector, filter);\n  };\n});","import { toElement } from '../utils';\n/**\n *  container  contains \n * @param container \n * @param contains \n * @example\n```js\ncontains( document, document.body ); // true\ncontains( document.getElementById('test'), document ); // false\ncontains( $('.container').get(0), $('.contains').get(0) ); // false\n```\n */\n\nfunction contains(container, contains) {\n  return container !== contains && toElement(container).contains(contains);\n}\n\nexport default contains;","import $ from '../../$';\nimport contains from '../../functions/contains';\nimport { isObjectLike } from '../../utils';\nimport '../find'; // \n\nconst handlers = {}; // ID\n\nlet mduiElementId = 1;\n/**\n * ID\n */\n\nfunction getElementId(element) {\n  const key = '_mduiEventId'; // @ts-ignore\n\n  if (!element[key]) {\n    // @ts-ignore\n    element[key] = ++mduiElementId;\n  } // @ts-ignore\n\n\n  return element[key];\n}\n/**\n * \n */\n\n\nfunction parse(type) {\n  const parts = type.split('.');\n  return {\n    type: parts[0],\n    ns: parts.slice(1).sort().join(' ')\n  };\n}\n/**\n * \n */\n\n\nfunction matcherFor(ns) {\n  return new RegExp('(?:^| )' + ns.replace(' ', ' .* ?') + '(?: |$)');\n}\n/**\n * \n * @param element\n * @param type\n * @param func\n * @param selector\n */\n\n\nfunction getHandlers(element, type, func, selector) {\n  const event = parse(type);\n  return (handlers[getElementId(element)] || []).filter(handler => handler && (!event.type || handler.type === event.type) && (!event.ns || matcherFor(event.ns).test(handler.ns)) && (!func || getElementId(handler.func) === getElementId(func)) && (!selector || handler.selector === selector));\n}\n/**\n * \n * @param element\n * @param types\n * @param func\n * @param data\n * @param selector\n */\n\n\nfunction add(element, types, func, data, selector) {\n  const elementId = getElementId(element);\n\n  if (!handlers[elementId]) {\n    handlers[elementId] = [];\n  } //  data.useCapture  useCapture: true\n\n\n  let useCapture = false;\n\n  if (isObjectLike(data) && data.useCapture) {\n    useCapture = true;\n  }\n\n  types.split(' ').forEach(type => {\n    if (!type) {\n      return;\n    }\n\n    const event = parse(type);\n\n    function callFn(e, elem) {\n      //  detail  e._detail \n      const result = func.apply(elem, // @ts-ignore\n      e._detail === undefined ? [e] : [e].concat(e._detail));\n\n      if (result === false) {\n        e.preventDefault();\n        e.stopPropagation();\n      }\n    }\n\n    function proxyFn(e) {\n      // @ts-ignore\n      if (e._ns && !matcherFor(e._ns).test(event.ns)) {\n        return;\n      } // @ts-ignore\n\n\n      e._data = data;\n\n      if (selector) {\n        // \n        $(element).find(selector).get().reverse().forEach(elem => {\n          if (elem === e.target || contains(elem, e.target)) {\n            callFn(e, elem);\n          }\n        });\n      } else {\n        // \n        callFn(e, element);\n      }\n    }\n\n    const handler = {\n      type: event.type,\n      ns: event.ns,\n      func,\n      selector,\n      id: handlers[elementId].length,\n      proxy: proxyFn\n    };\n    handlers[elementId].push(handler);\n    element.addEventListener(handler.type, proxyFn, useCapture);\n  });\n}\n/**\n * \n * @param element\n * @param types\n * @param func\n * @param selector\n */\n\n\nfunction remove(element, types, func, selector) {\n  const handlersInElement = handlers[getElementId(element)] || [];\n\n  const removeEvent = handler => {\n    delete handlersInElement[handler.id];\n    element.removeEventListener(handler.type, handler.proxy, false);\n  };\n\n  if (!types) {\n    handlersInElement.forEach(handler => removeEvent(handler));\n  } else {\n    types.split(' ').forEach(type => {\n      if (type) {\n        getHandlers(element, type, func, selector).forEach(handler => removeEvent(handler));\n      }\n    });\n  }\n}\n\nexport { parse, add, remove };","import $ from '../$';\nimport each from '../functions/each';\nimport { isFunction, isObjectLike, returnFalse } from '../utils';\nimport './each';\nimport { remove } from './utils/event';\n\n$.fn.off = function (types, selector, callback) {\n  // types \n  if (isObjectLike(types)) {\n    each(types, (type, fn) => {\n      // this.off('click', undefined, function () {})\n      // this.off('click', '.box', function () {})\n      this.off(type, selector, fn);\n    });\n    return this;\n  } // selector \n\n\n  if (selector === false || isFunction(selector)) {\n    callback = selector;\n    selector = undefined; // this.off('click', undefined, function () {})\n  } // callback  `false` `return false`\n\n\n  if (callback === false) {\n    callback = returnFalse;\n  }\n\n  return this.each(function () {\n    remove(this, types, callback, selector);\n  });\n};","import $ from '../$';\nimport each from '../functions/each';\nimport { isObjectLike, isString, returnFalse } from '../utils';\nimport './each';\nimport './off';\nimport { add } from './utils/event';\n\n$.fn.on = function (types, selector, data, callback, one) {\n  // types  type/func \n  if (isObjectLike(types)) {\n    // (types-Object, selector, data)\n    if (!isString(selector)) {\n      // (types-Object, data)\n      data = data || selector;\n      selector = undefined;\n    }\n\n    each(types, (type, fn) => {\n      // selector  data  undefined\n      // @ts-ignore\n      this.on(type, selector, data, fn, one);\n    });\n    return this;\n  }\n\n  if (data == null && callback == null) {\n    // (types, fn)\n    callback = selector;\n    data = selector = undefined;\n  } else if (callback == null) {\n    if (isString(selector)) {\n      // (types, selector, fn)\n      callback = data;\n      data = undefined;\n    } else {\n      // (types, data, fn)\n      callback = data;\n      data = selector;\n      selector = undefined;\n    }\n  }\n\n  if (callback === false) {\n    callback = returnFalse;\n  } else if (!callback) {\n    return this;\n  } // $().one()\n\n\n  if (one) {\n    // eslint-disable-next-line @typescript-eslint/no-this-alias\n    const _this = this;\n\n    const origCallback = callback;\n\n    callback = function (event) {\n      _this.off(event.type, selector, callback); // eslint-disable-next-line prefer-rest-params\n\n\n      return origCallback.apply(this, arguments);\n    };\n  }\n\n  return this.each(function () {\n    add(this, types, callback, data, selector);\n  });\n};","import $ from '../$';\nimport each from '../functions/each';\nimport './get';\nimport dir from './utils/dir';\neach(['', 's', 'sUntil'], (nameIndex, name) => {\n  $.fn[`parent${name}`] = function (selector, filter) {\n    // parentsparentsUntil  jQuery \n    const $nodes = !nameIndex ? this : $(this.get().reverse());\n    return dir($nodes, nameIndex, 'parentNode', selector, filter);\n  };\n});","import $ from '../$';\nimport each from '../functions/each';\nimport map from '../functions/map';\nimport { isElement, isFunction, isUndefined, toElement } from '../utils';\nimport './each';\nimport './is';\neach(['val', 'html', 'text'], (nameIndex, name) => {\n  const props = {\n    0: 'value',\n    1: 'innerHTML',\n    2: 'textContent'\n  };\n  const propName = props[nameIndex];\n\n  function get($elements) {\n    // text() \n    if (nameIndex === 2) {\n      // @ts-ignore\n      return map($elements, element => toElement(element)[propName]).join('');\n    } // val()  html()  undefined\n\n\n    if (!$elements.length) {\n      return undefined;\n    } // val()  html() \n\n\n    const firstElement = $elements[0]; // select multiple \n\n    if (nameIndex === 0 && $(firstElement).is('select[multiple]')) {\n      return map($(firstElement).find('option:checked'), element => element.value);\n    } // @ts-ignore\n\n\n    return firstElement[propName];\n  }\n\n  function set(element, value) {\n    // text()  html()  undefined\n    // val()  undefined \n    if (isUndefined(value)) {\n      if (nameIndex !== 0) {\n        return;\n      }\n\n      value = '';\n    }\n\n    if (nameIndex === 1 && isElement(value)) {\n      value = value.outerHTML;\n    } // @ts-ignore\n\n\n    element[propName] = value;\n  }\n\n  $.fn[name] = function (value) {\n    // \n    if (!arguments.length) {\n      return get(this);\n    } // \n\n\n    return this.each((i, element) => {\n      const computedValue = isFunction(value) ? value.call(element, i, get($(element))) : value; // value \n\n      if (nameIndex === 0 && Array.isArray(computedValue)) {\n        // select[multiple]\n        if ($(element).is('select[multiple]')) {\n          map($(element).find('option'), option => option.selected = computedValue.indexOf(option.value) > -1);\n        } //  checkbox, radio \n        else {\n            element.checked = computedValue.indexOf(element.value) > -1;\n          }\n      } else {\n        set(element, computedValue);\n      }\n    });\n  };\n});","import $ from '../$';\nimport './each';\nimport './val';\n/**\n * \n * @returns {Array}\n */\n\n$.fn.serializeArray = function () {\n  const result = [];\n  this.each((_, element) => {\n    const elements = element instanceof HTMLFormElement ? element.elements : [element];\n    $(elements).each((_, element) => {\n      const $element = $(element);\n      const type = element.type;\n      const nodeName = element.nodeName.toLowerCase();\n\n      if (nodeName !== 'fieldset' && element.name && !element.disabled && ['input', 'select', 'textarea', 'keygen'].indexOf(nodeName) > -1 && ['submit', 'button', 'image', 'reset', 'file'].indexOf(type) === -1 && (['radio', 'checkbox'].indexOf(type) === -1 || element.checked)) {\n        const value = $element.val();\n        const valueArr = Array.isArray(value) ? value : [value];\n        valueArr.forEach(value => {\n          result.push({\n            name: element.name,\n            value\n          });\n        });\n      }\n    });\n  });\n  return result;\n};","import $ from '../$';\nimport { getStyle } from '../utils';\nimport './each';\nconst elementDisplay = {};\n/**\n *  display  .show() \n * @param nodeName\n */\n\nfunction defaultDisplay(nodeName) {\n  let element;\n  let display;\n\n  if (!elementDisplay[nodeName]) {\n    element = document.createElement(nodeName);\n    document.body.appendChild(element);\n    display = getStyle(element, 'display');\n    element.parentNode.removeChild(element);\n\n    if (display === 'none') {\n      display = 'block';\n    }\n\n    elementDisplay[nodeName] = display;\n  }\n\n  return elementDisplay[nodeName];\n}\n/**\n * \n * @returns {JQ}\n */\n\n\n$.fn.show = function () {\n  return this.each(function () {\n    if (this.style.display === 'none') {\n      this.style.display = '';\n    }\n\n    if (getStyle(this, 'display') === 'none') {\n      this.style.display = defaultDisplay(this.nodeName);\n    }\n  });\n};","import $ from '../$';\nimport each from '../functions/each';\nimport { isBoolean, isDocument, isFunction, isWindow, toElement, isBorderBox, getExtraWidth, getComputedStyleValue, isIE } from '../utils';\nimport './css';\nimport './each';\n/**\n *  paddingbordermargin \n * @param element\n * @param name\n * @param value\n * @param funcIndex\n * @param includeMargin\n * @param multiply\n */\n\nfunction handleExtraWidth(element, name, value, funcIndex, includeMargin, multiply) {\n  //  padding, border, margin \n  const getExtraWidthValue = extra => {\n    return getExtraWidth(element, name.toLowerCase(), extra) * multiply;\n  };\n\n  if (funcIndex === 2 && includeMargin) {\n    value += getExtraWidthValue('margin');\n  }\n\n  if (isBorderBox(element)) {\n    // IE  box-sizing: border-box  border  padding\n    // multiply === 1  get\n    if (isIE() && multiply === 1) {\n      value += getExtraWidthValue('border');\n      value += getExtraWidthValue('padding');\n    }\n\n    if (funcIndex === 0) {\n      value -= getExtraWidthValue('border');\n    }\n\n    if (funcIndex === 1) {\n      value -= getExtraWidthValue('border');\n      value -= getExtraWidthValue('padding');\n    }\n  } else {\n    if (funcIndex === 0) {\n      value += getExtraWidthValue('padding');\n    }\n\n    if (funcIndex === 2) {\n      value += getExtraWidthValue('border');\n      value += getExtraWidthValue('padding');\n    }\n  }\n\n  return value;\n}\n/**\n * \n * @param element\n * @param name\n * @param funcIndex 0: innerWidth, innerHeight; 1: width, height; 2: outerWidth, outerHeight\n * @param includeMargin\n */\n\n\nfunction get(element, name, funcIndex, includeMargin) {\n  const clientProp = `client${name}`;\n  const scrollProp = `scroll${name}`;\n  const offsetProp = `offset${name}`;\n  const innerProp = `inner${name}`; // $(window).width()\n\n  if (isWindow(element)) {\n    // outerWidth, outerHeight \n    return funcIndex === 2 ? element[innerProp] : toElement(document)[clientProp];\n  } // $(document).width()\n\n\n  if (isDocument(element)) {\n    const doc = toElement(element);\n    return Math.max( // @ts-ignore\n    element.body[scrollProp], doc[scrollProp], // @ts-ignore\n    element.body[offsetProp], doc[offsetProp], doc[clientProp]);\n  }\n\n  const value = parseFloat(getComputedStyleValue(element, name.toLowerCase()) || '0');\n  return handleExtraWidth(element, name, value, funcIndex, includeMargin, 1);\n}\n/**\n * \n * @param element\n * @param elementIndex\n * @param name\n * @param funcIndex 0: innerWidth, innerHeight; 1: width, height; 2: outerWidth, outerHeight\n * @param includeMargin\n * @param value\n */\n\n\nfunction set(element, elementIndex, name, funcIndex, includeMargin, value) {\n  let computedValue = isFunction(value) ? value.call(element, elementIndex, get(element, name, funcIndex, includeMargin)) : value;\n\n  if (computedValue == null) {\n    return;\n  }\n\n  const $element = $(element);\n  const dimension = name.toLowerCase(); //  paddingbordermargin\n\n  if (['auto', 'inherit', ''].indexOf(computedValue) > -1) {\n    $element.css(dimension, computedValue);\n    return;\n  } //  px \n\n\n  const suffix = computedValue.toString().replace(/\\b[0-9.]*/, '');\n  const numerical = parseFloat(computedValue);\n  computedValue = handleExtraWidth(element, name, numerical, funcIndex, includeMargin, -1) + (suffix || 'px');\n  $element.css(dimension, computedValue);\n}\n\neach(['Width', 'Height'], (_, name) => {\n  each([`inner${name}`, name.toLowerCase(), `outer${name}`], (funcIndex, funcName) => {\n    $.fn[funcName] = function (margin, value) {\n      // \n      const isSet = arguments.length && (funcIndex < 2 || !isBoolean(margin));\n      const includeMargin = margin === true || value === true; // \n\n      if (!isSet) {\n        return this.length ? get(this[0], name, funcIndex, includeMargin) : undefined;\n      } // \n\n\n      return this.each((index, element) => set(element, index, name, funcIndex, includeMargin, margin));\n    };\n  });\n});","import $ from '../$';\nimport './each';\nimport { parse } from './utils/event';\n\n$.fn.trigger = function (type, extraParameters) {\n  const event = parse(type);\n  let eventObject;\n  const eventParams = {\n    bubbles: true,\n    cancelable: true\n  };\n  const isMouseEvent = ['click', 'mousedown', 'mouseup', 'mousemove'].indexOf(event.type) > -1;\n\n  if (isMouseEvent) {\n    // Note: MouseEvent  detail \n    eventObject = new MouseEvent(event.type, eventParams);\n  } else {\n    eventParams.detail = extraParameters;\n    eventObject = new CustomEvent(event.type, eventParams);\n  } // @ts-ignore\n\n\n  eventObject._detail = extraParameters; // @ts-ignore\n\n  eventObject._ns = event.ns;\n  return this.each(function () {\n    this.dispatchEvent(eventObject);\n  });\n};","import $ from '../$';\nimport each from '../functions/each';\nimport { cssNumber, getStyle, isElement, isFunction, isNull, isNumber, isObjectLike, isUndefined, toCamelCase } from '../utils';\nimport './each';\neach(['attr', 'prop', 'css'], (nameIndex, name) => {\n  function set(element, key, value) {\n    //  undefined \n    if (isUndefined(value)) {\n      return;\n    }\n\n    switch (nameIndex) {\n      // attr\n      case 0:\n        if (isNull(value)) {\n          element.removeAttribute(key);\n        } else {\n          element.setAttribute(key, value);\n        }\n\n        break;\n      // prop\n\n      case 1:\n        // @ts-ignore\n        element[key] = value;\n        break;\n      // css\n\n      default:\n        key = toCamelCase(key); // @ts-ignore\n\n        element.style[key] = isNumber(value) ? `${value}${cssNumber.indexOf(key) > -1 ? '' : 'px'}` : value;\n        break;\n    }\n  }\n\n  function get(element, key) {\n    switch (nameIndex) {\n      // attr\n      case 0:\n        //  getAttribute  null jquery  undefined jquery \n        const value = element.getAttribute(key);\n        return isNull(value) ? undefined : value;\n      // prop\n\n      case 1:\n        // @ts-ignore\n        return element[key];\n      // css\n\n      default:\n        return getStyle(element, key);\n    }\n  }\n\n  $.fn[name] = function (key, value) {\n    if (isObjectLike(key)) {\n      each(key, (k, v) => {\n        // @ts-ignore\n        this[name](k, v);\n      });\n      return this;\n    }\n\n    if (arguments.length === 1) {\n      const element = this[0];\n      return isElement(element) ? get(element, key) : undefined;\n    }\n\n    return this.each((i, element) => {\n      set(element, key, isFunction(value) ? value.call(element, i, get(element, key)) : value);\n    });\n  };\n});","import $ from 'mdui.jq/es/$';\nimport 'mdui.jq/es/methods/each';\n\n$.fn.reflow = function () {\n  return this.each(function () {\n    return this.clientLeft;\n  });\n};","import $ from 'mdui.jq/es/$';\nimport each from 'mdui.jq/es/functions/each';\nimport 'mdui.jq/es/methods/on';\nimport 'mdui.jq/es/methods/off';\n\n$.fn.transitionEnd = function (callback) {\n  // eslint-disable-next-line @typescript-eslint/no-this-alias\n  const that = this;\n  const events = ['webkitTransitionEnd', 'transitionend'];\n\n  function fireCallback(e) {\n    if (e.target !== this) {\n      return;\n    } // @ts-ignore\n\n\n    callback.call(this, e);\n    each(events, (_, event) => {\n      that.off(event, fireCallback);\n    });\n  }\n\n  each(events, (_, event) => {\n    that.on(event, fireCallback);\n  });\n  return this;\n};","import data from 'mdui.jq/es/functions/data';\n/**\n * CSS \n */\n\nconst entries = {};\n/**\n * \n * @param selector CSS \n * @param apiInit \n * @param i \n * @param element \n */\n\nfunction mutation(selector, apiInit, i, element) {\n  let selectors = data(element, '_mdui_mutation');\n\n  if (!selectors) {\n    selectors = [];\n    data(element, '_mdui_mutation', selectors);\n  }\n\n  if (selectors.indexOf(selector) === -1) {\n    selectors.push(selector);\n    apiInit.call(element, i, element);\n  }\n}\n\nexport { entries, mutation };","import $ from 'mdui.jq/es/$';\nimport each from 'mdui.jq/es/functions/each';\nimport 'mdui.jq/es/methods/each';\nimport 'mdui.jq/es/methods/find';\nimport 'mdui.jq/es/methods/is';\nimport { entries, mutation } from '../../utils/mutation';\n\n$.fn.mutation = function () {\n  return this.each((i, element) => {\n    const $this = $(element);\n    each(entries, (selector, apiInit) => {\n      if ($this.is(selector)) {\n        mutation(selector, apiInit, i, element);\n      }\n\n      $this.find(selector).each((i, element) => {\n        mutation(selector, apiInit, i, element);\n      });\n    });\n  });\n};","import $ from 'mdui.jq/es/$';\nimport { isUndefined } from 'mdui.jq/es/utils';\nimport 'mdui.jq/es/methods/data';\nimport 'mdui.jq/es/methods/css';\nimport 'mdui.jq/es/methods/appendTo';\nimport 'mdui.jq/es/methods/addClass';\nimport '../methods/reflow';\n\n$.showOverlay = function (zIndex) {\n  let $overlay = $('.mdui-overlay');\n\n  if ($overlay.length) {\n    $overlay.data('_overlay_is_deleted', false);\n\n    if (!isUndefined(zIndex)) {\n      $overlay.css('z-index', zIndex);\n    }\n  } else {\n    if (isUndefined(zIndex)) {\n      zIndex = 2000;\n    }\n\n    $overlay = $('<div class=\"mdui-overlay\">').appendTo(document.body).reflow().css('z-index', zIndex);\n  }\n\n  let level = $overlay.data('_overlay_level') || 0;\n  return $overlay.data('_overlay_level', ++level).addClass('mdui-overlay-show');\n};","import $ from 'mdui.jq/es/$';\nimport 'mdui.jq/es/methods/data';\nimport 'mdui.jq/es/methods/removeClass';\nimport 'mdui.jq/es/methods/remove';\nimport '../methods/transitionEnd';\n\n$.hideOverlay = function (force = false) {\n  const $overlay = $('.mdui-overlay');\n\n  if (!$overlay.length) {\n    return;\n  }\n\n  let level = force ? 1 : $overlay.data('_overlay_level');\n\n  if (level > 1) {\n    $overlay.data('_overlay_level', --level);\n    return;\n  }\n\n  $overlay.data('_overlay_level', 0).removeClass('mdui-overlay-show').data('_overlay_is_deleted', true).transitionEnd(() => {\n    if ($overlay.data('_overlay_is_deleted')) {\n      $overlay.remove();\n    }\n  });\n};","import $ from 'mdui.jq/es/$';\nimport 'mdui.jq/es/methods/addClass';\nimport 'mdui.jq/es/methods/data';\nimport 'mdui.jq/es/methods/width';\n\n$.lockScreen = function () {\n  const $body = $('body'); //  body  box-sizing: border-box\n\n  const newBodyWidth = $body.width();\n  let level = $body.data('_lockscreen_level') || 0;\n  $body.addClass('mdui-locked').width(newBodyWidth).data('_lockscreen_level', ++level);\n};","import $ from 'mdui.jq/es/$';\nimport 'mdui.jq/es/methods/data';\nimport 'mdui.jq/es/methods/removeClass';\nimport 'mdui.jq/es/methods/width';\n\n$.unlockScreen = function (force = false) {\n  const $body = $('body');\n  let level = force ? 1 : $body.data('_lockscreen_level');\n\n  if (level > 1) {\n    $body.data('_lockscreen_level', --level);\n    return;\n  }\n\n  $body.data('_lockscreen_level', 0).removeClass('mdui-locked').width('');\n};","import $ from 'mdui.jq/es/$';\nimport 'mdui.jq/es/methods/each';\nimport mdui from '../mdui';\nimport '../jq_extends/methods/mutation';\nimport { isUndefined } from 'mdui.jq/es/utils';\nimport { entries, mutation } from '../utils/mutation';\n\nmdui.mutation = function (selector, apiInit) {\n  if (isUndefined(selector) || isUndefined(apiInit)) {\n    $(document).mutation();\n    return;\n  }\n\n  entries[selector] = apiInit;\n  $(selector).each((i, element) => mutation(selector, apiInit, i, element));\n};","import each from '../functions/each';\nimport { isUndefined } from '../utils';\n\nfunction extend(target, object1, ...objectN) {\n  objectN.unshift(object1);\n  each(objectN, (_, object) => {\n    each(object, (prop, value) => {\n      if (!isUndefined(value)) {\n        target[prop] = value;\n      }\n    });\n  });\n  return target;\n}\n\nexport default extend;","import $ from 'mdui.jq/es/$';\nimport 'mdui.jq/es/methods/trigger';\n/**\n * \n * @param eventName \n * @param componentName \n * @param target \n * @param instance \n * @param parameters \n */\n\nfunction componentEvent(eventName, componentName, target, instance, parameters) {\n  if (!parameters) {\n    parameters = {};\n  } // @ts-ignore\n\n\n  parameters.inst = instance;\n  const fullEventName = `${eventName}.mdui.${componentName}`; // jQuery \n  // @ts-ignore\n\n  if (typeof jQuery !== 'undefined') {\n    // @ts-ignore\n    jQuery(target).trigger(fullEventName, parameters);\n  }\n\n  const $target = $(target); // mdui.jq \n\n  $target.trigger(fullEventName, parameters);\n  const eventParams = {\n    bubbles: true,\n    cancelable: true,\n    detail: parameters\n  };\n  const eventObject = new CustomEvent(fullEventName, eventParams); // @ts-ignore\n\n  eventObject._detail = parameters;\n  $target[0].dispatchEvent(eventObject);\n}\n\nexport { componentEvent };","import $ from '../$';\nimport { JQ } from '../JQ';\n\n$.fn.slice = function (...args) {\n  return new JQ([].slice.apply(this, args));\n};","import $ from '../$';\nimport { JQ } from '../JQ';\nimport './slice';\n\n$.fn.eq = function (index) {\n  const ret = index === -1 ? this.slice(index) : this.slice(index, +index + 1);\n  return new JQ(ret);\n};","import $ from '../$';\nimport './eq';\n\n$.fn.first = function () {\n  return this.eq(0);\n};","import $ from '../$';\n\n$.fn.hasClass = function (className) {\n  return this[0].classList.contains(className);\n};","import $ from 'mdui.jq/es/$';\nimport extend from 'mdui.jq/es/functions/extend';\nimport 'mdui.jq/es/methods/addClass';\nimport 'mdui.jq/es/methods/data';\nimport 'mdui.jq/es/methods/first';\nimport 'mdui.jq/es/methods/hasClass';\nimport 'mdui.jq/es/methods/on';\nimport 'mdui.jq/es/methods/removeClass';\nimport { isNumber } from 'mdui.jq/es/utils';\nimport mdui from '../../mdui';\nimport '../../jq_extends/methods/transitionEnd';\nimport { componentEvent } from '../../utils/componentEvent';\nimport { $window } from '../../utils/dom';\nconst DEFAULT_OPTIONS = {\n  tolerance: 5,\n  offset: 0,\n  initialClass: 'mdui-headroom',\n  pinnedClass: 'mdui-headroom-pinned-top',\n  unpinnedClass: 'mdui-headroom-unpinned-top'\n};\n\nclass Headroom {\n  constructor(selector, options = {}) {\n    /**\n     * \n     */\n    this.options = extend({}, DEFAULT_OPTIONS);\n    /**\n     *  headroom \n     */\n\n    this.state = 'pinned';\n    /**\n     * \n     */\n\n    this.isEnable = false;\n    /**\n     * \n     */\n\n    this.lastScrollY = 0;\n    /**\n     * AnimationFrame ID\n     */\n\n    this.rafId = 0;\n    this.$element = $(selector).first();\n    extend(this.options, options); // tolerance \n\n    const tolerance = this.options.tolerance;\n\n    if (isNumber(tolerance)) {\n      this.options.tolerance = {\n        down: tolerance,\n        up: tolerance\n      };\n    }\n\n    this.enable();\n  }\n  /**\n   * \n   */\n\n\n  onScroll() {\n    this.rafId = window.requestAnimationFrame(() => {\n      const currentScrollY = window.pageYOffset;\n      const direction = currentScrollY > this.lastScrollY ? 'down' : 'up';\n      const tolerance = this.options.tolerance[direction];\n      const scrolled = Math.abs(currentScrollY - this.lastScrollY);\n      const toleranceExceeded = scrolled >= tolerance;\n\n      if (currentScrollY > this.lastScrollY && currentScrollY >= this.options.offset && toleranceExceeded) {\n        this.unpin();\n      } else if (currentScrollY < this.lastScrollY && toleranceExceeded || currentScrollY <= this.options.offset) {\n        this.pin();\n      }\n\n      this.lastScrollY = currentScrollY;\n    });\n  }\n  /**\n   * \n   * @param name\n   */\n\n\n  triggerEvent(name) {\n    componentEvent(name, 'headroom', this.$element, this);\n  }\n  /**\n   * \n   */\n\n\n  transitionEnd() {\n    if (this.state === 'pinning') {\n      this.state = 'pinned';\n      this.triggerEvent('pinned');\n    }\n\n    if (this.state === 'unpinning') {\n      this.state = 'unpinned';\n      this.triggerEvent('unpinned');\n    }\n  }\n  /**\n   * \n   */\n\n\n  pin() {\n    if (this.state === 'pinning' || this.state === 'pinned' || !this.$element.hasClass(this.options.initialClass)) {\n      return;\n    }\n\n    this.triggerEvent('pin');\n    this.state = 'pinning';\n    this.$element.removeClass(this.options.unpinnedClass).addClass(this.options.pinnedClass).transitionEnd(() => this.transitionEnd());\n  }\n  /**\n   * \n   */\n\n\n  unpin() {\n    if (this.state === 'unpinning' || this.state === 'unpinned' || !this.$element.hasClass(this.options.initialClass)) {\n      return;\n    }\n\n    this.triggerEvent('unpin');\n    this.state = 'unpinning';\n    this.$element.removeClass(this.options.pinnedClass).addClass(this.options.unpinnedClass).transitionEnd(() => this.transitionEnd());\n  }\n  /**\n   *  headroom \n   */\n\n\n  enable() {\n    if (this.isEnable) {\n      return;\n    }\n\n    this.isEnable = true;\n    this.state = 'pinned';\n    this.$element.addClass(this.options.initialClass).removeClass(this.options.pinnedClass).removeClass(this.options.unpinnedClass);\n    this.lastScrollY = window.pageYOffset;\n    $window.on('scroll', () => this.onScroll());\n  }\n  /**\n   *  headroom \n   */\n\n\n  disable() {\n    if (!this.isEnable) {\n      return;\n    }\n\n    this.isEnable = false;\n    this.$element.removeClass(this.options.initialClass).removeClass(this.options.pinnedClass).removeClass(this.options.unpinnedClass);\n    $window.off('scroll', () => this.onScroll());\n    window.cancelAnimationFrame(this.rafId);\n  }\n  /**\n   * `pinning``pinned``unpinning``unpinned`\n   */\n\n\n  getState() {\n    return this.state;\n  }\n\n}\n\nmdui.Headroom = Headroom;","import $ from '../$';\nimport './css';\nimport './eq';\nimport './offset';\nimport './offsetParent';\n\nfunction floatStyle($element, name) {\n  return parseFloat($element.css(name));\n}\n\n$.fn.position = function () {\n  if (!this.length) {\n    return undefined;\n  }\n\n  const $element = this.eq(0);\n  let currentOffset;\n  let parentOffset = {\n    left: 0,\n    top: 0\n  };\n\n  if ($element.css('position') === 'fixed') {\n    currentOffset = $element[0].getBoundingClientRect();\n  } else {\n    currentOffset = $element.offset();\n    const $offsetParent = $element.offsetParent();\n    parentOffset = $offsetParent.offset();\n    parentOffset.top += floatStyle($offsetParent, 'border-top-width');\n    parentOffset.left += floatStyle($offsetParent, 'border-left-width');\n  }\n\n  return {\n    top: currentOffset.top - parentOffset.top - floatStyle($element, 'margin-top'),\n    left: currentOffset.left - parentOffset.left - floatStyle($element, 'margin-left')\n  };\n};","import $ from '../$';\nimport extend from '../functions/extend';\nimport { isFunction } from '../utils';\nimport './css';\nimport './each';\nimport './position';\n\nfunction get(element) {\n  if (!element.getClientRects().length) {\n    return {\n      top: 0,\n      left: 0\n    };\n  }\n\n  const rect = element.getBoundingClientRect();\n  const win = element.ownerDocument.defaultView;\n  return {\n    top: rect.top + win.pageYOffset,\n    left: rect.left + win.pageXOffset\n  };\n}\n\nfunction set(element, value, index) {\n  const $element = $(element);\n  const position = $element.css('position');\n\n  if (position === 'static') {\n    $element.css('position', 'relative');\n  }\n\n  const currentOffset = get(element);\n  const currentTopString = $element.css('top');\n  const currentLeftString = $element.css('left');\n  let currentTop;\n  let currentLeft;\n  const calculatePosition = (position === 'absolute' || position === 'fixed') && (currentTopString + currentLeftString).indexOf('auto') > -1;\n\n  if (calculatePosition) {\n    const currentPosition = $element.position();\n    currentTop = currentPosition.top;\n    currentLeft = currentPosition.left;\n  } else {\n    currentTop = parseFloat(currentTopString);\n    currentLeft = parseFloat(currentLeftString);\n  }\n\n  const computedValue = isFunction(value) ? value.call(element, index, extend({}, currentOffset)) : value;\n  $element.css({\n    top: computedValue.top != null ? computedValue.top - currentOffset.top + currentTop : undefined,\n    left: computedValue.left != null ? computedValue.left - currentOffset.left + currentLeft : undefined\n  });\n}\n\n$.fn.offset = function (value) {\n  // \n  if (!arguments.length) {\n    if (!this.length) {\n      return undefined;\n    }\n\n    return get(this[0]);\n  } // \n\n\n  return this.each(function (index) {\n    set(this, value, index);\n  });\n};","import $ from '../$';\nimport './css';\nimport './map';\n/**\n * \n */\n\n$.fn.offsetParent = function () {\n  return this.map(function () {\n    let offsetParent = this.offsetParent;\n\n    while (offsetParent && $(offsetParent).css('position') === 'static') {\n      offsetParent = offsetParent.offsetParent;\n    }\n\n    return offsetParent || document.documentElement;\n  });\n};","import $ from 'mdui.jq/es/$';\nimport 'mdui.jq/es/methods/each';\n\n$.fn.transform = function (transform) {\n  return this.each(function () {\n    this.style.webkitTransform = transform;\n    this.style.transform = transform;\n  });\n};","/**\n * touch  500ms  mousedown \n *\n *  mousedown -> mouseup -> click\n *  touchstart -> touchend -> mousedown -> mouseup -> click\n *\n *  TouchHandler.isAllow(event) \n *  touchstart  touchmovetouchendtouchcancel\n *\n * (function () {\n *   $document\n *     .on(start, function (e) {\n *       if (!isAllow(e)) {\n *         return;\n *       }\n *       register(e);\n *       console.log(e.type);\n *     })\n *     .on(move, function (e) {\n *       if (!isAllow(e)) {\n *         return;\n *       }\n *       console.log(e.type);\n *     })\n *     .on(end, function (e) {\n *       if (!isAllow(e)) {\n *         return;\n *       }\n *       console.log(e.type);\n *     })\n *     .on(unlock, register);\n * })();\n */\nconst startEvent = 'touchstart mousedown';\nconst moveEvent = 'touchmove mousemove';\nconst endEvent = 'touchend mouseup';\nconst cancelEvent = 'touchcancel mouseleave';\nconst unlockEvent = 'touchend touchmove touchcancel';\nlet touches = 0;\n/**\n * \n *  touch \n * @param event\n */\n\nfunction isAllow(event) {\n  return !(touches && ['mousedown', 'mouseup', 'mousemove', 'click', 'mouseover', 'mouseout', 'mouseenter', 'mouseleave'].indexOf(event.type) > -1);\n}\n/**\n *  touchstart  touchmovetouchendtouchcancel \n * @param event\n */\n\n\nfunction register(event) {\n  if (event.type === 'touchstart') {\n    //  touch \n    touches += 1;\n  } else if (['touchmove', 'touchend', 'touchcancel'].indexOf(event.type) > -1) {\n    // touch  500ms \n    setTimeout(function () {\n      if (touches) {\n        touches -= 1;\n      }\n    }, 500);\n  }\n}\n\nexport { startEvent, moveEvent, endEvent, cancelEvent, unlockEvent, isAllow, register };","/**\n * Inspired by https://github.com/nolimits4web/Framework7/blob/master/src/js/fast-clicks.js\n * https://github.com/nolimits4web/Framework7/blob/master/LICENSE\n *\n * Inspired by https://github.com/fians/Waves\n */\nimport $ from 'mdui.jq/es/$';\nimport 'mdui.jq/es/methods/addClass';\nimport 'mdui.jq/es/methods/attr';\nimport 'mdui.jq/es/methods/children';\nimport 'mdui.jq/es/methods/data';\nimport 'mdui.jq/es/methods/each';\nimport 'mdui.jq/es/methods/first';\nimport 'mdui.jq/es/methods/hasClass';\nimport 'mdui.jq/es/methods/innerHeight';\nimport 'mdui.jq/es/methods/innerWidth';\nimport 'mdui.jq/es/methods/off';\nimport 'mdui.jq/es/methods/offset';\nimport 'mdui.jq/es/methods/on';\nimport 'mdui.jq/es/methods/parents';\nimport 'mdui.jq/es/methods/prependTo';\nimport 'mdui.jq/es/methods/prop';\nimport 'mdui.jq/es/methods/remove';\nimport { isUndefined } from 'mdui.jq/es/utils';\nimport '../../jq_extends/methods/reflow';\nimport '../../jq_extends/methods/transform';\nimport '../../jq_extends/methods/transitionEnd';\nimport { $document } from '../../utils/dom';\nimport { cancelEvent, endEvent, isAllow, moveEvent, register, startEvent, unlockEvent } from '../../utils/touchHandler';\n/**\n * \n * @param event\n * @param $ripple\n */\n\nfunction show(event, $ripple) {\n  // \n  if (event instanceof MouseEvent && event.button === 2) {\n    return;\n  } // \n\n\n  const touchPosition = typeof TouchEvent !== 'undefined' && event instanceof TouchEvent && event.touches.length ? event.touches[0] : event;\n  const touchStartX = touchPosition.pageX;\n  const touchStartY = touchPosition.pageY; // \n\n  const offset = $ripple.offset();\n  const height = $ripple.innerHeight();\n  const width = $ripple.innerWidth();\n  const center = {\n    x: touchStartX - offset.left,\n    y: touchStartY - offset.top\n  };\n  const diameter = Math.max(Math.pow(Math.pow(height, 2) + Math.pow(width, 2), 0.5), 48); // \n\n  const translate = `translate3d(${-center.x + width / 2}px,` + `${-center.y + height / 2}px, 0) scale(1)`; //  DOM \n\n  $(`<div class=\"mdui-ripple-wave\" ` + `style=\"width:${diameter}px;height:${diameter}px;` + `margin-top:-${diameter / 2}px;margin-left:-${diameter / 2}px;` + `left:${center.x}px;top:${center.y}px;\"></div>`).data('_ripple_wave_translate', translate).prependTo($ripple).reflow().transform(translate);\n}\n/**\n * \n * @param $wave\n */\n\n\nfunction removeRipple($wave) {\n  if (!$wave.length || $wave.data('_ripple_wave_removed')) {\n    return;\n  }\n\n  $wave.data('_ripple_wave_removed', true);\n  let removeTimer = setTimeout(() => $wave.remove(), 400);\n  const translate = $wave.data('_ripple_wave_translate');\n  $wave.addClass('mdui-ripple-wave-fill').transform(translate.replace('scale(1)', 'scale(1.01)')).transitionEnd(() => {\n    clearTimeout(removeTimer);\n    $wave.addClass('mdui-ripple-wave-out').transform(translate.replace('scale(1)', 'scale(1.01)'));\n    removeTimer = setTimeout(() => $wave.remove(), 700);\n    setTimeout(() => {\n      $wave.transitionEnd(() => {\n        clearTimeout(removeTimer);\n        $wave.remove();\n      });\n    }, 0);\n  });\n}\n/**\n * \n * @param this\n */\n\n\nfunction hide() {\n  const $ripple = $(this);\n  $ripple.children('.mdui-ripple-wave').each((_, wave) => {\n    removeRipple($(wave));\n  });\n  $ripple.off(`${moveEvent} ${endEvent} ${cancelEvent}`, hide);\n}\n/**\n *  touchend \n * @param event\n */\n\n\nfunction showRipple(event) {\n  if (!isAllow(event)) {\n    return;\n  }\n\n  register(event); // Chrome 59  document \n\n  if (event.target === document) {\n    return;\n  }\n\n  const $target = $(event.target); //  .mdui-ripple \n\n  const $ripple = $target.hasClass('mdui-ripple') ? $target : $target.parents('.mdui-ripple').first();\n\n  if (!$ripple.length) {\n    return;\n  } // \n\n\n  if ($ripple.prop('disabled') || !isUndefined($ripple.attr('disabled'))) {\n    return;\n  }\n\n  if (event.type === 'touchstart') {\n    let hidden = false; // touchstart \n\n    let timer = setTimeout(() => {\n      timer = 0;\n      show(event, $ripple);\n    }, 200);\n\n    const hideRipple = () => {\n      // \n      if (timer) {\n        clearTimeout(timer);\n        timer = 0;\n        show(event, $ripple);\n      }\n\n      if (!hidden) {\n        hidden = true;\n        hide.call($ripple);\n      }\n    }; // \n\n\n    const touchMove = () => {\n      if (timer) {\n        clearTimeout(timer);\n        timer = 0;\n      }\n\n      hideRipple();\n    };\n\n    $ripple.on('touchmove', touchMove).on('touchend touchcancel', hideRipple);\n  } else {\n    show(event, $ripple);\n    $ripple.on(`${moveEvent} ${endEvent} ${cancelEvent}`, hide);\n  }\n}\n\n$(() => {\n  $document.on(startEvent, showRipple).on(unlockEvent, register);\n});","import $ from 'mdui.jq/es/$';\nimport extend from 'mdui.jq/es/functions/extend';\nimport 'mdui.jq/es/methods/addClass';\nimport 'mdui.jq/es/methods/appendTo';\nimport 'mdui.jq/es/methods/attr';\nimport 'mdui.jq/es/methods/each';\nimport 'mdui.jq/es/methods/find';\nimport 'mdui.jq/es/methods/is';\nimport 'mdui.jq/es/methods/on';\nimport 'mdui.jq/es/methods/outerHeight';\nimport 'mdui.jq/es/methods/parent';\nimport 'mdui.jq/es/methods/parents';\nimport 'mdui.jq/es/methods/remove';\nimport 'mdui.jq/es/methods/removeClass';\nimport 'mdui.jq/es/methods/text';\nimport 'mdui.jq/es/methods/trigger';\nimport 'mdui.jq/es/methods/val';\nimport { isUndefined } from 'mdui.jq/es/utils';\nimport mdui from '../../mdui';\nimport '../../global/mutation';\nimport { $document } from '../../utils/dom';\nconst defaultData = {\n  reInit: false,\n  domLoadedEvent: false\n};\n/**\n * \n * @param event\n * @param data\n */\n\nfunction inputEvent(event, data = {}) {\n  data = extend({}, defaultData, data);\n  const input = event.target;\n  const $input = $(input);\n  const eventType = event.type;\n  const value = $input.val(); // \n\n  const inputType = $input.attr('type') || '';\n\n  if (['checkbox', 'button', 'submit', 'range', 'radio', 'image'].indexOf(inputType) > -1) {\n    return;\n  }\n\n  const $textfield = $input.parent('.mdui-textfield'); // \n\n  if (eventType === 'focus') {\n    $textfield.addClass('mdui-textfield-focus');\n  }\n\n  if (eventType === 'blur') {\n    $textfield.removeClass('mdui-textfield-focus');\n  } // \n\n\n  if (eventType === 'blur' || eventType === 'input') {\n    value ? $textfield.addClass('mdui-textfield-not-empty') : $textfield.removeClass('mdui-textfield-not-empty');\n  } // \n\n\n  input.disabled ? $textfield.addClass('mdui-textfield-disabled') : $textfield.removeClass('mdui-textfield-disabled'); // \n\n  if ((eventType === 'input' || eventType === 'blur') && !data.domLoadedEvent && input.validity) {\n    input.validity.valid ? $textfield.removeClass('mdui-textfield-invalid-html5') : $textfield.addClass('mdui-textfield-invalid-html5');\n  } // textarea \n\n\n  if ($input.is('textarea')) {\n    // IE bugtextarea textarea \n    //         \n    const inputValue = value;\n    let hasExtraSpace = false;\n\n    if (inputValue.replace(/[\\r\\n]/g, '') === '') {\n      $input.val(' ' + inputValue);\n      hasExtraSpace = true;\n    } //  textarea \n\n\n    $input.outerHeight('');\n    const height = $input.outerHeight();\n    const scrollHeight = input.scrollHeight;\n\n    if (scrollHeight > height) {\n      $input.outerHeight(scrollHeight);\n    } //  textarea \n\n\n    if (hasExtraSpace) {\n      $input.val(inputValue);\n    }\n  } // \n\n\n  if (data.reInit) {\n    $textfield.find('.mdui-textfield-counter').remove();\n  }\n\n  const maxLength = $input.attr('maxlength');\n\n  if (maxLength) {\n    if (data.reInit || data.domLoadedEvent) {\n      $('<div class=\"mdui-textfield-counter\">' + `<span class=\"mdui-textfield-counter-inputed\"></span> / ${maxLength}` + '</div>').appendTo($textfield);\n    }\n\n    $textfield.find('.mdui-textfield-counter-inputed').text(value.length.toString());\n  } //   \n\n\n  if ($textfield.find('.mdui-textfield-helper').length || $textfield.find('.mdui-textfield-error').length || maxLength) {\n    $textfield.addClass('mdui-textfield-has-bottom');\n  }\n}\n\n$(() => {\n  // \n  $document.on('input focus blur', '.mdui-textfield-input', {\n    useCapture: true\n  }, inputEvent); // \n\n  $document.on('click', '.mdui-textfield-expandable .mdui-textfield-icon', function () {\n    $(this).parents('.mdui-textfield').addClass('mdui-textfield-expanded').find('.mdui-textfield-input')[0].focus();\n  }); // \n\n  $document.on('click', '.mdui-textfield-expanded .mdui-textfield-close', function () {\n    $(this).parents('.mdui-textfield').removeClass('mdui-textfield-expanded').find('.mdui-textfield-input').val('');\n  });\n  /**\n   * \n   */\n\n  mdui.mutation('.mdui-textfield', function () {\n    $(this).find('.mdui-textfield-input').trigger('input', {\n      domLoadedEvent: true\n    });\n  });\n});\n\nmdui.updateTextFields = function (selector) {\n  const $elements = isUndefined(selector) ? $('.mdui-textfield') : $(selector);\n  $elements.each((_, element) => {\n    $(element).find('.mdui-textfield-input').trigger('input', {\n      reInit: true\n    });\n  });\n};","import $ from 'mdui.jq/es/$';\nimport mdui from '../../mdui';\nimport '../../global/mutation';\nimport '../headroom';\n$(() => {\n  // \n  mdui.mutation('.mdui-appbar-scroll-hide', function () {\n    new mdui.Headroom(this);\n  }); // \n\n  mdui.mutation('.mdui-appbar-scroll-toolbar-hide', function () {\n    new mdui.Headroom(this, {\n      pinnedClass: 'mdui-headroom-pinned-toolbar',\n      unpinnedClass: 'mdui-headroom-unpinned-toolbar'\n    });\n  });\n});","import $ from '../$';\nimport './each';\n\n$.fn.hide = function () {\n  return this.each(function () {\n    this.style.display = 'none';\n  });\n};","import $ from '../$';\nimport { isString } from '../utils';\nimport './children';\nimport './eq';\nimport './get';\nimport './parent';\n\n$.fn.index = function (selector) {\n  if (!arguments.length) {\n    return this.eq(0).parent().children().get().indexOf(this[0]);\n  }\n\n  if (isString(selector)) {\n    return $(selector).get().indexOf(this[0]);\n  }\n\n  return this.get().indexOf($(selector)[0]);\n};","import $ from 'mdui.jq/es/$';\nimport { isNull } from 'mdui.jq/es/utils';\n\n$.throttle = function (fn, delay = 16) {\n  let timer = null;\n  return function (...args) {\n    if (isNull(timer)) {\n      timer = setTimeout(() => {\n        fn.apply(this, args);\n        timer = null;\n      }, delay);\n    }\n  };\n};","import $ from 'mdui.jq/es/$';\nimport extend from 'mdui.jq/es/functions/extend';\nimport 'mdui.jq/es/methods/addClass';\nimport 'mdui.jq/es/methods/appendTo';\nimport 'mdui.jq/es/methods/attr';\nimport 'mdui.jq/es/methods/children';\nimport 'mdui.jq/es/methods/css';\nimport 'mdui.jq/es/methods/each';\nimport 'mdui.jq/es/methods/eq';\nimport 'mdui.jq/es/methods/first';\nimport 'mdui.jq/es/methods/get';\nimport 'mdui.jq/es/methods/hasClass';\nimport 'mdui.jq/es/methods/hide';\nimport 'mdui.jq/es/methods/index';\nimport 'mdui.jq/es/methods/innerWidth';\nimport 'mdui.jq/es/methods/offset';\nimport 'mdui.jq/es/methods/on';\nimport 'mdui.jq/es/methods/removeClass';\nimport 'mdui.jq/es/methods/show';\nimport { isNumber } from 'mdui.jq/es/utils';\nimport mdui from '../../mdui';\nimport '../../jq_extends/static/throttle';\nimport { componentEvent } from '../../utils/componentEvent';\nimport { $window } from '../../utils/dom';\nconst DEFAULT_OPTIONS = {\n  trigger: 'click',\n  loop: false\n};\n\nclass Tab {\n  constructor(selector, options = {}) {\n    /**\n     * \n     */\n    this.options = extend({}, DEFAULT_OPTIONS);\n    /**\n     *  tab  -1 \n     */\n\n    this.activeIndex = -1;\n    this.$element = $(selector).first();\n    extend(this.options, options);\n    this.$tabs = this.$element.children('a');\n    this.$indicator = $('<div class=\"mdui-tab-indicator\"></div>').appendTo(this.$element); //  url hash \n\n    const hash = window.location.hash;\n\n    if (hash) {\n      this.$tabs.each((index, tab) => {\n        if ($(tab).attr('href') === hash) {\n          this.activeIndex = index;\n          return false;\n        }\n\n        return true;\n      });\n    } //  .mdui-tab-active \n\n\n    if (this.activeIndex === -1) {\n      this.$tabs.each((index, tab) => {\n        if ($(tab).hasClass('mdui-tab-active')) {\n          this.activeIndex = index;\n          return false;\n        }\n\n        return true;\n      });\n    } // \n\n\n    if (this.$tabs.length && this.activeIndex === -1) {\n      this.activeIndex = 0;\n    } // \n\n\n    this.setActive(); // \n\n    $window.on('resize', $.throttle(() => this.setIndicatorPosition(), 100)); // \n\n    this.$tabs.each((_, tab) => {\n      this.bindTabEvent(tab);\n    });\n  }\n  /**\n   * \n   * @param $tab\n   */\n\n\n  isDisabled($tab) {\n    return $tab.attr('disabled') !== undefined;\n  }\n  /**\n   *  Tab \n   * @param tab\n   */\n\n\n  bindTabEvent(tab) {\n    const $tab = $(tab); // \n\n    const clickEvent = () => {\n      // \n      if (this.isDisabled($tab)) {\n        return false;\n      }\n\n      this.activeIndex = this.$tabs.index(tab);\n      this.setActive();\n    }; //  trigger  click  hover click \n\n\n    $tab.on('click', clickEvent); // trigger  hover  mouseenter \n\n    if (this.options.trigger === 'hover') {\n      $tab.on('mouseenter', clickEvent);\n    } // \n\n\n    $tab.on('click', () => {\n      if (($tab.attr('href') || '').indexOf('#') === 0) {\n        return false;\n      }\n    });\n  }\n  /**\n   * \n   * @param name\n   * @param $element\n   * @param parameters\n   */\n\n\n  triggerEvent(name, $element, parameters = {}) {\n    componentEvent(name, 'tab', $element, this, parameters);\n  }\n  /**\n   * \n   */\n\n\n  setActive() {\n    this.$tabs.each((index, tab) => {\n      const $tab = $(tab);\n      const targetId = $tab.attr('href') || ''; // \n\n      if (index === this.activeIndex && !this.isDisabled($tab)) {\n        if (!$tab.hasClass('mdui-tab-active')) {\n          this.triggerEvent('change', this.$element, {\n            index: this.activeIndex,\n            id: targetId.substr(1)\n          });\n          this.triggerEvent('show', $tab);\n          $tab.addClass('mdui-tab-active');\n        }\n\n        $(targetId).show();\n        this.setIndicatorPosition();\n      } else {\n        $tab.removeClass('mdui-tab-active');\n        $(targetId).hide();\n      }\n    });\n  }\n  /**\n   * \n   */\n\n\n  setIndicatorPosition() {\n    //  0 \n    if (this.activeIndex === -1) {\n      this.$indicator.css({\n        left: 0,\n        width: 0\n      });\n      return;\n    }\n\n    const $activeTab = this.$tabs.eq(this.activeIndex);\n\n    if (this.isDisabled($activeTab)) {\n      return;\n    }\n\n    const activeTabOffset = $activeTab.offset();\n    this.$indicator.css({\n      left: `${activeTabOffset.left + this.$element[0].scrollLeft - this.$element[0].getBoundingClientRect().left}px`,\n      width: `${$activeTab.innerWidth()}px`\n    });\n  }\n  /**\n   * \n   */\n\n\n  next() {\n    if (this.activeIndex === -1) {\n      return;\n    }\n\n    if (this.$tabs.length > this.activeIndex + 1) {\n      this.activeIndex++;\n    } else if (this.options.loop) {\n      this.activeIndex = 0;\n    }\n\n    this.setActive();\n  }\n  /**\n   * \n   */\n\n\n  prev() {\n    if (this.activeIndex === -1) {\n      return;\n    }\n\n    if (this.activeIndex > 0) {\n      this.activeIndex--;\n    } else if (this.options.loop) {\n      this.activeIndex = this.$tabs.length - 1;\n    }\n\n    this.setActive();\n  }\n  /**\n   * id\n   * @param index id\n   */\n\n\n  show(index) {\n    if (this.activeIndex === -1) {\n      return;\n    }\n\n    if (isNumber(index)) {\n      this.activeIndex = index;\n    } else {\n      this.$tabs.each((i, tab) => {\n        if (tab.id === index) {\n          this.activeIndex === i;\n          return false;\n        }\n      });\n    }\n\n    this.setActive();\n  }\n  /**\n   * \n   * \n   */\n\n\n  handleUpdate() {\n    const $oldTabs = this.$tabs; //  tabs JQ\n\n    const $newTabs = this.$element.children('a'); //  tabs JQ\n\n    const oldTabsElement = $oldTabs.get(); //  tabs \n\n    const newTabsElement = $newTabs.get(); //  tabs \n\n    if (!$newTabs.length) {\n      this.activeIndex = -1;\n      this.$tabs = $newTabs;\n      this.setIndicatorPosition();\n      return;\n    } // \n\n\n    $newTabs.each((index, tab) => {\n      // \n      if (oldTabsElement.indexOf(tab) < 0) {\n        this.bindTabEvent(tab);\n\n        if (this.activeIndex === -1) {\n          this.activeIndex = 0;\n        } else if (index <= this.activeIndex) {\n          this.activeIndex++;\n        }\n      }\n    }); // \n\n    $oldTabs.each((index, tab) => {\n      // \n      if (newTabsElement.indexOf(tab) < 0) {\n        if (index < this.activeIndex) {\n          this.activeIndex--;\n        } else if (index === this.activeIndex) {\n          this.activeIndex = 0;\n        }\n      }\n    });\n    this.$tabs = $newTabs;\n    this.setActive();\n  }\n\n}\n\nmdui.Tab = Tab;","import $ from 'mdui.jq/es/$';\nimport 'mdui.jq/es/methods/attr';\n/**\n *  DATA API \n * @param element \n * @param name \n */\n\nfunction parseOptions(element, name) {\n  const attr = $(element).attr(name);\n\n  if (!attr) {\n    return {};\n  }\n\n  return new Function('', `var json = ${attr}; return JSON.parse(JSON.stringify(json));`)();\n}\n\nexport { parseOptions };","import $ from 'mdui.jq/es/$';\nimport mdui from '../../mdui';\nimport '../../global/mutation';\nimport { parseOptions } from '../../utils/parseOptions';\nimport './index';\nconst customAttr = 'mdui-tab';\n$(() => {\n  mdui.mutation(`[${customAttr}]`, function () {\n    new mdui.Tab(this, parseOptions(this, customAttr));\n  });\n});","import $ from '../$';\nimport './on';\n\n$.fn.one = function (types, selector, data, callback) {\n  // @ts-ignore\n  return this.on(types, selector, data, callback, true);\n};","/**\n * \n * \n */\nimport $ from 'mdui.jq/es/$';\nimport extend from 'mdui.jq/es/functions/extend';\nimport 'mdui.jq/es/methods/addClass';\nimport 'mdui.jq/es/methods/each';\nimport 'mdui.jq/es/methods/find';\nimport 'mdui.jq/es/methods/first';\nimport 'mdui.jq/es/methods/hasClass';\nimport 'mdui.jq/es/methods/off';\nimport 'mdui.jq/es/methods/on';\nimport 'mdui.jq/es/methods/one';\nimport 'mdui.jq/es/methods/removeClass';\nimport 'mdui.jq/es/methods/width';\nimport mdui from '../../mdui';\nimport '../../jq_extends/methods/transitionEnd';\nimport '../../jq_extends/static/hideOverlay';\nimport '../../jq_extends/static/lockScreen';\nimport '../../jq_extends/static/showOverlay';\nimport '../../jq_extends/static/throttle';\nimport '../../jq_extends/static/unlockScreen';\nimport { componentEvent } from '../../utils/componentEvent';\nimport { $window } from '../../utils/dom';\nconst DEFAULT_OPTIONS = {\n  overlay: false,\n  swipe: false\n};\n\nclass Drawer {\n  constructor(selector, options = {}) {\n    /**\n     * \n     */\n    this.options = extend({}, DEFAULT_OPTIONS);\n    /**\n     * \n     */\n\n    this.overlay = false;\n    this.$element = $(selector).first();\n    extend(this.options, options);\n    this.position = this.$element.hasClass('mdui-drawer-right') ? 'right' : 'left';\n\n    if (this.$element.hasClass('mdui-drawer-close')) {\n      this.state = 'closed';\n    } else if (this.$element.hasClass('mdui-drawer-open')) {\n      this.state = 'opened';\n    } else if (this.isDesktop()) {\n      this.state = 'opened';\n    } else {\n      this.state = 'closed';\n    } // \n\n\n    $window.on('resize', $.throttle(() => {\n      if (this.isDesktop()) {\n        // \n        // \n        if (this.overlay && !this.options.overlay) {\n          $.hideOverlay();\n          this.overlay = false;\n          $.unlockScreen();\n        } // \n\n\n        if (!this.$element.hasClass('mdui-drawer-close')) {\n          this.state = 'opened';\n        }\n      } else if (!this.overlay && this.state === 'opened') {\n        // \n        if (this.$element.hasClass('mdui-drawer-open')) {\n          $.showOverlay();\n          this.overlay = true;\n          $.lockScreen();\n          $('.mdui-overlay').one('click', () => this.close());\n        } else {\n          this.state = 'closed';\n        }\n      }\n    }, 100)); // \n\n    this.$element.find('[mdui-drawer-close]').each((_, close) => {\n      $(close).on('click', () => this.close());\n    });\n    this.swipeSupport();\n  }\n  /**\n   * \n   */\n\n\n  isDesktop() {\n    return $window.width() >= 1024;\n  }\n  /**\n   * \n   */\n\n\n  swipeSupport() {\n    // eslint-disable-next-line @typescript-eslint/no-this-alias\n    const that = this; // \n\n    let openNavEventHandler;\n    let touchStartX;\n    let touchStartY;\n    let swipeStartX;\n    let swiping = null;\n    let maybeSwiping = false;\n    const $body = $('body'); // \n\n    const swipeAreaWidth = 24;\n\n    function setPosition(translateX) {\n      const rtlTranslateMultiplier = that.position === 'right' ? -1 : 1;\n      const transformCSS = `translate(${-1 * rtlTranslateMultiplier * translateX}px, 0) !important;`;\n      const transitionCSS = 'initial !important;';\n      that.$element.css('cssText', `transform: ${transformCSS}; transition: ${transitionCSS};`);\n    }\n\n    function cleanPosition() {\n      that.$element[0].style.transform = '';\n      that.$element[0].style.webkitTransform = '';\n      that.$element[0].style.transition = '';\n      that.$element[0].style.webkitTransition = '';\n    }\n\n    function getMaxTranslateX() {\n      return that.$element.width() + 10;\n    }\n\n    function getTranslateX(currentX) {\n      return Math.min(Math.max(swiping === 'closing' ? swipeStartX - currentX : getMaxTranslateX() + swipeStartX - currentX, 0), getMaxTranslateX());\n    }\n\n    function onBodyTouchEnd(event) {\n      if (swiping) {\n        let touchX = event.changedTouches[0].pageX;\n\n        if (that.position === 'right') {\n          touchX = $body.width() - touchX;\n        }\n\n        const translateRatio = getTranslateX(touchX) / getMaxTranslateX();\n        maybeSwiping = false;\n        const swipingState = swiping;\n        swiping = null;\n\n        if (swipingState === 'opening') {\n          if (translateRatio < 0.92) {\n            cleanPosition();\n            that.open();\n          } else {\n            cleanPosition();\n          }\n        } else {\n          if (translateRatio > 0.08) {\n            cleanPosition();\n            that.close();\n          } else {\n            cleanPosition();\n          }\n        }\n\n        $.unlockScreen();\n      } else {\n        maybeSwiping = false;\n      }\n\n      $body.off({\n        // eslint-disable-next-line @typescript-eslint/no-use-before-define\n        touchmove: onBodyTouchMove,\n        touchend: onBodyTouchEnd,\n        // eslint-disable-next-line @typescript-eslint/no-use-before-define\n        touchcancel: onBodyTouchMove\n      });\n    }\n\n    function onBodyTouchMove(event) {\n      let touchX = event.touches[0].pageX;\n\n      if (that.position === 'right') {\n        touchX = $body.width() - touchX;\n      }\n\n      const touchY = event.touches[0].pageY;\n\n      if (swiping) {\n        setPosition(getTranslateX(touchX));\n      } else if (maybeSwiping) {\n        const dXAbs = Math.abs(touchX - touchStartX);\n        const dYAbs = Math.abs(touchY - touchStartY);\n        const threshold = 8;\n\n        if (dXAbs > threshold && dYAbs <= threshold) {\n          swipeStartX = touchX;\n          swiping = that.state === 'opened' ? 'closing' : 'opening';\n          $.lockScreen();\n          setPosition(getTranslateX(touchX));\n        } else if (dXAbs <= threshold && dYAbs > threshold) {\n          onBodyTouchEnd();\n        }\n      }\n    }\n\n    function onBodyTouchStart(event) {\n      touchStartX = event.touches[0].pageX;\n\n      if (that.position === 'right') {\n        touchStartX = $body.width() - touchStartX;\n      }\n\n      touchStartY = event.touches[0].pageY;\n\n      if (that.state !== 'opened') {\n        if (touchStartX > swipeAreaWidth || openNavEventHandler !== onBodyTouchStart) {\n          return;\n        }\n      }\n\n      maybeSwiping = true;\n      $body.on({\n        touchmove: onBodyTouchMove,\n        touchend: onBodyTouchEnd,\n        touchcancel: onBodyTouchMove\n      });\n    }\n\n    function enableSwipeHandling() {\n      if (!openNavEventHandler) {\n        $body.on('touchstart', onBodyTouchStart);\n        openNavEventHandler = onBodyTouchStart;\n      }\n    }\n\n    if (this.options.swipe) {\n      enableSwipeHandling();\n    }\n  }\n  /**\n   * \n   * @param name\n   */\n\n\n  triggerEvent(name) {\n    componentEvent(name, 'drawer', this.$element, this);\n  }\n  /**\n   * \n   */\n\n\n  transitionEnd() {\n    if (this.$element.hasClass('mdui-drawer-open')) {\n      this.state = 'opened';\n      this.triggerEvent('opened');\n    } else {\n      this.state = 'closed';\n      this.triggerEvent('closed');\n    }\n  }\n  /**\n   * \n   */\n\n\n  isOpen() {\n    return this.state === 'opening' || this.state === 'opened';\n  }\n  /**\n   * \n   */\n\n\n  open() {\n    if (this.isOpen()) {\n      return;\n    }\n\n    this.state = 'opening';\n    this.triggerEvent('open');\n\n    if (!this.options.overlay) {\n      $('body').addClass(`mdui-drawer-body-${this.position}`);\n    }\n\n    this.$element.removeClass('mdui-drawer-close').addClass('mdui-drawer-open').transitionEnd(() => this.transitionEnd());\n\n    if (!this.isDesktop() || this.options.overlay) {\n      this.overlay = true;\n      $.showOverlay().one('click', () => this.close());\n      $.lockScreen();\n    }\n  }\n  /**\n   * \n   */\n\n\n  close() {\n    if (!this.isOpen()) {\n      return;\n    }\n\n    this.state = 'closing';\n    this.triggerEvent('close');\n\n    if (!this.options.overlay) {\n      $('body').removeClass(`mdui-drawer-body-${this.position}`);\n    }\n\n    this.$element.addClass('mdui-drawer-close').removeClass('mdui-drawer-open').transitionEnd(() => this.transitionEnd());\n\n    if (this.overlay) {\n      $.hideOverlay();\n      this.overlay = false;\n      $.unlockScreen();\n    }\n  }\n  /**\n   * /\n   */\n\n\n  toggle() {\n    this.isOpen() ? this.close() : this.open();\n  }\n  /**\n   * `opening``opened``closing``closed`\n   */\n\n\n  getState() {\n    return this.state;\n  }\n\n}\n\nmdui.Drawer = Drawer;","import $ from 'mdui.jq/es/$';\nimport 'mdui.jq/es/methods/first';\nimport 'mdui.jq/es/methods/on';\nimport mdui from '../../mdui';\nimport '../../global/mutation';\nimport { parseOptions } from '../../utils/parseOptions';\nimport './index';\nconst customAttr = 'mdui-drawer';\n$(() => {\n  mdui.mutation(`[${customAttr}]`, function () {\n    const $element = $(this);\n    const options = parseOptions(this, customAttr);\n    const selector = options.target; // @ts-ignore\n\n    delete options.target;\n    const $drawer = $(selector).first();\n    const instance = new mdui.Drawer($drawer, options);\n    $element.on('click', () => instance.toggle());\n  });\n});","import $ from '../$';\nimport each from '../functions/each';\nimport { getChildNodesArray, isFunction, isString, isElement } from '../utils';\nimport './each';\nimport './insertAfter';\nimport './insertBefore';\n/**\n *  HTML  <> \n * @param target\n */\n\nfunction isPlainText(target) {\n  return isString(target) && (target[0] !== '<' || target[target.length - 1] !== '>');\n}\n\neach(['before', 'after'], (nameIndex, name) => {\n  $.fn[name] = function (...args) {\n    // after \n    if (nameIndex === 1) {\n      args = args.reverse();\n    }\n\n    return this.each((index, element) => {\n      const targets = isFunction(args[0]) ? [args[0].call(element, index, element.innerHTML)] : args;\n      each(targets, (_, target) => {\n        let $target;\n\n        if (isPlainText(target)) {\n          $target = $(getChildNodesArray(target, 'div'));\n        } else if (index && isElement(target)) {\n          $target = $(target.cloneNode(true));\n        } else {\n          $target = $(target);\n        }\n\n        $target[nameIndex ? 'insertAfter' : 'insertBefore'](element);\n      });\n    });\n  };\n});","import $ from '../$';\nimport each from '../functions/each';\nimport { isFunction, isString } from '../utils';\nimport './after';\nimport './before';\nimport './clone';\nimport './each';\nimport './map';\nimport './remove';\neach(['prepend', 'append'], (nameIndex, name) => {\n  $.fn[name] = function (...args) {\n    return this.each((index, element) => {\n      const childNodes = element.childNodes;\n      const childLength = childNodes.length;\n      const child = childLength ? childNodes[nameIndex ? childLength - 1 : 0] : document.createElement('div');\n\n      if (!childLength) {\n        element.appendChild(child);\n      }\n\n      let contents = isFunction(args[0]) ? [args[0].call(element, index, element.innerHTML)] : args; // \n\n      if (index) {\n        contents = contents.map(content => {\n          return isString(content) ? content : $(content).clone();\n        });\n      }\n\n      $(child)[nameIndex ? 'after' : 'before'](...contents);\n\n      if (!childLength) {\n        element.removeChild(child);\n      }\n    });\n  };\n});","import { isUndefined } from 'mdui.jq/es/utils';\nconst container = {};\n\nfunction queue(name, func) {\n  if (isUndefined(container[name])) {\n    container[name] = [];\n  }\n\n  if (isUndefined(func)) {\n    return container[name];\n  }\n\n  container[name].push(func);\n}\n/**\n * \n * @param name \n */\n\n\nfunction dequeue(name) {\n  if (isUndefined(container[name])) {\n    return;\n  }\n\n  if (!container[name].length) {\n    return;\n  }\n\n  const func = container[name].shift();\n  func();\n}\n\nexport { queue, dequeue };","import $ from 'mdui.jq/es/$';\nimport contains from 'mdui.jq/es/functions/contains';\nimport extend from 'mdui.jq/es/functions/extend';\nimport 'mdui.jq/es/methods/addClass';\nimport 'mdui.jq/es/methods/append';\nimport 'mdui.jq/es/methods/children';\nimport 'mdui.jq/es/methods/css';\nimport 'mdui.jq/es/methods/each';\nimport 'mdui.jq/es/methods/find';\nimport 'mdui.jq/es/methods/first';\nimport 'mdui.jq/es/methods/hasClass';\nimport 'mdui.jq/es/methods/height';\nimport 'mdui.jq/es/methods/hide';\nimport 'mdui.jq/es/methods/innerHeight';\nimport 'mdui.jq/es/methods/off';\nimport 'mdui.jq/es/methods/on';\nimport 'mdui.jq/es/methods/remove';\nimport 'mdui.jq/es/methods/removeClass';\nimport 'mdui.jq/es/methods/show';\nimport '../../jq_extends/methods/transitionEnd';\nimport '../../jq_extends/static/hideOverlay';\nimport '../../jq_extends/static/lockScreen';\nimport '../../jq_extends/static/showOverlay';\nimport '../../jq_extends/static/throttle';\nimport '../../jq_extends/static/unlockScreen';\nimport { componentEvent } from '../../utils/componentEvent';\nimport { $window } from '../../utils/dom';\nimport { dequeue, queue } from '../../utils/queue';\nconst DEFAULT_OPTIONS = {\n  history: true,\n  overlay: true,\n  modal: false,\n  closeOnEsc: true,\n  closeOnCancel: true,\n  closeOnConfirm: true,\n  destroyOnClosed: false\n};\n/**\n * \n */\n\nlet currentInst = null;\n/**\n * \n */\n\nconst queueName = '_mdui_dialog';\n/**\n * \n */\n\nlet isLockScreen = false;\n/**\n * \n */\n\nlet $overlay;\n\nclass Dialog {\n  constructor(selector, options = {}) {\n    /**\n     * \n     */\n    this.options = extend({}, DEFAULT_OPTIONS);\n    /**\n     *  dialog \n     */\n\n    this.state = 'closed';\n    /**\n     * dialog \n     */\n\n    this.append = false;\n    this.$element = $(selector).first(); // \n\n    if (!contains(document.body, this.$element[0])) {\n      this.append = true;\n      $('body').append(this.$element);\n    }\n\n    extend(this.options, options); // \n\n    this.$element.find('[mdui-dialog-cancel]').each((_, cancel) => {\n      $(cancel).on('click', () => {\n        this.triggerEvent('cancel');\n\n        if (this.options.closeOnCancel) {\n          this.close();\n        }\n      });\n    }); // \n\n    this.$element.find('[mdui-dialog-confirm]').each((_, confirm) => {\n      $(confirm).on('click', () => {\n        this.triggerEvent('confirm');\n\n        if (this.options.closeOnConfirm) {\n          this.close();\n        }\n      });\n    }); // \n\n    this.$element.find('[mdui-dialog-close]').each((_, close) => {\n      $(close).on('click', () => this.close());\n    });\n  }\n  /**\n   * \n   * @param name\n   */\n\n\n  triggerEvent(name) {\n    componentEvent(name, 'dialog', this.$element, this);\n  }\n  /**\n   * \n   */\n\n\n  readjust() {\n    if (!currentInst) {\n      return;\n    }\n\n    const $element = currentInst.$element;\n    const $title = $element.children('.mdui-dialog-title');\n    const $content = $element.children('.mdui-dialog-content');\n    const $actions = $element.children('.mdui-dialog-actions'); //  dialog  top  height \n\n    $element.height('');\n    $content.height('');\n    const elementHeight = $element.height();\n    $element.css({\n      top: `${($window.height() - elementHeight) / 2}px`,\n      height: `${elementHeight}px`\n    }); //  mdui-dialog-content \n\n    $content.innerHeight(elementHeight - ($title.innerHeight() || 0) - ($actions.innerHeight() || 0));\n  }\n  /**\n   * hashchange \n   */\n\n\n  hashchangeEvent() {\n    if (window.location.hash.substring(1).indexOf('mdui-dialog') < 0) {\n      currentInst.close(true);\n    }\n  }\n  /**\n   * \n   * @param event\n   */\n\n\n  overlayClick(event) {\n    if ($(event.target).hasClass('mdui-overlay') && currentInst) {\n      currentInst.close();\n    }\n  }\n  /**\n   * \n   */\n\n\n  transitionEnd() {\n    if (this.$element.hasClass('mdui-dialog-open')) {\n      this.state = 'opened';\n      this.triggerEvent('opened');\n    } else {\n      this.state = 'closed';\n      this.triggerEvent('closed');\n      this.$element.hide(); // \n\n      if (!queue(queueName).length && !currentInst && isLockScreen) {\n        $.unlockScreen();\n        isLockScreen = false;\n      }\n\n      $window.off('resize', $.throttle(this.readjust, 100));\n\n      if (this.options.destroyOnClosed) {\n        this.destroy();\n      }\n    }\n  }\n  /**\n   * \n   */\n\n\n  doOpen() {\n    currentInst = this;\n\n    if (!isLockScreen) {\n      $.lockScreen();\n      isLockScreen = true;\n    }\n\n    this.$element.show();\n    this.readjust();\n    $window.on('resize', $.throttle(this.readjust, 100)); // \n\n    this.state = 'opening';\n    this.triggerEvent('open');\n    this.$element.addClass('mdui-dialog-open').transitionEnd(() => this.transitionEnd()); // \n\n    if (!$overlay) {\n      $overlay = $.showOverlay(5100);\n    } // \n\n\n    if (this.options.modal) {\n      $overlay.off('click', this.overlayClick);\n    } else {\n      $overlay.on('click', this.overlayClick);\n    } // \n\n\n    $overlay.css('opacity', this.options.overlay ? '' : 0);\n\n    if (this.options.history) {\n      //  hash  mdui-dialog mdui-dialog \n      //  mdui-dialog  &mdui-dialog  ?mdui-dialog\n      let hash = window.location.hash.substring(1);\n\n      if (hash.indexOf('mdui-dialog') > -1) {\n        hash = hash.replace(/[&?]?mdui-dialog/g, '');\n      } // \n\n\n      if (hash) {\n        window.location.hash = `${hash}${hash.indexOf('?') > -1 ? '&' : '?'}mdui-dialog`;\n      } else {\n        window.location.hash = 'mdui-dialog';\n      }\n\n      $window.on('hashchange', this.hashchangeEvent);\n    }\n  }\n  /**\n   * \n   */\n\n\n  isOpen() {\n    return this.state === 'opening' || this.state === 'opened';\n  }\n  /**\n   * \n   */\n\n\n  open() {\n    if (this.isOpen()) {\n      return;\n    } // ,\n\n\n    if (currentInst && (currentInst.state === 'opening' || currentInst.state === 'opened') || queue(queueName).length) {\n      queue(queueName, () => this.doOpen());\n      return;\n    }\n\n    this.doOpen();\n  }\n  /**\n   * \n   */\n\n\n  close(historyBack = false) {\n    // historyBack  `false`\n    //  `false`  js \n    //  `true` \n    // setTimeout \n    // \n    setTimeout(() => {\n      if (!this.isOpen()) {\n        return;\n      }\n\n      currentInst = null;\n      this.state = 'closing';\n      this.triggerEvent('close'); // \n\n      if (!queue(queueName).length && $overlay) {\n        $.hideOverlay();\n        $overlay = null; //  z-index\n\n        $('.mdui-overlay').css('z-index', 2000);\n      }\n\n      this.$element.removeClass('mdui-dialog-open').transitionEnd(() => this.transitionEnd());\n\n      if (this.options.history && !queue(queueName).length) {\n        if (!historyBack) {\n          window.history.back();\n        }\n\n        $window.off('hashchange', this.hashchangeEvent);\n      } // \n      // \n\n\n      setTimeout(() => {\n        dequeue(queueName);\n      }, 100);\n    });\n  }\n  /**\n   * /\n   */\n\n\n  toggle() {\n    this.isOpen() ? this.close() : this.open();\n  }\n  /**\n   * `opening``opened``closing``closed`\n   */\n\n\n  getState() {\n    return this.state;\n  }\n  /**\n   * \n   */\n\n\n  destroy() {\n    if (this.append) {\n      this.$element.remove();\n    }\n\n    if (!queue(queueName).length && !currentInst) {\n      if ($overlay) {\n        $.hideOverlay();\n        $overlay = null;\n      }\n\n      if (isLockScreen) {\n        $.unlockScreen();\n        isLockScreen = false;\n      }\n    }\n  }\n  /**\n   * \n   */\n\n\n  handleUpdate() {\n    this.readjust();\n  }\n\n}\n\nexport { currentInst, Dialog };","import mdui from '../../mdui';\nimport 'mdui.jq/es/methods/on';\nimport { $document } from '../../utils/dom';\nimport { currentInst, Dialog } from './class'; // esc \n\n$document.on('keydown', event => {\n  if (currentInst && currentInst.options.closeOnEsc && currentInst.state === 'opened' && event.keyCode === 27) {\n    currentInst.close();\n  }\n});\nmdui.Dialog = Dialog;","import $ from 'mdui.jq/es/$';\nimport each from 'mdui.jq/es/functions/each';\nimport extend from 'mdui.jq/es/functions/extend';\nimport 'mdui.jq/es/methods/each';\nimport 'mdui.jq/es/methods/find';\nimport 'mdui.jq/es/methods/on';\nimport mdui from '../../mdui';\nimport './index';\nconst DEFAULT_BUTTON = {\n  text: '',\n  bold: false,\n  close: true,\n  // eslint-disable-next-line @typescript-eslint/no-empty-function\n  onClick: () => {}\n};\nconst DEFAULT_OPTIONS = {\n  title: '',\n  content: '',\n  buttons: [],\n  stackedButtons: false,\n  cssClass: '',\n  history: true,\n  overlay: true,\n  modal: false,\n  closeOnEsc: true,\n  destroyOnClosed: true,\n  // eslint-disable-next-line @typescript-eslint/no-empty-function\n  onOpen: () => {},\n  // eslint-disable-next-line @typescript-eslint/no-empty-function\n  onOpened: () => {},\n  // eslint-disable-next-line @typescript-eslint/no-empty-function\n  onClose: () => {},\n  // eslint-disable-next-line @typescript-eslint/no-empty-function\n  onClosed: () => {}\n};\n\nmdui.dialog = function (options) {\n  var _a, _b; // \n\n\n  options = extend({}, DEFAULT_OPTIONS, options);\n  each(options.buttons, (i, button) => {\n    options.buttons[i] = extend({}, DEFAULT_BUTTON, button);\n  }); //  HTML\n\n  let buttonsHTML = '';\n\n  if ((_a = options.buttons) === null || _a === void 0 ? void 0 : _a.length) {\n    buttonsHTML = `<div class=\"mdui-dialog-actions${options.stackedButtons ? ' mdui-dialog-actions-stacked' : ''}\">`;\n    each(options.buttons, (_, button) => {\n      buttonsHTML += '<a href=\"javascript:void(0)\" ' + `class=\"mdui-btn mdui-ripple mdui-text-color-primary ${button.bold ? 'mdui-btn-bold' : ''}\">${button.text}</a>`;\n    });\n    buttonsHTML += '</div>';\n  } // Dialog  HTML\n\n\n  const HTML = `<div class=\"mdui-dialog ${options.cssClass}\">` + (options.title ? `<div class=\"mdui-dialog-title\">${options.title}</div>` : '') + (options.content ? `<div class=\"mdui-dialog-content\">${options.content}</div>` : '') + buttonsHTML + '</div>'; //  Dialog\n\n  const instance = new mdui.Dialog(HTML, {\n    history: options.history,\n    overlay: options.overlay,\n    modal: options.modal,\n    closeOnEsc: options.closeOnEsc,\n    destroyOnClosed: options.destroyOnClosed\n  }); // \n\n  if ((_b = options.buttons) === null || _b === void 0 ? void 0 : _b.length) {\n    instance.$element.find('.mdui-dialog-actions .mdui-btn').each((index, button) => {\n      $(button).on('click', () => {\n        options.buttons[index].onClick(instance);\n\n        if (options.buttons[index].close) {\n          instance.close();\n        }\n      });\n    });\n  } // \n\n\n  instance.$element.on('open.mdui.dialog', () => {\n    options.onOpen(instance);\n  }).on('opened.mdui.dialog', () => {\n    options.onOpened(instance);\n  }).on('close.mdui.dialog', () => {\n    options.onClose(instance);\n  }).on('closed.mdui.dialog', () => {\n    options.onClosed(instance);\n  });\n  instance.open();\n  return instance;\n};","import extend from 'mdui.jq/es/functions/extend';\nimport { isFunction, isUndefined } from 'mdui.jq/es/utils';\nimport mdui from '../../mdui';\nimport './dialog';\nconst DEFAULT_OPTIONS = {\n  confirmText: 'ok',\n  cancelText: 'cancel',\n  history: true,\n  modal: false,\n  closeOnEsc: true,\n  closeOnCancel: true,\n  closeOnConfirm: true\n};\n\nmdui.confirm = function (text, title, onConfirm, onCancel, options) {\n  if (isFunction(title)) {\n    options = onCancel;\n    onCancel = onConfirm;\n    onConfirm = title;\n    title = '';\n  }\n\n  if (isUndefined(onConfirm)) {\n    // eslint-disable-next-line @typescript-eslint/no-empty-function\n    onConfirm = () => {};\n  }\n\n  if (isUndefined(onCancel)) {\n    // eslint-disable-next-line @typescript-eslint/no-empty-function\n    onCancel = () => {};\n  }\n\n  if (isUndefined(options)) {\n    options = {};\n  }\n\n  options = extend({}, DEFAULT_OPTIONS, options);\n  return mdui.dialog({\n    title: title,\n    content: text,\n    buttons: [{\n      text: options.cancelText,\n      bold: false,\n      close: options.closeOnCancel,\n      onClick: onCancel\n    }, {\n      text: options.confirmText,\n      bold: false,\n      close: options.closeOnConfirm,\n      onClick: onConfirm\n    }],\n    cssClass: 'mdui-dialog-confirm',\n    history: options.history,\n    modal: options.modal,\n    closeOnEsc: options.closeOnEsc\n  });\n};","import $ from 'mdui.jq/es/$';\nimport 'mdui.jq/es/methods/each';\n\n$.fn.transformOrigin = function (transformOrigin) {\n  return this.each(function () {\n    this.style.webkitTransformOrigin = transformOrigin;\n    this.style.transformOrigin = transformOrigin;\n  });\n};","import $ from 'mdui.jq/es/$';\nimport { isUndefined } from 'mdui.jq/es/utils';\nconst GUID = {};\n\n$.guid = function (name) {\n  if (!isUndefined(name) && !isUndefined(GUID[name])) {\n    return GUID[name];\n  }\n\n  function s4() {\n    return Math.floor((1 + Math.random()) * 0x10000).toString(16).substring(1);\n  }\n\n  const guid = '_' + s4() + s4() + '-' + s4() + '-' + s4() + '-' + s4() + '-' + s4() + s4() + s4();\n\n  if (!isUndefined(name)) {\n    GUID[name] = guid;\n  }\n\n  return guid;\n};","import $ from 'mdui.jq/es/$';\nimport extend from 'mdui.jq/es/functions/extend';\nimport 'mdui.jq/es/methods/addClass';\nimport 'mdui.jq/es/methods/appendTo';\nimport 'mdui.jq/es/methods/attr';\nimport 'mdui.jq/es/methods/css';\nimport 'mdui.jq/es/methods/first';\nimport 'mdui.jq/es/methods/hasClass';\nimport 'mdui.jq/es/methods/height';\nimport 'mdui.jq/es/methods/html';\nimport 'mdui.jq/es/methods/offset';\nimport 'mdui.jq/es/methods/on';\nimport 'mdui.jq/es/methods/removeClass';\nimport 'mdui.jq/es/methods/width';\nimport mdui from '../../mdui';\nimport '../../jq_extends/methods/transformOrigin';\nimport '../../jq_extends/methods/transitionEnd';\nimport '../../jq_extends/static/guid';\nimport { componentEvent } from '../../utils/componentEvent';\nimport { $window } from '../../utils/dom';\nimport { isAllow, register, unlockEvent } from '../../utils/touchHandler';\nconst DEFAULT_OPTIONS = {\n  position: 'auto',\n  delay: 0,\n  content: ''\n};\n\nclass Tooltip {\n  constructor(selector, options = {}) {\n    /**\n     * \n     */\n    this.options = extend({}, DEFAULT_OPTIONS);\n    /**\n     *  tooltip \n     */\n\n    this.state = 'closed';\n    /**\n     * setTimeout \n     */\n\n    this.timeoutId = null;\n    this.$target = $(selector).first();\n    extend(this.options, options); //  Tooltip HTML\n\n    this.$element = $(`<div class=\"mdui-tooltip\" id=\"${$.guid()}\">${this.options.content}</div>`).appendTo(document.body); //  disabled  touch \n    // eslint-disable-next-line @typescript-eslint/no-this-alias\n\n    const that = this;\n    this.$target.on('touchstart mouseenter', function (event) {\n      if (that.isDisabled(this)) {\n        return;\n      }\n\n      if (!isAllow(event)) {\n        return;\n      }\n\n      register(event);\n      that.open();\n    }).on('touchend mouseleave', function (event) {\n      if (that.isDisabled(this)) {\n        return;\n      }\n\n      if (!isAllow(event)) {\n        return;\n      }\n\n      that.close();\n    }).on(unlockEvent, function (event) {\n      if (that.isDisabled(this)) {\n        return;\n      }\n\n      register(event);\n    });\n  }\n  /**\n   * \n   * @param element\n   */\n\n\n  isDisabled(element) {\n    return element.disabled || $(element).attr('disabled') !== undefined;\n  }\n  /**\n   * \n   */\n\n\n  isDesktop() {\n    return $window.width() > 1024;\n  }\n  /**\n   *  Tooltip \n   */\n\n\n  setPosition() {\n    let marginLeft;\n    let marginTop; // \n\n    const targetProps = this.$target[0].getBoundingClientRect(); //  Tooltip \n\n    const targetMargin = this.isDesktop() ? 14 : 24; // Tooltip \n\n    const tooltipWidth = this.$element[0].offsetWidth;\n    const tooltipHeight = this.$element[0].offsetHeight; // Tooltip \n\n    let position = this.options.position; //  2px Tooltip  2px \n\n    if (position === 'auto') {\n      if (targetProps.top + targetProps.height + targetMargin + tooltipHeight + 2 < $window.height()) {\n        position = 'bottom';\n      } else if (targetMargin + tooltipHeight + 2 < targetProps.top) {\n        position = 'top';\n      } else if (targetMargin + tooltipWidth + 2 < targetProps.left) {\n        position = 'left';\n      } else if (targetProps.width + targetMargin + tooltipWidth + 2 < $window.width() - targetProps.left) {\n        position = 'right';\n      } else {\n        position = 'bottom';\n      }\n    } // \n\n\n    switch (position) {\n      case 'bottom':\n        marginLeft = -1 * (tooltipWidth / 2);\n        marginTop = targetProps.height / 2 + targetMargin;\n        this.$element.transformOrigin('top center');\n        break;\n\n      case 'top':\n        marginLeft = -1 * (tooltipWidth / 2);\n        marginTop = -1 * (tooltipHeight + targetProps.height / 2 + targetMargin);\n        this.$element.transformOrigin('bottom center');\n        break;\n\n      case 'left':\n        marginLeft = -1 * (tooltipWidth + targetProps.width / 2 + targetMargin);\n        marginTop = -1 * (tooltipHeight / 2);\n        this.$element.transformOrigin('center right');\n        break;\n\n      case 'right':\n        marginLeft = targetProps.width / 2 + targetMargin;\n        marginTop = -1 * (tooltipHeight / 2);\n        this.$element.transformOrigin('center left');\n        break;\n    }\n\n    const targetOffset = this.$target.offset();\n    this.$element.css({\n      top: `${targetOffset.top + targetProps.height / 2}px`,\n      left: `${targetOffset.left + targetProps.width / 2}px`,\n      'margin-left': `${marginLeft}px`,\n      'margin-top': `${marginTop}px`\n    });\n  }\n  /**\n   * \n   * @param name\n   */\n\n\n  triggerEvent(name) {\n    componentEvent(name, 'tooltip', this.$target, this);\n  }\n  /**\n   * \n   */\n\n\n  transitionEnd() {\n    if (this.$element.hasClass('mdui-tooltip-open')) {\n      this.state = 'opened';\n      this.triggerEvent('opened');\n    } else {\n      this.state = 'closed';\n      this.triggerEvent('closed');\n    }\n  }\n  /**\n   *  tooltip \n   */\n\n\n  isOpen() {\n    return this.state === 'opening' || this.state === 'opened';\n  }\n  /**\n   *  tooltip\n   */\n\n\n  doOpen() {\n    this.state = 'opening';\n    this.triggerEvent('open');\n    this.$element.addClass('mdui-tooltip-open').transitionEnd(() => this.transitionEnd());\n  }\n  /**\n   *  Tooltip\n   * @param options \n   */\n\n\n  open(options) {\n    if (this.isOpen()) {\n      return;\n    }\n\n    const oldOptions = extend({}, this.options);\n\n    if (options) {\n      extend(this.options, options);\n    } // tooltip \n\n\n    if (oldOptions.content !== this.options.content) {\n      this.$element.html(this.options.content);\n    }\n\n    this.setPosition();\n\n    if (this.options.delay) {\n      this.timeoutId = setTimeout(() => this.doOpen(), this.options.delay);\n    } else {\n      this.timeoutId = null;\n      this.doOpen();\n    }\n  }\n  /**\n   *  Tooltip\n   */\n\n\n  close() {\n    if (this.timeoutId) {\n      clearTimeout(this.timeoutId);\n      this.timeoutId = null;\n    }\n\n    if (!this.isOpen()) {\n      return;\n    }\n\n    this.state = 'closing';\n    this.triggerEvent('close');\n    this.$element.removeClass('mdui-tooltip-open').transitionEnd(() => this.transitionEnd());\n  }\n  /**\n   *  Tooltip \n   */\n\n\n  toggle() {\n    this.isOpen() ? this.close() : this.open();\n  }\n  /**\n   *  Tooltip `opening``opened``closing``closed`\n   */\n\n\n  getState() {\n    return this.state;\n  }\n\n}\n\nmdui.Tooltip = Tooltip;","import $ from 'mdui.jq/es/$';\nimport 'mdui.jq/es/methods/data';\nimport 'mdui.jq/es/methods/on';\nimport mdui from '../../mdui';\nimport { $document } from '../../utils/dom';\nimport { parseOptions } from '../../utils/parseOptions';\nimport './index';\nconst customAttr = 'mdui-tooltip';\nconst dataName = '_mdui_tooltip';\n$(() => {\n  // mouseenter  mouseover \n  $document.on('touchstart mouseover', `[${customAttr}]`, function () {\n    const $target = $(this);\n    let instance = $target.data(dataName);\n\n    if (!instance) {\n      instance = new mdui.Tooltip(this, parseOptions(this, customAttr));\n      $target.data(dataName, instance);\n    }\n  });\n});","import $ from 'mdui.jq/es/$';\nimport extend from 'mdui.jq/es/functions/extend';\nimport 'mdui.jq/es/methods/addClass';\nimport 'mdui.jq/es/methods/appendTo';\nimport 'mdui.jq/es/methods/find';\nimport 'mdui.jq/es/methods/hasClass';\nimport 'mdui.jq/es/methods/off';\nimport 'mdui.jq/es/methods/on';\nimport 'mdui.jq/es/methods/parents';\nimport 'mdui.jq/es/methods/remove';\nimport { isString } from 'mdui.jq/es/utils';\nimport mdui from '../../mdui';\nimport '../../jq_extends/methods/reflow';\nimport '../../jq_extends/methods/transform';\nimport '../../jq_extends/methods/transitionEnd';\nimport { $document } from '../../utils/dom';\nimport { dequeue, queue } from '../../utils/queue';\nimport { startEvent } from '../../utils/touchHandler';\nconst DEFAULT_OPTIONS = {\n  message: '',\n  timeout: 4000,\n  position: 'bottom',\n  buttonText: '',\n  buttonColor: '',\n  closeOnButtonClick: true,\n  closeOnOutsideClick: true,\n  // eslint-disable-next-line @typescript-eslint/no-empty-function\n  onClick: () => {},\n  // eslint-disable-next-line @typescript-eslint/no-empty-function\n  onButtonClick: () => {},\n  // eslint-disable-next-line @typescript-eslint/no-empty-function\n  onOpen: () => {},\n  // eslint-disable-next-line @typescript-eslint/no-empty-function\n  onOpened: () => {},\n  // eslint-disable-next-line @typescript-eslint/no-empty-function\n  onClose: () => {},\n  // eslint-disable-next-line @typescript-eslint/no-empty-function\n  onClosed: () => {}\n};\n/**\n *  Snackbar\n */\n\nlet currentInst = null;\n/**\n * \n */\n\nconst queueName = '_mdui_snackbar';\n\nclass Snackbar {\n  constructor(options) {\n    /**\n     * \n     */\n    this.options = extend({}, DEFAULT_OPTIONS);\n    /**\n     *  Snackbar \n     */\n\n    this.state = 'closed';\n    /**\n     * setTimeout  ID\n     */\n\n    this.timeoutId = null;\n    extend(this.options, options); // \n\n    let buttonColorStyle = '';\n    let buttonColorClass = '';\n\n    if (this.options.buttonColor.indexOf('#') === 0 || this.options.buttonColor.indexOf('rgb') === 0) {\n      buttonColorStyle = `style=\"color:${this.options.buttonColor}\"`;\n    } else if (this.options.buttonColor !== '') {\n      buttonColorClass = `mdui-text-color-${this.options.buttonColor}`;\n    } //  HTML\n\n\n    this.$element = $('<div class=\"mdui-snackbar\">' + `<div class=\"mdui-snackbar-text\">${this.options.message}</div>` + (this.options.buttonText ? `<a href=\"javascript:void(0)\" class=\"mdui-snackbar-action mdui-btn mdui-ripple mdui-ripple-white ${buttonColorClass}\" ${buttonColorStyle}>${this.options.buttonText}</a>` : '') + '</div>').appendTo(document.body); // \n\n    this.setPosition('close');\n    this.$element.reflow().addClass(`mdui-snackbar-${this.options.position}`);\n  }\n  /**\n   *  Snackbar \n   * @param event\n   */\n\n\n  closeOnOutsideClick(event) {\n    const $target = $(event.target);\n\n    if (!$target.hasClass('mdui-snackbar') && !$target.parents('.mdui-snackbar').length) {\n      currentInst.close();\n    }\n  }\n  /**\n   *  Snackbar \n   * @param state\n   */\n\n\n  setPosition(state) {\n    const snackbarHeight = this.$element[0].clientHeight;\n    const position = this.options.position;\n    let translateX;\n    let translateY; // translateX\n\n    if (position === 'bottom' || position === 'top') {\n      translateX = '-50%';\n    } else {\n      translateX = '0';\n    } // translateY\n\n\n    if (state === 'open') {\n      translateY = '0';\n    } else {\n      if (position === 'bottom') {\n        translateY = snackbarHeight;\n      }\n\n      if (position === 'top') {\n        translateY = -snackbarHeight;\n      }\n\n      if (position === 'left-top' || position === 'right-top') {\n        translateY = -snackbarHeight - 24;\n      }\n\n      if (position === 'left-bottom' || position === 'right-bottom') {\n        translateY = snackbarHeight + 24;\n      }\n    }\n\n    this.$element.transform(`translate(${translateX},${translateY}px`);\n  }\n  /**\n   *  Snackbar\n   */\n\n\n  open() {\n    if (this.state === 'opening' || this.state === 'opened') {\n      return;\n    } //  Snackbar Snackbar \n\n\n    if (currentInst) {\n      queue(queueName, () => this.open());\n      return;\n    }\n\n    currentInst = this; // \n\n    this.state = 'opening';\n    this.options.onOpen(this);\n    this.setPosition('open');\n    this.$element.transitionEnd(() => {\n      if (this.state !== 'opening') {\n        return;\n      }\n\n      this.state = 'opened';\n      this.options.onOpened(this); // \n\n      if (this.options.buttonText) {\n        this.$element.find('.mdui-snackbar-action').on('click', () => {\n          this.options.onButtonClick(this);\n\n          if (this.options.closeOnButtonClick) {\n            this.close();\n          }\n        });\n      } //  snackbar \n\n\n      this.$element.on('click', event => {\n        if (!$(event.target).hasClass('mdui-snackbar-action')) {\n          this.options.onClick(this);\n        }\n      }); //  Snackbar \n\n      if (this.options.closeOnOutsideClick) {\n        $document.on(startEvent, this.closeOnOutsideClick);\n      } // \n\n\n      if (this.options.timeout) {\n        this.timeoutId = setTimeout(() => this.close(), this.options.timeout);\n      }\n    });\n  }\n  /**\n   *  Snackbar\n   */\n\n\n  close() {\n    if (this.state === 'closing' || this.state === 'closed') {\n      return;\n    }\n\n    if (this.timeoutId) {\n      clearTimeout(this.timeoutId);\n    }\n\n    if (this.options.closeOnOutsideClick) {\n      $document.off(startEvent, this.closeOnOutsideClick);\n    }\n\n    this.state = 'closing';\n    this.options.onClose(this);\n    this.setPosition('close');\n    this.$element.transitionEnd(() => {\n      if (this.state !== 'closing') {\n        return;\n      }\n\n      currentInst = null;\n      this.state = 'closed';\n      this.options.onClosed(this);\n      this.$element.remove();\n      dequeue(queueName);\n    });\n  }\n\n}\n\nmdui.snackbar = function (message, options = {}) {\n  if (isString(message)) {\n    options.message = message;\n  } else {\n    options = message;\n  }\n\n  const instance = new Snackbar(options);\n  instance.open();\n  return instance;\n};","import $ from 'mdui.jq/es/$';\nimport 'mdui.jq/es/methods/each';\nimport 'mdui.jq/es/methods/hasClass';\nimport 'mdui.jq/es/methods/html';\nimport { isUndefined } from 'mdui.jq/es/utils';\nimport mdui from '../../mdui';\nimport '../../global/mutation';\n/**\n * layer  HTML \n * @param index\n */\n\nfunction layerHTML(index = false) {\n  return `<div class=\"mdui-spinner-layer ${index ? `mdui-spinner-layer-${index}` : ''}\">` + '<div class=\"mdui-spinner-circle-clipper mdui-spinner-left\">' + '<div class=\"mdui-spinner-circle\"></div>' + '</div>' + '<div class=\"mdui-spinner-gap-patch\">' + '<div class=\"mdui-spinner-circle\"></div>' + '</div>' + '<div class=\"mdui-spinner-circle-clipper mdui-spinner-right\">' + '<div class=\"mdui-spinner-circle\"></div>' + '</div>' + '</div>';\n}\n/**\n *  HTML\n * @param spinner\n */\n\n\nfunction fillHTML(spinner) {\n  const $spinner = $(spinner);\n  const layer = $spinner.hasClass('mdui-spinner-colorful') ? layerHTML(1) + layerHTML(2) + layerHTML(3) + layerHTML(4) : layerHTML();\n  $spinner.html(layer);\n}\n\n$(() => {\n  //  HTML \n  mdui.mutation('.mdui-spinner', function () {\n    fillHTML(this);\n  });\n});\n\nmdui.updateSpinners = function (selector) {\n  const $elements = isUndefined(selector) ? $('.mdui-spinner') : $(selector);\n  $elements.each(function () {\n    fillHTML(this);\n  });\n};","import $ from 'mdui.jq/es/$';\nimport contains from 'mdui.jq/es/functions/contains';\nimport extend from 'mdui.jq/es/functions/extend';\nimport 'mdui.jq/es/methods/addClass';\nimport 'mdui.jq/es/methods/attr';\nimport 'mdui.jq/es/methods/children';\nimport 'mdui.jq/es/methods/css';\nimport 'mdui.jq/es/methods/data';\nimport 'mdui.jq/es/methods/each';\nimport 'mdui.jq/es/methods/find';\nimport 'mdui.jq/es/methods/first';\nimport 'mdui.jq/es/methods/hasClass';\nimport 'mdui.jq/es/methods/height';\nimport 'mdui.jq/es/methods/is';\nimport 'mdui.jq/es/methods/on';\nimport 'mdui.jq/es/methods/parent';\nimport 'mdui.jq/es/methods/parents';\nimport 'mdui.jq/es/methods/removeClass';\nimport 'mdui.jq/es/methods/width';\nimport mdui from '../../mdui';\nimport '../../jq_extends/methods/transformOrigin';\nimport '../../jq_extends/methods/transitionEnd';\nimport '../../jq_extends/static/throttle';\nimport { componentEvent } from '../../utils/componentEvent';\nimport { $document, $window } from '../../utils/dom';\nconst DEFAULT_OPTIONS = {\n  position: 'auto',\n  align: 'auto',\n  gutter: 16,\n  fixed: false,\n  covered: 'auto',\n  subMenuTrigger: 'hover',\n  subMenuDelay: 200\n};\n\nclass Menu {\n  constructor(anchorSelector, menuSelector, options = {}) {\n    /**\n     * \n     */\n    this.options = extend({}, DEFAULT_OPTIONS);\n    /**\n     * \n     */\n\n    this.state = 'closed';\n    this.$anchor = $(anchorSelector).first();\n    this.$element = $(menuSelector).first(); //   \n\n    if (!this.$anchor.parent().is(this.$element.parent())) {\n      throw new Error('anchorSelector and menuSelector must be siblings');\n    }\n\n    extend(this.options, options); // \n\n    this.isCascade = this.$element.hasClass('mdui-menu-cascade'); // covered \n\n    this.isCovered = this.options.covered === 'auto' ? !this.isCascade : this.options.covered; // \n\n    this.$anchor.on('click', () => this.toggle()); // \n\n    $document.on('click touchstart', event => {\n      const $target = $(event.target);\n\n      if (this.isOpen() && !$target.is(this.$element) && !contains(this.$element[0], $target[0]) && !$target.is(this.$anchor) && !contains(this.$anchor[0], $target[0])) {\n        this.close();\n      }\n    }); // \n    // eslint-disable-next-line @typescript-eslint/no-this-alias\n\n    const that = this;\n    $document.on('click', '.mdui-menu-item', function () {\n      const $item = $(this);\n\n      if (!$item.find('.mdui-menu').length && $item.attr('disabled') === undefined) {\n        that.close();\n      }\n    }); // \n\n    this.bindSubMenuEvent(); // \n\n    $window.on('resize', $.throttle(() => this.readjust(), 100));\n  }\n  /**\n   * \n   */\n\n\n  isOpen() {\n    return this.state === 'opening' || this.state === 'opened';\n  }\n  /**\n   * \n   * @param name\n   */\n\n\n  triggerEvent(name) {\n    componentEvent(name, 'menu', this.$element, this);\n  }\n  /**\n   * \n   */\n\n\n  readjust() {\n    let menuLeft;\n    let menuTop; // \n\n    let position;\n    let align; // window \n\n    const windowHeight = $window.height();\n    const windowWidth = $window.width(); // \n\n    const gutter = this.options.gutter;\n    const isCovered = this.isCovered;\n    const isFixed = this.options.fixed; // \n\n    let transformOriginX;\n    let transformOriginY; // \n\n    const menuWidth = this.$element.width();\n    const menuHeight = this.$element.height(); // \n\n    const anchorRect = this.$anchor[0].getBoundingClientRect();\n    const anchorTop = anchorRect.top;\n    const anchorLeft = anchorRect.left;\n    const anchorHeight = anchorRect.height;\n    const anchorWidth = anchorRect.width;\n    const anchorBottom = windowHeight - anchorTop - anchorHeight;\n    const anchorRight = windowWidth - anchorLeft - anchorWidth; // \n\n    const anchorOffsetTop = this.$anchor[0].offsetTop;\n    const anchorOffsetLeft = this.$anchor[0].offsetLeft; // \n\n    if (this.options.position === 'auto') {\n      if (anchorBottom + (isCovered ? anchorHeight : 0) > menuHeight + gutter) {\n        // \n        position = 'bottom';\n      } else if (anchorTop + (isCovered ? anchorHeight : 0) > menuHeight + gutter) {\n        // \n        position = 'top';\n      } else {\n        // \n        position = 'center';\n      }\n    } else {\n      position = this.options.position;\n    } // \n\n\n    if (this.options.align === 'auto') {\n      if (anchorRight + anchorWidth > menuWidth + gutter) {\n        // \n        align = 'left';\n      } else if (anchorLeft + anchorWidth > menuWidth + gutter) {\n        // \n        align = 'right';\n      } else {\n        // \n        align = 'center';\n      }\n    } else {\n      align = this.options.align;\n    } // \n\n\n    if (position === 'bottom') {\n      transformOriginY = '0';\n      menuTop = (isCovered ? 0 : anchorHeight) + (isFixed ? anchorTop : anchorOffsetTop);\n    } else if (position === 'top') {\n      transformOriginY = '100%';\n      menuTop = (isCovered ? anchorHeight : 0) + (isFixed ? anchorTop - menuHeight : anchorOffsetTop - menuHeight);\n    } else {\n      transformOriginY = '50%'; // =====================\n      // \n      // \n\n      let menuHeightTemp = menuHeight; // \n\n      if (!this.isCascade) {\n        if (menuHeight + gutter * 2 > windowHeight) {\n          menuHeightTemp = windowHeight - gutter * 2;\n          this.$element.height(menuHeightTemp);\n        }\n      }\n\n      menuTop = (windowHeight - menuHeightTemp) / 2 + (isFixed ? 0 : anchorOffsetTop - anchorTop);\n    }\n\n    this.$element.css('top', `${menuTop}px`); // \n\n    if (align === 'left') {\n      transformOriginX = '0';\n      menuLeft = isFixed ? anchorLeft : anchorOffsetLeft;\n    } else if (align === 'right') {\n      transformOriginX = '100%';\n      menuLeft = isFixed ? anchorLeft + anchorWidth - menuWidth : anchorOffsetLeft + anchorWidth - menuWidth;\n    } else {\n      transformOriginX = '50%'; //=======================\n      // \n\n      let menuWidthTemp = menuWidth; // \n\n      if (menuWidth + gutter * 2 > windowWidth) {\n        menuWidthTemp = windowWidth - gutter * 2;\n        this.$element.width(menuWidthTemp);\n      }\n\n      menuLeft = (windowWidth - menuWidthTemp) / 2 + (isFixed ? 0 : anchorOffsetLeft - anchorLeft);\n    }\n\n    this.$element.css('left', `${menuLeft}px`); // \n\n    this.$element.transformOrigin(`${transformOriginX} ${transformOriginY}`);\n  }\n  /**\n   * \n   * @param $submenu\n   */\n\n\n  readjustSubmenu($submenu) {\n    const $item = $submenu.parent('.mdui-menu-item');\n    let submenuTop;\n    let submenuLeft; // \n\n    let position;\n    let align; // window \n\n    const windowHeight = $window.height();\n    const windowWidth = $window.width(); // \n\n    let transformOriginX;\n    let transformOriginY; // \n\n    const submenuWidth = $submenu.width();\n    const submenuHeight = $submenu.height(); // \n\n    const itemRect = $item[0].getBoundingClientRect();\n    const itemWidth = itemRect.width;\n    const itemHeight = itemRect.height;\n    const itemLeft = itemRect.left;\n    const itemTop = itemRect.top; // \n\n    if (windowHeight - itemTop > submenuHeight) {\n      // \n      position = 'bottom';\n    } else if (itemTop + itemHeight > submenuHeight) {\n      // \n      position = 'top';\n    } else {\n      // \n      position = 'bottom';\n    } // \n\n\n    if (windowWidth - itemLeft - itemWidth > submenuWidth) {\n      // \n      align = 'left';\n    } else if (itemLeft > submenuWidth) {\n      // \n      align = 'right';\n    } else {\n      // \n      align = 'left';\n    } // \n\n\n    if (position === 'bottom') {\n      transformOriginY = '0';\n      submenuTop = '0';\n    } else if (position === 'top') {\n      transformOriginY = '100%';\n      submenuTop = -submenuHeight + itemHeight;\n    }\n\n    $submenu.css('top', `${submenuTop}px`); // \n\n    if (align === 'left') {\n      transformOriginX = '0';\n      submenuLeft = itemWidth;\n    } else if (align === 'right') {\n      transformOriginX = '100%';\n      submenuLeft = -submenuWidth;\n    }\n\n    $submenu.css('left', `${submenuLeft}px`); // \n\n    $submenu.transformOrigin(`${transformOriginX} ${transformOriginY}`);\n  }\n  /**\n   * \n   * @param $submenu\n   */\n\n\n  openSubMenu($submenu) {\n    this.readjustSubmenu($submenu);\n    $submenu.addClass('mdui-menu-open').parent('.mdui-menu-item').addClass('mdui-menu-item-active');\n  }\n  /**\n   * \n   * @param $submenu\n   */\n\n\n  closeSubMenu($submenu) {\n    // \n    $submenu.removeClass('mdui-menu-open').addClass('mdui-menu-closing').transitionEnd(() => $submenu.removeClass('mdui-menu-closing')) // \n    .parent('.mdui-menu-item').removeClass('mdui-menu-item-active'); // \n\n    $submenu.find('.mdui-menu').each((_, menu) => {\n      const $subSubmenu = $(menu);\n      $subSubmenu.removeClass('mdui-menu-open').addClass('mdui-menu-closing').transitionEnd(() => $subSubmenu.removeClass('mdui-menu-closing')).parent('.mdui-menu-item').removeClass('mdui-menu-item-active');\n    });\n  }\n  /**\n   * \n   * @param $submenu\n   */\n\n\n  toggleSubMenu($submenu) {\n    $submenu.hasClass('mdui-menu-open') ? this.closeSubMenu($submenu) : this.openSubMenu($submenu);\n  }\n  /**\n   * \n   */\n\n\n  bindSubMenuEvent() {\n    // eslint-disable-next-line @typescript-eslint/no-this-alias\n    const that = this; // \n\n    this.$element.on('click', '.mdui-menu-item', function (event) {\n      const $item = $(this);\n      const $target = $(event.target); // \n\n      if ($item.attr('disabled') !== undefined) {\n        return;\n      } // \n\n\n      if ($target.is('.mdui-menu') || $target.is('.mdui-divider')) {\n        return;\n      } //  mdui-menu-item \n\n\n      if (!$target.parents('.mdui-menu-item').first().is($item)) {\n        return;\n      } // \n\n\n      const $submenu = $item.children('.mdui-menu'); // \n\n      $item.parent('.mdui-menu').children('.mdui-menu-item').each((_, item) => {\n        const $tmpSubmenu = $(item).children('.mdui-menu');\n\n        if ($tmpSubmenu.length && (!$submenu.length || !$tmpSubmenu.is($submenu))) {\n          that.closeSubMenu($tmpSubmenu);\n        }\n      }); // \n\n      if ($submenu.length) {\n        that.toggleSubMenu($submenu);\n      }\n    });\n\n    if (this.options.subMenuTrigger === 'hover') {\n      //  setTimeout \n      let timeout = null;\n      let timeoutOpen = null;\n      this.$element.on('mouseover mouseout', '.mdui-menu-item', function (event) {\n        const $item = $(this);\n        const eventType = event.type;\n        const $relatedTarget = $(event.relatedTarget); // \n\n        if ($item.attr('disabled') !== undefined) {\n          return;\n        } //  mouseover  mouseenter\n\n\n        if (eventType === 'mouseover') {\n          if (!$item.is($relatedTarget) && contains($item[0], $relatedTarget[0])) {\n            return;\n          }\n        } //  mouseout  mouseleave\n        else if (eventType === 'mouseout') {\n            if ($item.is($relatedTarget) || contains($item[0], $relatedTarget[0])) {\n              return;\n            }\n          } // \n\n\n        const $submenu = $item.children('.mdui-menu'); // \n\n        if (eventType === 'mouseover') {\n          if ($submenu.length) {\n            // \n            const tmpClose = $submenu.data('timeoutClose.mdui.menu');\n\n            if (tmpClose) {\n              clearTimeout(tmpClose);\n            } // \n\n\n            if ($submenu.hasClass('mdui-menu-open')) {\n              return;\n            } // \n\n\n            clearTimeout(timeoutOpen); // \n\n            timeout = timeoutOpen = setTimeout(() => that.openSubMenu($submenu), that.options.subMenuDelay);\n            $submenu.data('timeoutOpen.mdui.menu', timeout);\n          }\n        } // \n        else if (eventType === 'mouseout') {\n            if ($submenu.length) {\n              // \n              const tmpOpen = $submenu.data('timeoutOpen.mdui.menu');\n\n              if (tmpOpen) {\n                clearTimeout(tmpOpen);\n              } // \n\n\n              timeout = setTimeout(() => that.closeSubMenu($submenu), that.options.subMenuDelay);\n              $submenu.data('timeoutClose.mdui.menu', timeout);\n            }\n          }\n      });\n    }\n  }\n  /**\n   * \n   */\n\n\n  transitionEnd() {\n    this.$element.removeClass('mdui-menu-closing');\n\n    if (this.state === 'opening') {\n      this.state = 'opened';\n      this.triggerEvent('opened');\n    }\n\n    if (this.state === 'closing') {\n      this.state = 'closed';\n      this.triggerEvent('closed'); //  fixed \n\n      this.$element.css({\n        top: '',\n        left: '',\n        width: '',\n        position: 'fixed'\n      });\n    }\n  }\n  /**\n   * \n   */\n\n\n  toggle() {\n    this.isOpen() ? this.close() : this.open();\n  }\n  /**\n   * \n   */\n\n\n  open() {\n    if (this.isOpen()) {\n      return;\n    }\n\n    this.state = 'opening';\n    this.triggerEvent('open');\n    this.readjust();\n    this.$element //  fixed \n    .css('position', this.options.fixed ? 'fixed' : 'absolute').addClass('mdui-menu-open').transitionEnd(() => this.transitionEnd());\n  }\n  /**\n   * \n   */\n\n\n  close() {\n    if (!this.isOpen()) {\n      return;\n    }\n\n    this.state = 'closing';\n    this.triggerEvent('close'); // \n\n    this.$element.find('.mdui-menu').each((_, submenu) => {\n      this.closeSubMenu($(submenu));\n    });\n    this.$element.removeClass('mdui-menu-open').addClass('mdui-menu-closing').transitionEnd(() => this.transitionEnd());\n  }\n\n}\n\nmdui.Menu = Menu;","import $ from 'mdui.jq/es/$';\nimport 'mdui.jq/es/methods/data';\nimport 'mdui.jq/es/methods/on';\nimport mdui from '../../mdui';\nimport { $document } from '../../utils/dom';\nimport { parseOptions } from '../../utils/parseOptions';\nimport './index';\nconst customAttr = 'mdui-menu';\nconst dataName = '_mdui_menu';\n$(() => {\n  $document.on('click', `[${customAttr}]`, function () {\n    const $this = $(this);\n    let instance = $this.data(dataName);\n\n    if (!instance) {\n      const options = parseOptions(this, customAttr);\n      const menuSelector = options.target; // @ts-ignore\n\n      delete options.target;\n      instance = new mdui.Menu($this, menuSelector, options);\n      $this.data(dataName, instance);\n      instance.toggle();\n    }\n  });\n});","// \nconst globalOptions = {}; // \n\nconst ajaxEvents = {\n  ajaxStart: 'start.mdui.ajax',\n  ajaxSuccess: 'success.mdui.ajax',\n  ajaxError: 'error.mdui.ajax',\n  ajaxComplete: 'complete.mdui.ajax'\n};\nexport { globalOptions, ajaxEvents };","import $ from '../$';\nimport '../methods/trigger';\nimport { isString, isUndefined } from '../utils';\nimport each from './each';\nimport extend from './extend';\nimport param from './param';\nimport { ajaxEvents, globalOptions } from './utils/ajax';\n/**\n * \n * @param method \n */\n\nfunction isQueryStringData(method) {\n  return ['GET', 'HEAD'].indexOf(method) >= 0;\n}\n/**\n *  URL  URL  ?  &  ?\n * @param url\n * @param query\n */\n\n\nfunction appendQuery(url, query) {\n  return `${url}&${query}`.replace(/[&?]{1,2}/, '?');\n}\n/**\n * options > globalOptions > defaults\n * @param options\n */\n\n\nfunction mergeOptions(options) {\n  // \n  const defaults = {\n    url: '',\n    method: 'GET',\n    data: '',\n    processData: true,\n    async: true,\n    cache: true,\n    username: '',\n    password: '',\n    headers: {},\n    xhrFields: {},\n    statusCode: {},\n    dataType: 'text',\n    contentType: 'application/x-www-form-urlencoded',\n    timeout: 0,\n    global: true\n  }; // globalOptions \n\n  each(globalOptions, (key, value) => {\n    const callbacks = ['beforeSend', 'success', 'error', 'complete', 'statusCode']; // @ts-ignore\n\n    if (callbacks.indexOf(key) < 0 && !isUndefined(value)) {\n      defaults[key] = value;\n    }\n  });\n  return extend({}, defaults, options);\n}\n/**\n *  ajax \n * @param options\n * @example\n```js\najax({\n  method: \"POST\",\n  url: \"some.php\",\n  data: { name: \"John\", location: \"Boston\" }\n}).then(function( msg ) {\n  alert( \"Data Saved: \" + msg );\n});\n```\n */\n\n\nfunction ajax(options) {\n  // \n  let isCanceled = false; // \n\n  const eventParams = {}; // \n\n  const mergedOptions = mergeOptions(options);\n  let url = mergedOptions.url || window.location.toString();\n  const method = mergedOptions.method.toUpperCase();\n  let data = mergedOptions.data;\n  const processData = mergedOptions.processData;\n  const async = mergedOptions.async;\n  const cache = mergedOptions.cache;\n  const username = mergedOptions.username;\n  const password = mergedOptions.password;\n  const headers = mergedOptions.headers;\n  const xhrFields = mergedOptions.xhrFields;\n  const statusCode = mergedOptions.statusCode;\n  const dataType = mergedOptions.dataType;\n  const contentType = mergedOptions.contentType;\n  const timeout = mergedOptions.timeout;\n  const global = mergedOptions.global; // \n  // GET/HEAD  processData  true \n\n  if (data && (isQueryStringData(method) || processData) && !isString(data) && !(data instanceof ArrayBuffer) && !(data instanceof Blob) && !(data instanceof Document) && !(data instanceof FormData)) {\n    data = param(data);\n  } //  GETHEAD  data  URL \n\n\n  if (data && isQueryStringData(method)) {\n    //  URL \n    url = appendQuery(url, data);\n    data = null;\n  }\n  /**\n   * \n   * @param event\n   * @param params\n   * @param callback\n   * @param args\n   */\n\n\n  function trigger(event, params, callback, ...args) {\n    // \n    if (global) {\n      $(document).trigger(event, params);\n    } //  ajax \n\n\n    let result1;\n    let result2;\n\n    if (callback) {\n      // \n      if (callback in globalOptions) {\n        // @ts-ignore\n        result1 = globalOptions[callback](...args);\n      } // \n\n\n      if (mergedOptions[callback]) {\n        // @ts-ignore\n        result2 = mergedOptions[callback](...args);\n      } // beforeSend  false  ajax \n\n\n      if (callback === 'beforeSend' && (result1 === false || result2 === false)) {\n        isCanceled = true;\n      }\n    }\n  } // XMLHttpRequest \n\n\n  function XHR() {\n    let textStatus;\n    return new Promise((resolve, reject) => {\n      // GET/HEAD \n      if (isQueryStringData(method) && !cache) {\n        url = appendQuery(url, `_=${Date.now()}`);\n      } //  XHR\n\n\n      const xhr = new XMLHttpRequest();\n      xhr.open(method, url, async, username, password);\n\n      if (contentType || data && !isQueryStringData(method) && contentType !== false) {\n        xhr.setRequestHeader('Content-Type', contentType);\n      } //  Accept\n\n\n      if (dataType === 'json') {\n        xhr.setRequestHeader('Accept', 'application/json, text/javascript');\n      } //  headers\n\n\n      if (headers) {\n        each(headers, (key, value) => {\n          // undefined string  null \n          if (!isUndefined(value)) {\n            xhr.setRequestHeader(key, value + ''); //  null \n          }\n        });\n      } //  X-Requested-With\n\n\n      const crossDomain = /^([\\w-]+:)?\\/\\/([^/]+)/.test(url) && RegExp.$2 !== window.location.host;\n\n      if (!crossDomain) {\n        xhr.setRequestHeader('X-Requested-With', 'XMLHttpRequest');\n      }\n\n      if (xhrFields) {\n        each(xhrFields, (key, value) => {\n          // @ts-ignore\n          xhr[key] = value;\n        });\n      }\n\n      eventParams.xhr = xhr;\n      eventParams.options = mergedOptions;\n      let xhrTimeout;\n\n      xhr.onload = function () {\n        if (xhrTimeout) {\n          clearTimeout(xhrTimeout);\n        } // AJAX  HTTP \n\n\n        const isHttpStatusSuccess = xhr.status >= 200 && xhr.status < 300 || xhr.status === 304 || xhr.status === 0;\n        let responseData;\n\n        if (isHttpStatusSuccess) {\n          if (xhr.status === 204 || method === 'HEAD') {\n            textStatus = 'nocontent';\n          } else if (xhr.status === 304) {\n            textStatus = 'notmodified';\n          } else {\n            textStatus = 'success';\n          }\n\n          if (dataType === 'json') {\n            try {\n              responseData = method === 'HEAD' ? undefined : JSON.parse(xhr.responseText);\n              eventParams.data = responseData;\n            } catch (err) {\n              textStatus = 'parsererror';\n              trigger(ajaxEvents.ajaxError, eventParams, 'error', xhr, textStatus);\n              reject(new Error(textStatus));\n            }\n\n            if (textStatus !== 'parsererror') {\n              trigger(ajaxEvents.ajaxSuccess, eventParams, 'success', responseData, textStatus, xhr);\n              resolve(responseData);\n            }\n          } else {\n            responseData = method === 'HEAD' ? undefined : xhr.responseType === 'text' || xhr.responseType === '' ? xhr.responseText : xhr.response;\n            eventParams.data = responseData;\n            trigger(ajaxEvents.ajaxSuccess, eventParams, 'success', responseData, textStatus, xhr);\n            resolve(responseData);\n          }\n        } else {\n          textStatus = 'error';\n          trigger(ajaxEvents.ajaxError, eventParams, 'error', xhr, textStatus);\n          reject(new Error(textStatus));\n        } // statusCode\n\n\n        each([globalOptions.statusCode, statusCode], (_, func) => {\n          if (func && func[xhr.status]) {\n            if (isHttpStatusSuccess) {\n              func[xhr.status](responseData, textStatus, xhr);\n            } else {\n              func[xhr.status](xhr, textStatus);\n            }\n          }\n        });\n        trigger(ajaxEvents.ajaxComplete, eventParams, 'complete', xhr, textStatus);\n      };\n\n      xhr.onerror = function () {\n        if (xhrTimeout) {\n          clearTimeout(xhrTimeout);\n        }\n\n        trigger(ajaxEvents.ajaxError, eventParams, 'error', xhr, xhr.statusText);\n        trigger(ajaxEvents.ajaxComplete, eventParams, 'complete', xhr, 'error');\n        reject(new Error(xhr.statusText));\n      };\n\n      xhr.onabort = function () {\n        let statusText = 'abort';\n\n        if (xhrTimeout) {\n          statusText = 'timeout';\n          clearTimeout(xhrTimeout);\n        }\n\n        trigger(ajaxEvents.ajaxError, eventParams, 'error', xhr, statusText);\n        trigger(ajaxEvents.ajaxComplete, eventParams, 'complete', xhr, statusText);\n        reject(new Error(statusText));\n      }; // ajax start \n\n\n      trigger(ajaxEvents.ajaxStart, eventParams, 'beforeSend', xhr);\n\n      if (isCanceled) {\n        reject(new Error('cancel'));\n        return;\n      } // Timeout\n\n\n      if (timeout > 0) {\n        xhrTimeout = setTimeout(() => {\n          xhr.abort();\n        }, timeout);\n      } //  XHR\n\n\n      xhr.send(data);\n    });\n  }\n\n  return XHR();\n}\n\nexport default ajax;","export default class {\n  /**\n   * \n   * @param key\n   */\n  getStorage(key) {\n    return window.localStorage.getItem(key);\n  }\n  /**\n   * \n   * @param key\n   * @param data\n   */\n\n\n  setStorage(key, data) {\n    window.localStorage.setItem(key, data);\n  }\n  /**\n   * \n   * @param key\n   */\n\n\n  removeStorage(key) {\n    window.localStorage.removeItem(key);\n  }\n\n}","import ajax from 'mdui.jq/es/functions/ajax';\nimport extend from 'mdui.jq/es/functions/extend';\nimport globalOptions from '../defaults';\nimport { GET } from '../util/requestMethod';\nimport BrowserAbstract from './abstract/Browser';\n/**\n *  mdui.jq  ajax \n */\n\nexport default class extends BrowserAbstract {\n  request(options) {\n    const isFormData = options.data instanceof FormData;\n    let headers = {\n      token: this.getStorage('token') || undefined\n    };\n\n    if (options.headers) {\n      headers = extend({}, headers, options.headers);\n    }\n\n    return new Promise((resolve, reject) => {\n      ajax({\n        method: options.method || GET,\n        url: `${globalOptions.apiPath}${options.url || ''}`,\n        data: isFormData ? options.data : JSON.stringify(options.data),\n        headers,\n        dataType: 'json',\n        contentType: isFormData ? false : 'application/json',\n        timeout: globalOptions.timeout,\n        global: false,\n        beforeSend: () => {\n          globalOptions.beforeSend && globalOptions.beforeSend();\n        },\n        success: data => {\n          globalOptions.success && globalOptions.success(data);\n          data.code === 0 ? resolve(data) : reject(data);\n        },\n        error: (_, textStatus) => {\n          globalOptions.error && globalOptions.error(textStatus);\n          reject({\n            code: 999999,\n            message: textStatus\n          });\n        },\n        complete: () => {\n          globalOptions.complete && globalOptions.complete();\n        }\n      });\n    });\n  }\n\n}","/**\n *  cookie 15 \n * @param key\n * @param value\n * @param expire\n */\nexport function setCookie(key, value, expire = 15 * 24 * 3600) {\n  const date = new Date();\n  date.setTime(date.getTime() + expire * 1000);\n  document.cookie = `${key}=${value}; expires=${date.toUTCString()}; path=/`;\n}\n/**\n *  cookie\n * @param key\n */\n\nexport function removeCookie(key) {\n  setCookie(key, '', -1);\n}","import '~/vendor/mdui';\nimport SDKConfig from 'mdclub-sdk-js/es/defaults';\nimport SDKAdapter from 'mdclub-sdk-js/es/adapter/BrowserAdapter';\nimport { isIE } from 'mdui.jq/es/utils';\nimport { setCookie } from '~/utils/cookie';\nimport './index.less'; //  mdclub-sdk-js\n\nSDKConfig.apiPath = window.G_API;\nSDKConfig.adapter = new SDKAdapter();\n\nSDKConfig.error = () => {}; //  token  cookie\n\n\nconst token = SDKConfig.adapter.getStorage('token');\n\nif (token) {\n  setCookie('token', token);\n} //  catch  Promise\n//  Promisepromise-polyfill  Promise._unhandledRejectionFn\n//  promise  catch\n\n/* window.addEventListener('unhandledrejection', function (event) {\n  event.preventDefault();\n}); */\n// \n\n\nif (window.top === window && window.console && !isIE()) {\n  setTimeout(() => {\n    window.console.log('%c%s', 'color: red; background: yellow; font-size: 24px;', '');\n    window.console.log('%c%s', 'color: black; font-size: 18px;', ` Self-XSS\n`);\n  });\n}","import { getRequest, postRequest, deleteRequest } from './util/requestAlias';\nimport { buildURL } from './util/requestHandler';\n/**\n * \n *\n *   \n */\n\nexport const del = params => deleteRequest(buildURL('/topics/{topic_id}', params));\n/**\n * \n *\n * \n */\n\nexport const addFollow = params => postRequest(buildURL('/topics/{topic_id}/followers', params));\n/**\n * \n *\n * \n */\n\nexport const create = params => {\n  const formData = new FormData();\n  formData.append('name', params.name);\n  formData.append('description', params.description);\n  formData.append('cover', params.cover);\n  return postRequest(buildURL('/topics', params, ['include']), formData);\n};\n/**\n * \n *\n * \n */\n\nexport const deleteFollow = params => deleteRequest(buildURL('/topics/{topic_id}/followers', params));\n/**\n * \n *\n *   \n */\n\nexport const deleteMultiple = params => deleteRequest(buildURL('/topics/{topic_ids}', params));\n/**\n * \n *\n * \n */\n\nexport const get = params => getRequest(buildURL('/topics/{topic_id}', params, ['include']));\n/**\n * \n *\n * \n */\n\nexport const getArticles = params => getRequest(buildURL('/topics/{topic_id}/articles', params, ['page', 'per_page', 'order', 'include']));\n/**\n * \n *\n * \n */\n\nexport const getFollowers = params => getRequest(buildURL('/topics/{topic_id}/followers', params, ['page', 'per_page', 'include']));\n/**\n * \n *\n * \n */\n\nexport const getList = (params = {}) => getRequest(buildURL('/topics', params, ['page', 'per_page', 'include', 'order', 'topic_id', 'name', 'trashed']));\n/**\n * \n *\n * \n */\n\nexport const getQuestions = params => getRequest(buildURL('/topics/{topic_id}/questions', params, ['page', 'per_page', 'order', 'include']));\n/**\n * \n *\n * \n */\n\nexport const trash = params => postRequest(buildURL('/topics/{topic_id}/trash', params, ['include']));\n/**\n * \n *\n * \n */\n\nexport const trashMultiple = params => postRequest(buildURL('/topics/{topic_ids}/trash', params, ['include']));\n/**\n * \n *\n * \n */\n\nexport const untrash = params => postRequest(buildURL('/topics/{topic_id}/untrash', params, ['include']));\n/**\n * \n *\n * \n */\n\nexport const untrashMultiple = params => postRequest(buildURL('/topics/{topic_ids}/untrash', params, ['include']));\n/**\n * \n *\n *    formData  post  patch \n */\n\nexport const update = params => {\n  const formData = new FormData();\n  formData.append('topic_id', params.topic_id.toString());\n  params.name && formData.append('name', params.name);\n  params.description && formData.append('description', params.description);\n  params.cover && formData.append('cover', params.cover);\n  return postRequest(buildURL('/topics/{topic_id}', params, ['include']), formData);\n};","import { getRequest, postRequest, patchRequest, deleteRequest } from './util/requestAlias';\nimport { buildURL, buildRequestBody } from './util/requestHandler';\n/**\n * \n *\n *   \n */\n\nexport const del = params => deleteRequest(buildURL('/questions/{question_id}', params));\n/**\n * \n *\n * \n */\n\nexport const addFollow = params => postRequest(buildURL('/questions/{question_id}/followers', params));\n/**\n * \n *\n * \n */\n\nexport const addVote = params => postRequest(buildURL('/questions/{question_id}/voters', params), buildRequestBody(params, ['type']));\n/**\n * \n *\n * &#x60;content_markdown&#x60;  &#x60;content_rendered&#x60;   &#x60;content_markdown&#x60; \n */\n\nexport const create = params => postRequest(buildURL('/questions', params, ['include']), buildRequestBody(params, ['title', 'topic_ids', 'content_markdown', 'content_rendered']));\n/**\n * \n *\n * &#x60;content_markdown&#x60;  &#x60;content_rendered&#x60;   &#x60;content_markdown&#x60; \n */\n\nexport const createAnswer = params => postRequest(buildURL('/questions/{question_id}/answers', params, ['include']), buildRequestBody(params, ['content_markdown', 'content_rendered']));\n/**\n * \n *\n * \n */\n\nexport const createComment = params => postRequest(buildURL('/questions/{question_id}/comments', params, ['include']), buildRequestBody(params, ['content']));\n/**\n * \n *\n * \n */\n\nexport const deleteFollow = params => deleteRequest(buildURL('/questions/{question_id}/followers', params));\n/**\n * \n *\n *   \n */\n\nexport const deleteMultiple = params => deleteRequest(buildURL('/questions/{question_ids}', params));\n/**\n * \n *\n * \n */\n\nexport const deleteVote = params => deleteRequest(buildURL('/questions/{question_id}/voters', params));\n/**\n * \n *\n * \n */\n\nexport const get = params => getRequest(buildURL('/questions/{question_id}', params, ['include']));\n/**\n * \n *\n * \n */\n\nexport const getAnswers = params => getRequest(buildURL('/questions/{question_id}/answers', params, ['page', 'per_page', 'order', 'include']));\n/**\n * \n *\n * \n */\n\nexport const getComments = params => getRequest(buildURL('/questions/{question_id}/comments', params, ['page', 'per_page', 'order', 'include']));\n/**\n * \n *\n * \n */\n\nexport const getFollowers = params => getRequest(buildURL('/questions/{question_id}/followers', params, ['page', 'per_page', 'include']));\n/**\n * \n *\n * \n */\n\nexport const getList = (params = {}) => getRequest(buildURL('/questions', params, ['page', 'per_page', 'order', 'include', 'question_id', 'user_id', 'topic_id', 'trashed']));\n/**\n * \n *\n * \n */\n\nexport const getVoters = params => getRequest(buildURL('/questions/{question_id}/voters', params, ['page', 'per_page', 'include', 'type']));\n/**\n * \n *\n * \n */\n\nexport const trash = params => postRequest(buildURL('/questions/{question_id}/trash', params, ['include']));\n/**\n * \n *\n * \n */\n\nexport const trashMultiple = params => postRequest(buildURL('/questions/{question_ids}/trash', params, ['include']));\n/**\n * \n *\n * \n */\n\nexport const untrash = params => postRequest(buildURL('/questions/{question_id}/untrash', params, ['include']));\n/**\n * \n *\n * \n */\n\nexport const untrashMultiple = params => postRequest(buildURL('/questions/{question_ids}/untrash', params, ['include']));\n/**\n * \n *\n *   &#x60;content_markdown&#x60;  &#x60;content_rendered&#x60;   &#x60;content_markdown&#x60; \n */\n\nexport const update = params => patchRequest(buildURL('/questions/{question_id}', params, ['include']), buildRequestBody(params, ['title', 'topic_ids', 'content_markdown', 'content_rendered']));","import { getRequest, postRequest, patchRequest, deleteRequest } from './util/requestAlias';\nimport { buildURL, buildRequestBody } from './util/requestHandler';\n/**\n * \n *\n *   \n */\n\nexport const del = params => deleteRequest(buildURL('/articles/{article_id}', params));\n/**\n * \n *\n * \n */\n\nexport const addFollow = params => postRequest(buildURL('/articles/{article_id}/followers', params));\n/**\n * \n *\n * \n */\n\nexport const addVote = params => postRequest(buildURL('/articles/{article_id}/voters', params), buildRequestBody(params, ['type']));\n/**\n * \n *\n * &#x60;content_markdown&#x60;  &#x60;content_rendered&#x60;   &#x60;content_markdown&#x60; \n */\n\nexport const create = params => postRequest(buildURL('/articles', params, ['include']), buildRequestBody(params, ['title', 'topic_ids', 'content_markdown', 'content_rendered']));\n/**\n * \n *\n * \n */\n\nexport const createComment = params => postRequest(buildURL('/articles/{article_id}/comments', params, ['include']), buildRequestBody(params, ['content']));\n/**\n * \n *\n * \n */\n\nexport const deleteFollow = params => deleteRequest(buildURL('/articles/{article_id}/followers', params));\n/**\n * \n *\n *   \n */\n\nexport const deleteMultiple = params => deleteRequest(buildURL('/articles/{article_ids}', params));\n/**\n * \n *\n * \n */\n\nexport const deleteVote = params => deleteRequest(buildURL('/articles/{article_id}/voters', params));\n/**\n * \n *\n * \n */\n\nexport const get = params => getRequest(buildURL('/articles/{article_id}', params, ['include']));\n/**\n * \n *\n * \n */\n\nexport const getComments = params => getRequest(buildURL('/articles/{article_id}/comments', params, ['page', 'per_page', 'order', 'include']));\n/**\n * \n *\n * \n */\n\nexport const getFollowers = params => getRequest(buildURL('/articles/{article_id}/followers', params, ['page', 'per_page', 'include']));\n/**\n * \n *\n * \n */\n\nexport const getList = (params = {}) => getRequest(buildURL('/articles', params, ['page', 'per_page', 'order', 'include', 'article_id', 'user_id', 'topic_id', 'trashed']));\n/**\n * \n *\n * \n */\n\nexport const getVoters = params => getRequest(buildURL('/articles/{article_id}/voters', params, ['page', 'per_page', 'include', 'type']));\n/**\n * \n *\n * \n */\n\nexport const trash = params => postRequest(buildURL('/articles/{article_id}/trash', params, ['include']));\n/**\n * \n *\n * \n */\n\nexport const trashMultiple = params => postRequest(buildURL('/articles/{article_ids}/trash', params, ['include']));\n/**\n * \n *\n * \n */\n\nexport const untrash = params => postRequest(buildURL('/articles/{article_id}/untrash', params, ['include']));\n/**\n * \n *\n * \n */\n\nexport const untrashMultiple = params => postRequest(buildURL('/articles/{article_ids}/untrash', params, ['include']));\n/**\n * \n *\n *   &#x60;content_markdown&#x60;  &#x60;content_rendered&#x60;   &#x60;content_markdown&#x60; \n */\n\nexport const update = params => patchRequest(buildURL('/articles/{article_id}', params, ['include']), buildRequestBody(params, ['title', 'topic_ids', 'content_markdown', 'content_rendered']));","export default function currentUser() {\n  return window.app.user.getState().user;\n}","import { addFollow as addFollowUser, deleteFollow as deleteFollowUser } from 'mdclub-sdk-js/es/UserApi';\nimport { addFollow as addFollowTopic, deleteFollow as deleteFollowTopic } from 'mdclub-sdk-js/es/TopicApi';\nimport { addFollow as addFollowArticle, deleteFollow as deleteFollowArticle } from 'mdclub-sdk-js/es/ArticleApi';\nimport { addFollow as addFollowQuestion, deleteFollow as deleteFollowQuestion } from 'mdclub-sdk-js/es/QuestionApi';\nimport currentUser from '~/utils/currentUser';\nimport { emit } from '~/utils/pubsub';\nimport apiCatch from '~/utils/errorHandler';\n\nconst getAddFollowFunction = type => {\n  if (!type.indexOf('question')) {\n    return addFollowQuestion;\n  }\n\n  if (!type.indexOf('user')) {\n    return addFollowUser;\n  }\n\n  if (!type.indexOf('topic') || type === 'index_topics') {\n    return addFollowTopic;\n  }\n\n  return addFollowArticle;\n};\n\nconst getDeleteFollowFunction = type => {\n  if (!type.indexOf('question')) {\n    return deleteFollowQuestion;\n  }\n\n  if (!type.indexOf('user')) {\n    return deleteFollowUser;\n  }\n\n  if (!type.indexOf('topic') || type === 'index_topics') {\n    return deleteFollowTopic;\n  }\n\n  return deleteFollowArticle;\n};\n/**\n * article, question, user, topic \n * @param type\n * @param state\n * @param actions\n */\n\n\nconst toggleOne = (type, state, actions) => {\n  const field = type === 'user' ? 'interviewee' : type;\n  const field_id = `${type}_id`;\n  const following_field = `following_${field}`;\n  const {\n    [field]: data,\n    [following_field]: following\n  } = state;\n\n  if (following) {\n    return;\n  }\n\n  actions.setState({\n    [following_field]: true\n  }); // \n\n  const changeFollow = () => {\n    data.relationships.is_following = !data.relationships.is_following;\n    actions.setState({\n      [field]: data\n    });\n  }; //  ajax \n\n\n  changeFollow();\n  const followParams = {\n    [field_id]: data[field_id]\n  };\n  const func = data.relationships.is_following ? getAddFollowFunction(type) : getDeleteFollowFunction(type);\n  const promise = func(followParams);\n  promise.finally(() => actions.setState({\n    [following_field]: false\n  })).then(response => {\n    emit(`${type}s_follow_updated`);\n    data.follower_count = response.data.follower_count;\n    actions.setState({\n      [field]: data\n    });\n  }).catch(response => {\n    apiCatch(response); // \n\n    changeFollow();\n  });\n};\n/**\n * users, topics, users_dialog, index_topics \n * @param type\n * @param id\n * @param state\n * @param actions\n */\n\n\nconst toggleInList = (type, id, state, actions) => {\n  const fieldsMap = {\n    users: () => [`${state.tabs[state.tabIndex]}_data`, 'user', 'user_id'],\n    topics: () => [`${state.tabs[state.tabIndex]}_data`, 'topic', 'topic_id'],\n    users_dialog: () => ['data', 'user', 'user_id'],\n    index_topics: () => ['topics_data', 'topic', 'topic_id']\n  };\n  const [dataField, field, fieldId] = fieldsMap[type]();\n  const data = state[dataField];\n  data.forEach((item, index) => {\n    if (item[fieldId] !== id) {\n      return;\n    }\n\n    const changeFollow = () => {\n      data[index].relationships.is_following = !item.relationships.is_following;\n      actions.setState({\n        [dataField]: data\n      });\n    };\n\n    changeFollow();\n\n    const toggleFollow = () => {\n      const func = item.relationships.is_following ? getAddFollowFunction(type) : getDeleteFollowFunction(type);\n      return func({\n        [fieldId]: id\n      });\n    };\n\n    toggleFollow().then(() => {\n      emit(`${field}s_follow_updated`);\n    }).catch(response => {\n      apiCatch(response);\n      changeFollow();\n    });\n  });\n};\n/**\n *  user-popover \n * @param primaryKey IDIDID\n * @param id IDIDID\n * @param dataName \n * @param actions\n */\n\n\nconst toggleUserInRelationshipsInList = (primaryKey, id, dataName, actions) => {\n  let state; // \n\n  if (dataName === 'comments_data') {\n    state = window.app.comments.getState();\n    actions = window.app.comments;\n  } else {\n    state = actions.getState();\n  }\n\n  const data = state[dataName];\n  data.forEach((item, index) => {\n    if (item[primaryKey] !== id) {\n      return;\n    }\n\n    const changeFollow = () => {\n      const isFollowing = item.relationships.user.relationships.is_following;\n      data[index].relationships.user.relationships.is_following = !isFollowing;\n      actions.setState({\n        [dataName]: data\n      });\n    };\n\n    changeFollow();\n\n    const toggleFollow = () => {\n      const func = item.relationships.user.relationships.is_following ? addFollowUser : deleteFollowUser;\n      return func({\n        user_id: item.user_id\n      });\n    };\n\n    toggleFollow().then(() => {\n      emit('users_follow_updated');\n    }).catch(response => {\n      apiCatch(response);\n      changeFollow();\n    });\n  });\n};\n/**\n *  user-popover \n * @param primaryKey\n * @param dataName\n * @param actions\n */\n\n\nconst toggleUserInRelationships = (primaryKey, dataName, actions) => {\n  const state = actions.getState();\n  const data = state[dataName];\n\n  const changeFollow = () => {\n    data.relationships.user.relationships.is_following = !data.relationships.user.relationships.is_following;\n    actions.setState({\n      [dataName]: data\n    });\n  };\n\n  changeFollow();\n  const func = data.relationships.user.relationships.is_following ? addFollowUser : deleteFollowUser;\n  func({\n    user_id: data.user_id\n  }).then(() => {\n    emit('users_follow_updated');\n  }).catch(response => {\n    apiCatch(response);\n    changeFollow();\n  });\n};\n/**\n *  actions\n */\n\n\nexport default {\n  /**\n   * @param type article, question, user, users, topic, topics, users_dialog, index_topics, relationships-user\n   * @param dataName  relationships-user \n   * @param primaryKey  relationships-user IDIDID\n   * @param id  users, topics, relationships-user \n   */\n  toggleFollow: ({\n    type,\n    dataName = null,\n    primaryKey = null,\n    id = null\n  }) => (state, actions) => {\n    if (!currentUser()) {\n      emit('login_open');\n      return;\n    } // \n\n\n    if (['article', 'question', 'user', 'topic'].indexOf(type) > -1) {\n      toggleOne(type, state, actions);\n      return;\n    } //  users_dialog \n\n\n    if (['users', 'topics', 'index_topics', 'users_dialog'].indexOf(type) > -1) {\n      toggleInList(type, id, state, actions);\n      return;\n    } //  user-popover \n\n\n    if (['relationships-user'].indexOf(type) > -1) {\n      if (dataName === 'article' || dataName === 'question') {\n        toggleUserInRelationships(primaryKey, dataName, actions);\n      } else {\n        toggleUserInRelationshipsInList(primaryKey, id, dataName, actions);\n      }\n    }\n  }\n};","import $ from 'mdui.jq';\nimport extend from 'mdui.jq/es/functions/extend';\nimport followActions from '~/components/follow/actions';\nconst $title = $('title');\n/**\n *  actions \n */\n\nconst as = {\n  /**\n   * \n   */\n  setState: value => value,\n\n  /**\n   * \n   */\n  getState: () => state => state,\n\n  /**\n   *  title\n   */\n  setTitle: title => {\n    const metaTitle = title ? `${title} - ${window.G_OPTIONS.site_name}` : window.G_OPTIONS.site_name + (window.G_OPTIONS.site_description ? ` - ${window.G_OPTIONS.site_description}` : '');\n    $title.text(metaTitle);\n  }\n};\nexport default extend(as, followActions);","import extend from 'mdui.jq/es/functions/extend';\nimport { getList as getTopics } from 'mdclub-sdk-js/es/TopicApi';\nimport { getList as getQuestions } from 'mdclub-sdk-js/es/QuestionApi';\nimport { getList as getArticles } from 'mdclub-sdk-js/es/ArticleApi';\nimport { isUndefined } from 'mdui.jq/es/utils';\nimport commonActions from '~/utils/actionsAbstract';\nimport userPopoverActions from '~/components/user-popover/actions';\nimport { emit } from '~/utils/pubsub';\nimport apiCatch from '~/utils/errorHandler';\nlet scroll_position;\nconst as = {\n  onCreate: () => (state, actions) => {\n    emit('route_update');\n    actions.setTitle('');\n\n    if (!state.topics_pagination) {\n      actions.loadData({\n        localParamName: 'G_INDEX_TOPICS',\n        func: getTopics,\n        fieldPrefix: 'topics',\n        include: ['is_following'],\n        order: '-follower_count',\n        per_page: 12\n      });\n    }\n\n    const include = ['user', 'topics', 'is_following'];\n\n    if (!state.questions_recent_pagination) {\n      actions.loadData({\n        localParamName: 'G_INDEX_QUESTIONS_RECENT',\n        func: getQuestions,\n        fieldPrefix: 'questions_recent',\n        include,\n        order: '-update_time',\n        per_page: 5\n      });\n    }\n\n    if (!state.questions_popular_pagination) {\n      actions.loadData({\n        localParamName: 'G_INDEX_QUESTIONS_POPULAR',\n        func: getQuestions,\n        fieldPrefix: 'questions_popular',\n        include,\n        order: '-answer_count',\n        per_page: 5\n      });\n    }\n\n    if (!state.articles_recent_pagination) {\n      actions.loadData({\n        localParamName: 'G_INDEX_ARTICLES_RECENT',\n        func: getArticles,\n        fieldPrefix: 'articles_recent',\n        include,\n        order: '-create_time',\n        per_page: 5\n      });\n    }\n\n    if (!state.articles_popular_pagination) {\n      actions.loadData({\n        localParamName: 'G_INDEX_ARTICLES_POPULAR',\n        func: getArticles,\n        fieldPrefix: 'articles_popular',\n        include,\n        order: '-vote_count',\n        per_page: 5\n      });\n    } // \n\n\n    if (scroll_position) {\n      window.scrollTo(0, scroll_position);\n      scroll_position = 0;\n    }\n  },\n  onDestroy: () => {},\n\n  /**\n   * \n   */\n  loadData: ({\n    localParamName,\n    func,\n    fieldPrefix,\n    include,\n    order,\n    per_page\n  }) => (state, actions) => {\n    const loadFromPage = () => {\n      const response = window[localParamName];\n\n      if (response) {\n        actions.setState({\n          [`${fieldPrefix}_data`]: response.data,\n          [`${fieldPrefix}_pagination`]: response.pagination\n        });\n        window[localParamName] = null;\n      }\n\n      return response;\n    };\n\n    const loadFromServer = () => {\n      actions.setState({\n        [`${fieldPrefix}_loading`]: true\n      });\n      func({\n        include,\n        order,\n        per_page\n      }).finally(() => {\n        actions.setState({\n          [`${fieldPrefix}_loading`]: false\n        });\n      }).then(({\n        data,\n        pagination\n      }) => {\n        actions.setState({\n          [`${fieldPrefix}_data`]: data,\n          [`${fieldPrefix}_pagination`]: pagination\n        });\n      }).catch(apiCatch);\n    };\n\n    if (loadFromPage()) {\n      return;\n    }\n\n    loadFromServer();\n  },\n  afterItemClick: item => {\n    scroll_position = window.pageYOffset;\n\n    if (!isUndefined(item.topic_id)) {\n      window.G_TOPIC = item;\n    } else if (!isUndefined(item.question_id)) {\n      window.G_QUESTION = item;\n    } else if (!isUndefined(item.article_id)) {\n      window.G_ARTICLE = item;\n    }\n  }\n};\nexport default extend(as, commonActions, userPopoverActions);","/**\n * \n *\n * ABBCCC\n * A12\n * B\n * C\n */\n\n/**\n * =================================================================== \n */\n\n/**\n * \n */\nexport const SYSTEM_ERROR = 100000;\n/**\n * \n */\n\nexport const SYSTEM_MAINTAIN = 100001;\n/**\n * IP \n */\n\nexport const SYSTEM_IP_LIMIT = 100002;\n/**\n * \n */\n\nexport const SYSTEM_USER_LIMIT = 100003;\n/**\n * \n */\n\nexport const SYSTEM_API_NOT_FOUND = 100004;\n/**\n *  HTTP METHOD\n */\n\nexport const SYSTEM_API_NOT_ALLOWED = 100005;\n/**\n *  json \n */\n\nexport const SYSTEM_REQUEST_JSON_INVALID = 100006;\n/**\n * \n */\n\nexport const SYSTEM_INSTALL_FAILED = 100007;\n/**\n * ===================================================== 0\n */\n\n/**\n * \n */\n\nexport const COMMON_FIELD_VERIFY_FAILED = 200001;\n/**\n * \n */\n\nexport const COMMON_SEND_EMAIL_FAILED = 200002;\n/**\n * \n */\n\nexport const COMMON_EMAIL_VERIFY_EXPIRED = 200003;\n/**\n * \n */\n\nexport const COMMON_IMAGE_UPLOAD_FAILED = 200004;\n/**\n * \n */\n\nexport const COMMON_IMAGE_NOT_FOUND = 200005;\n/**\n *  updown \n */\n\nexport const COMMON_VOTE_TYPE_ERROR = 200006;\n/**\n * ===================================================== 1\n */\n\n/**\n * \n */\n\nexport const USER_NEED_LOGIN = 201001;\n/**\n * \n */\n\nexport const USER_NEED_MANAGE_PERMISSION = 201002;\n/**\n * \n */\n\nexport const USER_NOT_FOUND = 201003;\n/**\n * \n */\n\nexport const USER_TARGET_NOT_FOUND = 201004;\n/**\n * \n */\n\nexport const USER_DISABLED = 201005;\n/**\n * \n */\n\nexport const USER_PASSWORD_ERROR = 201006;\n/**\n * \n */\n\nexport const USER_AVATAR_UPLOAD_FAILED = 201007;\n/**\n * \n */\n\nexport const USER_COVER_UPLOAD_FAILED = 201008;\n/**\n * \n */\n\nexport const USER_CANT_FOLLOW_YOURSELF = 201009;\n/**\n * ===================================================== 2\n */\n\n/**\n * \n */\n\nexport const QUESTION_NOT_FOUND = 202001;\n/**\n * \n */\n\nexport const QUESTION_CANT_EDIT = 202002;\n/**\n * \n */\n\nexport const QUESTION_CANT_EDIT_NOT_AUTHOR = 202003;\n/**\n * \n */\n\nexport const QUESTION_CANT_EDIT_TIMEOUT = 202004;\n/**\n * \n */\n\nexport const QUESTION_CANT_EDIT_HAS_ANSWER = 202005;\n/**\n * \n */\n\nexport const QUESTION_CANT_EDIT_HAS_COMMENT = 202006;\n/**\n * \n */\n\nexport const QUESTION_CANT_DELETE = 202007;\n/**\n * \n */\n\nexport const QUESTION_CANT_DELETE_NOT_AUTHOR = 202008;\n/**\n * \n */\n\nexport const QUESTION_CANT_DELETE_TIMEOUT = 202009;\n/**\n * \n */\n\nexport const QUESTION_CANT_DELETE_HAS_ANSWER = 202010;\n/**\n * \n */\n\nexport const QUESTION_CANT_DELETE_HAS_COMMENT = 202011;\n/**\n * ===================================================== 3\n */\n\n/**\n * \n */\n\nexport const ANSWER_NOT_FOUND = 203001;\n/**\n * \n */\n\nexport const ANSWER_CANT_EDIT = 203002;\n/**\n * \n */\n\nexport const ANSWER_CANT_EDIT_NOT_AUTHOR = 203003;\n/**\n * \n */\n\nexport const ANSWER_CANT_EDIT_TIMEOUT = 203004;\n/**\n * \n */\n\nexport const ANSWER_CANT_EDIT_HAS_COMMENT = 203005;\n/**\n * \n */\n\nexport const ANSWER_CANT_DELETE = 203006;\n/**\n * \n */\n\nexport const ANSWER_CANT_DELETE_NOT_AUTHOR = 203007;\n/**\n * \n */\n\nexport const ANSWER_CANT_DELETE_TIMEOUT = 203008;\n/**\n * \n */\n\nexport const ANSWER_CANT_DELETE_HAS_COMMENT = 203009;\n/**\n * ===================================================== 4\n */\n\n/**\n * \n */\n\nexport const COMMENT_NOT_FOUND = 204001;\n/**\n * \n */\n\nexport const COMMENT_CANT_EDIT = 204002;\n/**\n * \n */\n\nexport const COMMENT_CANT_EDIT_NOT_AUTHOR = 204003;\n/**\n * \n */\n\nexport const COMMENT_CANT_EDIT_TIMEOUT = 204004;\n/**\n * \n */\n\nexport const COMMENT_CANT_DELETE = 204005;\n/**\n * \n */\n\nexport const COMMENT_CANT_DELETE_NOT_AUTHOR = 204006;\n/**\n * \n */\n\nexport const COMMENT_CANT_DELETE_TIMEOUT = 204007;\n/**\n * ===================================================== 5\n */\n\n/**\n * \n */\n\nexport const TOPIC_NOT_FOUND = 205001;\n/**\n * \n */\n\nexport const TOPIC_COVER_UPLOAD_FAILED = 205002;\n/**\n * ===================================================== 6\n */\n\n/**\n * \n */\n\nexport const ARTICLE_NOT_FOUND = 206001;\n/**\n * \n */\n\nexport const ARTICLE_CANT_EDIT_NOT_AUTHOR = 206002;\n/**\n * \n */\n\nexport const ARTICLE_CANT_EDIT = 206003;\n/**\n * \n */\n\nexport const ARTICLE_CANT_EDIT_TIMEOUT = 206004;\n/**\n * \n */\n\nexport const ARTICLE_CANT_EDIT_HAS_COMMENT = 206005;\n/**\n * \n */\n\nexport const ARTICLE_CANT_DELETE_NOT_AUTHOR = 206006;\n/**\n * \n */\n\nexport const ARTICLE_CANT_DELETE = 206007;\n/**\n * \n */\n\nexport const ARTICLE_CANT_DELETE_TIMEOUT = 206008;\n/**\n * \n */\n\nexport const ARTICLE_CANT_DELETE_HAS_COMMENT = 206009;\n/**\n * ===================================================== 7\n */\n\n/**\n * \n */\n\nexport const REPORT_NOT_FOUND = 207001;\n/**\n * \n */\n\nexport const REPORT_TARGET_NOT_FOUND = 207002;\n/**\n * \n */\n\nexport const REPORT_ALREADY_SUBMITTED = 207003;\n/**\n * ===================================================== 8\n */\n\n/**\n * \n */\n\nexport const NOTIFICATION_NOT_FOUND = 208001;","import $ from 'mdui.jq';\nimport currentUser from '~/utils/currentUser';\nimport { emit } from '~/utils/pubsub';\n/**\n *  actions\n */\n\nexport default {\n  /**\n   * \n   */\n  editorOpen: () => (state, actions) => {\n    if (!currentUser()) {\n      emit('login_open');\n      return;\n    } //  localStorage \n\n\n    try {\n      const selected = JSON.parse(window.localStorage.getItem(`${state.auto_save_key}-topics`));\n\n      if (selected) {\n        actions.setState({\n          editor_selected_topics: selected,\n          editor_selected_topic_ids: selected.map(topic => topic.topic_id)\n        });\n      } // eslint-disable-next-line no-empty\n\n    } catch (err) {}\n\n    actions.setState({\n      editor_open: true\n    });\n    actions.editorUpdateOverlay();\n  },\n\n  /**\n   * \n   */\n  editorClose: () => (_, actions) => {\n    actions.setState({\n      editor_open: false\n    });\n    actions.editorUpdateOverlay();\n  },\n\n  /**\n   * \n   */\n  editorMinimize: () => (state, actions) => {\n    actions.setState({\n      editor_minimize: !state.editor_minimize\n    });\n    actions.editorUpdateOverlay();\n  },\n\n  /**\n   * \n   */\n  editorMaximize: () => (state, actions) => {\n    actions.setState({\n      editor_minimize: false,\n      editor_maximize: !state.editor_maximize\n    });\n    actions.editorUpdateOverlay();\n  },\n\n  /**\n   * \n   */\n  editorUpdateOverlay: () => (_, actions) => {\n    const state = actions.getState();\n\n    if (state.editor_open && state.editor_maximize && !state.editor_minimize) {\n      $.showOverlay();\n    } else {\n      $.hideOverlay();\n    }\n  }\n};","import mdui from 'mdui';\nimport { getList } from 'mdclub-sdk-js/es/TopicApi';\nimport each from 'mdui.jq/es/functions/each';\nimport apiCatch from '~/utils/errorHandler';\n/**\n *  actions\n */\n\nexport default {\n  /**\n   * \n   */\n  topicSelectorOpen: () => (state, actions) => {\n    const dialog = new mdui.Dialog('.mc-topic-selector', {\n      history: false\n    });\n    const $content = dialog.$element.find('.mdui-dialog-content');\n    actions.setState({\n      topics_data: [],\n      topics_pagination: null,\n      topics_loading: true\n    });\n    dialog.open();\n\n    const loaded = promise => {\n      promise.finally(() => {\n        actions.setState({\n          topics_loading: false\n        });\n      }).then(({\n        data,\n        pagination\n      }) => {\n        actions.setState({\n          topics_data: actions.getState().topics_data.concat(data),\n          topics_pagination: pagination\n        });\n      }).catch(apiCatch);\n    };\n\n    const infiniteLoad = () => {\n      if (actions.getState().topics_loading) {\n        return;\n      }\n\n      const {\n        topics_pagination\n      } = actions.getState();\n\n      if (!topics_pagination) {\n        return;\n      }\n\n      if (topics_pagination.page >= topics_pagination.pages) {\n        return;\n      }\n\n      if ($content[0].scrollHeight - $content[0].scrollTop - $content[0].offsetHeight > 100) {\n        return;\n      }\n\n      actions.setState({\n        topics_loading: true\n      });\n      loaded(getList({\n        page: topics_pagination.page + 1,\n        order: '-follower_count'\n      }));\n    };\n\n    loaded(getList({\n      order: '-follower_count'\n    }));\n    $content.on('scroll', infiniteLoad);\n    dialog.$element.on('close.mdui.dialog', () => {\n      $content.off('scroll', infiniteLoad);\n    });\n  },\n\n  /**\n   * \n   */\n  topicSelectorChange: ({\n    event,\n    dataIndex\n  }) => (state, actions) => {\n    const isChecked = event.target.checked;\n    const {\n      topics_data,\n      editor_selected_topics,\n      topics_max_selectable\n    } = state;\n\n    if (isChecked && editor_selected_topics.length >= topics_max_selectable) {\n      mdui.snackbar(` ${topics_max_selectable} `);\n      return;\n    }\n\n    if (isChecked) {\n      const selectedTopicsResult = editor_selected_topics.concat([topics_data[dataIndex]]);\n      actions.setState({\n        editor_selected_topics: selectedTopicsResult,\n        editor_selected_topic_ids: selectedTopicsResult.map(topic => topic.topic_id)\n      });\n    } else {\n      const dataIndexToSelectedIndex = (index, data, selected) => {\n        const {\n          topic_id\n        } = data[index];\n        let result;\n        each(selected, (resultIndex, topic) => {\n          if (topic.topic_id === topic_id) {\n            result = resultIndex;\n            return false;\n          }\n\n          return true;\n        });\n        return result;\n      };\n\n      const selectedIndex = dataIndexToSelectedIndex(dataIndex, topics_data, editor_selected_topics);\n      editor_selected_topics.splice(selectedIndex, 1);\n      actions.setState({\n        editor_selected_topics,\n        editor_selected_topic_ids: editor_selected_topics.map(topic => topic.topic_id)\n      });\n    }\n\n    actions.saveToLocalStorage();\n  },\n\n  /**\n   * \n   */\n  topicSelectorRemoveOne: selectedIndex => (state, actions) => {\n    const {\n      editor_selected_topics: selected\n    } = state;\n    selected.splice(selectedIndex, 1);\n    actions.setState({\n      editor_selected_topics: selected,\n      editor_selected_topic_ids: selected.map(topic => topic.topic_id)\n    });\n    actions.saveToLocalStorage();\n  },\n\n  /**\n   *  localStorage\n   */\n  saveToLocalStorage: () => state => {\n    window.localStorage.setItem(`${state.auto_save_key}-topics`, JSON.stringify(state.editor_selected_topics));\n  }\n};","/**\n *  state\n */\nexport default {\n  // \n  editor_open: false,\n  // \n  editor_maximize: false,\n  // \n  editor_minimize: false,\n  // \n  editor_selected_topics: [],\n  // ID\n  editor_selected_topic_ids: []\n};","/**\n *  state\n */\nexport default {\n  // \n  topics_data: [],\n  // \n  topics_pagination: null,\n  // \n  topics_loading: false,\n  //  10 \n  topics_max_selectable: 10\n};","import extend from 'mdui.jq/es/functions/extend';\nimport editorState from '~/components/editor/state';\nimport topicSelectorState from '~/components/editor/components/topic-selector/state';\nexport const tabs = ['recent', 'popular', 'following'];\nconst state = {\n  // \n  current_tab: '',\n  // \n  publishing: false,\n  // \n  tabs,\n  // ID\n  last_visit_id: 0,\n  // \n  auto_save_key: 'page-questions'\n};\ntabs.forEach(tabName => {\n  state[`${tabName}_data`] = [];\n  state[`${tabName}_pagination`] = null; //  null \n\n  state[`${tabName}_loading`] = false;\n});\nexport default extend(state, editorState, topicSelectorState);","/**\n * \n * @param url\n */\nfunction fullPath(url) {\n  // @ts-ignore\n  return window.G_ROOT + url;\n}\n\nfunction matchString(url) {\n  return window.location.pathname === fullPath(url);\n}\n\nfunction matchRegular(regular) {\n  const path = window.location.pathname.substr(window.G_ROOT.length);\n  return regular.test(path);\n}\n\nfunction isPathIndex() {\n  return matchString('/');\n}\n\nfunction isPathArticle() {\n  return matchRegular(/^\\/articles\\/\\d+$/);\n}\n\nfunction isPathArticles() {\n  return matchString('/articles');\n}\n\nfunction isPathQuestion() {\n  return matchRegular(/^\\/questions\\/\\d+$/);\n}\n\nfunction isPathQuestions() {\n  return matchString('/questions');\n}\n\nfunction isPathTopic() {\n  return matchRegular(/^\\/topics\\/\\d+$/);\n}\n\nfunction isPathTopics() {\n  return matchString('/topics');\n}\n\nfunction isPathUser() {\n  return matchRegular(/^\\/users\\/\\d+$/);\n}\n\nfunction isPathUsers() {\n  return matchString('/users');\n}\n\nfunction isPathInbox() {\n  return matchString('/inbox');\n}\n\nfunction isPathNotifications() {\n  return matchString('/notifications');\n}\n\nexport { fullPath, isPathIndex, isPathArticle, isPathArticles, isPathQuestion, isPathQuestions, isPathTopic, isPathTopics, isPathUser, isPathUsers, isPathInbox, isPathNotifications };","import timestamp from 'time-stamp';\n/**\n * \n * @param ts\n * @param format\n */\n\nexport function timeFormat(ts, format = 'YYYY-MM-DD HH:mm:ss') {\n  const date = new Date(ts * 1000);\n  return timestamp(format, date);\n}\n/**\n * \n * @param ts\n */\n\nexport function timeFriendly(ts) {\n  // \n  const date = new Date(ts * 1000); // \n\n  const currentTS = Date.parse(new Date().toString()) / 1000; // \n\n  const timeDifference = currentTS - ts;\n\n  if (timeDifference < 1) {\n    return '';\n  }\n\n  if (timeDifference < 60) {\n    return `${timeDifference} `;\n  }\n\n  if (timeDifference < 3600) {\n    return `${parseInt(String(timeDifference / 60), 10)} `;\n  } //  0 \n\n\n  const todayTS = Date.parse(new Date(new Date().setHours(0, 0, 0, 0)).toString()) / 1000;\n\n  if (ts > todayTS) {\n    return ` ${timestamp('HH:mm', date)}`;\n  } //  0 \n\n\n  const yearTS = Date.parse(new Date(`${new Date().getFullYear()}/01/01 00:00:00`).toString()) / 1000;\n\n  if (ts > yearTS) {\n    return timestamp('MM-DD HH:mm', date);\n  }\n\n  return timestamp('YYYY-MM-DD', date);\n}\n/**\n * \n */\n\nexport function currentTimestamp() {\n  return Date.parse(new Date().toString()) / 1000;\n}","import { location } from 'hyperapp-router';\nimport mdui from 'mdui';\nimport extend from 'mdui.jq/es/functions/extend';\nimport { $window } from 'mdui/es/utils/dom';\nimport { getList, create as createQuestion } from 'mdclub-sdk-js/es/QuestionApi';\nimport { getMyFollowingQuestions } from 'mdclub-sdk-js/es/UserApi';\nimport { COMMON_FIELD_VERIFY_FAILED } from 'mdclub-sdk-js/es/errors';\nimport commonActions from '~/utils/actionsAbstract';\nimport editorActions from '~/components/editor/actions';\nimport topicSelectorActions from '~/components/editor/components/topic-selector/actions';\nimport userPopoverActions from '~/components/user-popover/actions';\nimport { emit } from '~/utils/pubsub';\nimport { tabs } from './state';\nimport { fullPath } from '~/utils/path';\nimport apiCatch from '~/utils/errorHandler';\nimport { currentTimestamp } from '~/utils/time';\nconst TABNAME_RECENT = 'recent';\nconst TABNAME_POPULAR = 'popular';\nconst TABNAME_FOLLOWING = 'following';\nlet tab;\nlet tabIndex = tabs.indexOf(TABNAME_RECENT);\nlet scroll_position;\nconst is_updated = {\n  [TABNAME_RECENT]: false,\n  // \n  [TABNAME_POPULAR]: false,\n  // \n  [TABNAME_FOLLOWING]: false // \n\n}; // \n\nconst last_update_time = {\n  [TABNAME_RECENT]: 0,\n  [TABNAME_POPULAR]: 0,\n  [TABNAME_FOLLOWING]: 0\n};\nconst include = ['user', 'topics', 'is_following'];\nconst per_page = 20;\n\nconst getQuestions = (tabName, page) => {\n  if (tabName === TABNAME_RECENT) {\n    return getList({\n      page,\n      include,\n      per_page,\n      order: '-update_time'\n    });\n  }\n\n  if (tabName === TABNAME_POPULAR) {\n    return getList({\n      page,\n      include,\n      per_page,\n      order: '-vote_count'\n    });\n  }\n\n  return getMyFollowingQuestions({\n    page,\n    include,\n    per_page\n  });\n};\n\nconst as = {\n  /**\n   * \n   */\n  onCreate: () => (_, actions) => {\n    emit('route_update');\n    tab = new mdui.Tab('.mc-tab');\n    tabIndex = tab.activeIndex;\n    tab.$element.on('change.mdui.tab', () => {\n      tabIndex = tab.activeIndex;\n      window.scrollTo(0, 0);\n      window.history.replaceState({}, '', `#${tabs[tabIndex]}`);\n      actions.afterChangeTab();\n    });\n    actions.afterChangeTab(); // \n\n    if (scroll_position) {\n      window.scrollTo(0, scroll_position);\n      scroll_position = 0;\n    } // \n\n\n    $window.on('scroll', actions.infiniteLoad);\n  },\n  onDestroy: () => (_, actions) => {\n    $window.off('scroll', actions.infiniteLoad);\n  },\n\n  /**\n   *  Tab \n   */\n  afterChangeTab: () => (state, actions) => {\n    const tabName = tabs[tabIndex];\n    const TAB_NAME = tabName.toUpperCase();\n\n    if (tabName === TABNAME_RECENT) {\n      actions.setTitle('');\n    } else if (tabName === TABNAME_POPULAR) {\n      actions.setTitle('');\n    } else {\n      actions.setTitle('');\n    }\n\n    actions.setState({\n      current_tab: tabName\n    });\n\n    if (!is_updated[tabs[tabIndex]] && state[`${tabName}_pagination`] && currentTimestamp() - last_update_time[tabs[tabIndex]] < 180) {\n      return;\n    }\n\n    is_updated[tabs[tabIndex]] = false;\n    last_update_time[tabs[tabIndex]] = currentTimestamp(); // \n\n    if (window[`G_QUESTIONS_${TAB_NAME}`]) {\n      actions.setState({\n        [`${tabName}_data`]: window[`G_QUESTIONS_${TAB_NAME}`].data,\n        [`${tabName}_pagination`]: window[`G_QUESTIONS_${TAB_NAME}`].pagination\n      }); //  ajax \n\n      window[`G_QUESTIONS_${TAB_NAME}`] = null; // \n\n      setTimeout(() => {\n        actions.infiniteLoad();\n      });\n      return;\n    } // ajax \n\n\n    actions.setState({\n      [`${tabName}_data`]: [],\n      [`${tabName}_pagination`]: null,\n      [`${tabName}_loading`]: true\n    });\n    getQuestions(tabName, 1).finally(() => {\n      actions.setState({\n        [`${tabName}_loading`]: false\n      });\n    }).then(response => {\n      actions.setState({\n        [`${tabName}_data`]: response.data,\n        [`${tabName}_pagination`]: response.pagination\n      }); // \n\n      setTimeout(() => {\n        actions.infiniteLoad();\n      });\n    }).catch(apiCatch);\n  },\n\n  /**\n   * \n   */\n  infiniteLoad: () => (state, actions) => {\n    const tabName = tabs[tabIndex];\n\n    if (state[`${tabName}_loading`]) {\n      return;\n    }\n\n    const pagination = state[`${tabName}_pagination`];\n\n    if (pagination.page >= pagination.pages) {\n      return;\n    }\n\n    if (document.body.scrollHeight - window.pageYOffset - window.innerHeight > 100) {\n      return;\n    }\n\n    actions.setState({\n      [`${tabName}_loading`]: true\n    });\n    getQuestions(tabName, pagination.page + 1).finally(() => {\n      actions.setState({\n        [`${tabName}_loading`]: false\n      });\n    }).then(response => {\n      actions.setState({\n        [`${tabName}_data`]: state[`${tabName}_data`].concat(response.data),\n        [`${tabName}_pagination`]: response.pagination\n      });\n    }).catch(apiCatch);\n  },\n\n  /**\n   * \n   */\n  toRecent: () => {\n    tab.show(tabs.indexOf(TABNAME_RECENT));\n  },\n\n  /**\n   * \n   */\n  toPopular: () => {\n    tab.show(tabs.indexOf(TABNAME_POPULAR));\n  },\n\n  /**\n   * \n   */\n  toFolliwing: () => {\n    tab.show(tabs.indexOf(TABNAME_FOLLOWING));\n  },\n\n  /**\n   * \n   */\n  followUpdate: () => {\n    is_updated[TABNAME_FOLLOWING] = true;\n  },\n\n  /**\n   * \n   */\n  questionUpdate: question => (state, actions) => {\n    let questions = [];\n    tabs.forEach(tabName => {\n      questions = state[`${tabName}_data`];\n      let hasUpdate = false;\n      questions.forEach((_question, i) => {\n        if (question.question_id === _question.question_id) {\n          hasUpdate = true;\n          questions[i] = question;\n        }\n      });\n\n      if (hasUpdate) {\n        actions.setState({\n          [`${tabName}_data`]: questions\n        });\n      }\n    });\n  },\n\n  /**\n   * \n   */\n  publish: ({\n    title,\n    content\n  }) => (state, actions) => {\n    const {\n      editor_selected_topic_ids: topic_ids,\n      auto_save_key\n    } = state;\n\n    if (!title) {\n      mdui.snackbar('');\n      return;\n    }\n\n    if (!topic_ids.length) {\n      mdui.snackbar('');\n      return;\n    }\n\n    if (!content || content === '<p><br></p>') {\n      mdui.snackbar('');\n      return;\n    }\n\n    actions.setState({\n      publishing: true\n    });\n    createQuestion({\n      title,\n      topic_ids,\n      content_rendered: content,\n      include\n    }).finally(() => {\n      actions.setState({\n        publishing: false\n      });\n    }).then(response => {\n      is_updated[TABNAME_RECENT] = true;\n      is_updated[TABNAME_POPULAR] = true;\n      is_updated[TABNAME_FOLLOWING] = true; // \n\n      window.localStorage.removeItem(`${auto_save_key}-title`);\n      window.localStorage.removeItem(`${auto_save_key}-topics`);\n      window.localStorage.removeItem(`${auto_save_key}-content`);\n      actions.setState({\n        editor_selected_topics: [],\n        editor_selected_topic_ids: []\n      });\n      actions.editorClose(); // \n\n      window.G_QUESTION = response.data;\n      location.actions.go(fullPath(`/questions/${response.data.question_id}`));\n    }).catch(response => {\n      if (response.code === COMMON_FIELD_VERIFY_FAILED) {\n        mdui.snackbar(Object.values(response.errors)[0]);\n        return;\n      }\n\n      apiCatch(response);\n    });\n  },\n\n  /**\n   * ID\n   * @param question\n   */\n  afterItemClick: question => (_, actions) => {\n    window.G_QUESTION = question;\n    scroll_position = window.pageYOffset;\n    actions.setState({\n      last_visit_id: question.question_id\n    });\n  }\n};\nexport default extend(as, commonActions, editorActions, topicSelectorActions, userPopoverActions);","/**\n * Copyright (C) 2017-present by Andrea Giammarchi - @WebReflection\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\n\nconst {replace} = '';\n\n// escape\nconst es = /&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34);/g;\nconst ca = /[&<>'\"]/g;\n\nconst esca = {\n  '&': '&amp;',\n  '<': '&lt;',\n  '>': '&gt;',\n  \"'\": '&#39;',\n  '\"': '&quot;'\n};\nconst pe = m => esca[m];\n\nexport const escape = es => replace.call(es, ca, pe);\n\n\n// unescape\nconst unes = {\n  '&amp;': '&',\n  '&#38;': '&',\n  '&lt;': '<',\n  '&#60;': '<',\n  '&gt;': '>',\n  '&#62;': '>',\n  '&apos;': \"'\",\n  '&#39;': \"'\",\n  '&quot;': '\"',\n  '&#34;': '\"'\n};\nconst cape = m => unes[m];\n\nexport const unescape = un => replace.call(un, es, cape);\n","import { getRequest, postRequest, patchRequest, deleteRequest } from './util/requestAlias';\nimport { buildURL, buildRequestBody } from './util/requestHandler';\n/**\n * \n *\n *   \n */\n\nexport const del = params => deleteRequest(buildURL('/answers/{answer_id}', params));\n/**\n * \n *\n * \n */\n\nexport const addVote = params => postRequest(buildURL('/answers/{answer_id}/voters', params), buildRequestBody(params, ['type']));\n/**\n * \n *\n * \n */\n\nexport const createComment = params => postRequest(buildURL('/answers/{answer_id}/comments', params, ['include']), buildRequestBody(params, ['content']));\n/**\n * \n *\n *   \n */\n\nexport const deleteMultiple = params => deleteRequest(buildURL('/answers/{answer_ids}', params));\n/**\n * \n *\n * \n */\n\nexport const deleteVote = params => deleteRequest(buildURL('/answers/{answer_id}/voters', params));\n/**\n * \n *\n * \n */\n\nexport const get = params => getRequest(buildURL('/answers/{answer_id}', params, ['include']));\n/**\n * \n *\n * \n */\n\nexport const getComments = params => getRequest(buildURL('/answers/{answer_id}/comments', params, ['page', 'per_page', 'order', 'include']));\n/**\n * \n *\n * \n */\n\nexport const getList = (params = {}) => getRequest(buildURL('/answers', params, ['page', 'per_page', 'order', 'include', 'answer_id', 'question_id', 'user_id', 'trashed']));\n/**\n * \n *\n * \n */\n\nexport const getVoters = params => getRequest(buildURL('/answers/{answer_id}/voters', params, ['page', 'per_page', 'include', 'type']));\n/**\n * \n *\n * \n */\n\nexport const trash = params => postRequest(buildURL('/answers/{answer_id}/trash', params, ['include']));\n/**\n * \n *\n * \n */\n\nexport const trashMultiple = params => postRequest(buildURL('/answers/{answer_ids}/trash', params, ['include']));\n/**\n * \n *\n * \n */\n\nexport const untrash = params => postRequest(buildURL('/answers/{answer_id}/untrash', params, ['include']));\n/**\n * \n *\n * \n */\n\nexport const untrashMultiple = params => postRequest(buildURL('/answers/{answer_ids}/untrash', params, ['include']));\n/**\n * \n *\n *   &#x60;content_markdown&#x60;  &#x60;content_rendered&#x60;   &#x60;content_markdown&#x60; \n */\n\nexport const update = params => patchRequest(buildURL('/answers/{answer_id}', params, ['include']), buildRequestBody(params, ['content_markdown', 'content_rendered']));","import { getRequest, postRequest, patchRequest, deleteRequest } from './util/requestAlias';\nimport { buildURL, buildRequestBody } from './util/requestHandler';\n/**\n * \n *\n *   \n */\n\nexport const del = params => deleteRequest(buildURL('/comments/{comment_id}', params));\n/**\n * \n *\n * \n */\n\nexport const addVote = params => postRequest(buildURL('/comments/{comment_id}/voters', params), buildRequestBody(params, ['type']));\n/**\n * \n *\n * \n */\n\nexport const createReply = params => postRequest(buildURL('/comments/{comment_id}/replies', params, ['include']), buildRequestBody(params, ['content']));\n/**\n * \n *\n *   \n */\n\nexport const deleteMultiple = params => deleteRequest(buildURL('/comments/{comment_ids}', params));\n/**\n * \n *\n * \n */\n\nexport const deleteVote = params => deleteRequest(buildURL('/comments/{comment_id}/voters', params));\n/**\n * \n *\n * \n */\n\nexport const get = params => getRequest(buildURL('/comments/{comment_id}', params, ['include']));\n/**\n * \n *\n * \n */\n\nexport const getList = (params = {}) => getRequest(buildURL('/comments', params, ['page', 'per_page', 'order', 'include', 'comment_id', 'commentable_id', 'commentable_type', 'user_id', 'trashed']));\n/**\n * \n *\n * \n */\n\nexport const getReplies = params => getRequest(buildURL('/comments/{comment_id}/replies', params, ['page', 'per_page', 'order', 'include']));\n/**\n * \n *\n * \n */\n\nexport const getVoters = params => getRequest(buildURL('/comments/{comment_id}/voters', params, ['page', 'per_page', 'include', 'type']));\n/**\n * \n *\n * \n */\n\nexport const trash = params => postRequest(buildURL('/comments/{comment_id}/trash', params, ['include']));\n/**\n * \n *\n * \n */\n\nexport const trashMultiple = params => postRequest(buildURL('/comments/{comment_ids}/trash', params, ['include']));\n/**\n * \n *\n * \n */\n\nexport const untrash = params => postRequest(buildURL('/comments/{comment_id}/untrash', params, ['include']));\n/**\n * \n *\n * \n */\n\nexport const untrashMultiple = params => postRequest(buildURL('/comments/{comment_ids}/untrash', params, ['include']));\n/**\n * \n *\n * \n */\n\nexport const update = params => patchRequest(buildURL('/comments/{comment_id}', params, ['include']), buildRequestBody(params, ['content']));","import extend from 'mdui.jq/es/functions/extend';\nimport { addVote as addAnswerVote, deleteVote as deleteAnswerVote } from 'mdclub-sdk-js/es/AnswerApi';\nimport { addVote as addArticleVote, deleteVote as deleteArticleVote } from 'mdclub-sdk-js/es/ArticleApi';\nimport { addVote as addCommentVote, deleteVote as deleteCommentVote } from 'mdclub-sdk-js/es/CommentApi';\nimport { findIndex } from '~/utils/func';\nimport apiCatch from '~/utils/errorHandler';\n\nconst toggle = (id, commentIndex, type, voting, state, actions) => {\n  let promise; // \n\n  if (type === 'article') {\n    const {\n      article\n    } = state;\n    const isDelete = article.relationships.voting === voting;\n    article.relationships.voting = isDelete ? '' : voting;\n    actions.setState({\n      article\n    });\n    promise = isDelete ? deleteArticleVote({\n      article_id: id\n    }) : addArticleVote({\n      article_id: id,\n      type: voting\n    });\n    promise.then(({\n      data\n    }) => {\n      extend(article, data);\n      actions.setState({\n        article\n      });\n    });\n  } // \n\n\n  if (type === 'answers') {\n    const {\n      answer_data\n    } = state;\n    const index = findIndex(answer_data, 'answer_id', id);\n    const answer = answer_data[index];\n    const isDelete = answer.relationships.voting === voting;\n    answer.relationships.voting = isDelete ? '' : voting;\n    answer_data[index] = answer;\n    actions.setState({\n      answer_data\n    });\n    promise = isDelete ? deleteAnswerVote({\n      answer_id: id\n    }) : addAnswerVote({\n      answer_id: id,\n      type: voting\n    });\n    promise.then(({\n      data\n    }) => {\n      extend(answer, data);\n      answer_data[index] = answer;\n      actions.setState({\n        answer_data\n      });\n    });\n  } // \n\n\n  if (type === 'comments') {\n    const {\n      comments_data\n    } = state;\n    const index = findIndex(comments_data, 'comment_id', id);\n    const comment = comments_data[index];\n    const isDelete = comment.relationships.voting === voting;\n    comment.relationships.voting = isDelete ? '' : voting;\n    comments_data[index] = comment;\n    actions.setState({\n      comments_data\n    });\n    promise = isDelete ? deleteCommentVote({\n      comment_id: id\n    }) : addCommentVote({\n      comment_id: id,\n      type: voting\n    });\n    promise.then(({\n      data\n    }) => {\n      extend(comment, data);\n      comments_data[index] = comment;\n      actions.setState({\n        comments_data\n      });\n    });\n  } // \n\n\n  if (type === 'replies') {\n    const {\n      comments_data\n    } = state;\n    const {\n      replies_data\n    } = comments_data[commentIndex];\n    const index = findIndex(replies_data, 'comment_id', id);\n    const reply = replies_data[index];\n    const isDelete = reply.relationships.voting === voting;\n    reply.relationships.voting = isDelete ? '' : voting;\n    comments_data[commentIndex].replies_data[index] = reply;\n    actions.setState({\n      comments_data\n    });\n    promise = isDelete ? deleteCommentVote({\n      comment_id: id\n    }) : addCommentVote({\n      comment_id: id,\n      type: voting\n    });\n    promise.then(({\n      data\n    }) => {\n      extend(reply, data);\n      comments_data[commentIndex].replies_data[index] = reply;\n      actions.setState({\n        comments_data\n      });\n    });\n  }\n\n  promise.catch(apiCatch);\n};\n\nconst getIdValue = (item, type) => {\n  switch (type) {\n    case 'article':\n      return item.article_id;\n\n    case 'answers':\n      return item.answer_id;\n\n    default:\n      return item.comment_id;\n  }\n};\n/**\n *  actions\n */\n\n\nexport default {\n  /**\n   * \n   * @param item\n   * @param type\n   *              answers: \n   *              article: \n   *              comments: \n   *              replies: \n   * @param commentIndex  replies \n   */\n  voteUp: ({\n    item,\n    type,\n    commentIndex\n  }) => (state, actions) => {\n    toggle(getIdValue(item, type), commentIndex, type, 'up', state, actions);\n  },\n\n  /**\n   * \n   * @param item\n   * @param type\n   *              answers: \n   *              article: \n   *              comments: \n   *              replies\n   * @param commentIndex  replies \n   */\n  voteDown: ({\n    item,\n    type,\n    commentIndex\n  }) => (state, actions) => {\n    toggle(getIdValue(item, type), commentIndex, type, 'down', state, actions);\n  }\n};","export default {\n  // ID\n  question_id: 0,\n  // \n  answer_id: 0,\n  // \n  question: null,\n  // \n  loading: false,\n  // \n  following_question: false,\n  // \n  answer_order: '-vote_count',\n  // \n  answer_data: [],\n  //  null \n  answer_pagination: null,\n  // \n  answer_loading: false,\n  // \n  answer_publishing: false,\n  auto_save_key: 'page-answers'\n};","import { location } from 'hyperapp-router';\nimport mdui from 'mdui';\nimport extend from 'mdui.jq/es/functions/extend';\nimport { $window } from 'mdui/es/utils/dom';\nimport { unescape } from 'html-escaper';\nimport { get as getQuestion, createAnswer, getAnswers } from 'mdclub-sdk-js/es/QuestionApi';\nimport { getList as getAnswerList, get as getAnswer } from 'mdclub-sdk-js/es/AnswerApi';\nimport { COMMON_FIELD_VERIFY_FAILED } from 'mdclub-sdk-js/es/errors';\nimport { emit } from '~/utils/pubsub';\nimport { fullPath } from '~/utils/path';\nimport apiCatch from '~/utils/errorHandler';\nimport commonActions from '~/utils/actionsAbstract';\nimport editorActions from '~/components/editor/actions';\nimport voteActions from '~/components/vote/actions';\nimport userPopoverActions from '~/components/user-popover/actions';\nimport stateDefault from './stateDefault';\nconst per_page = 20;\nconst as = {\n  /**\n   * @param question_id\n   * @param answer_id  0\n   * @param route question, answer\n   */\n  onCreate: ({\n    question_id,\n    answer_id,\n    route\n  }) => (state, actions) => {\n    emit('route_update');\n    actions.setState({\n      route\n    });\n\n    if (answer_id) {\n      // \n      if (state.answer_id !== answer_id) {\n        actions.setState(stateDefault);\n        actions.setState({\n          question_id,\n          answer_id\n        });\n        actions.loadQuestion();\n        actions.loadAnswer();\n      }\n    } else {\n      // \n      if (state.question_id !== question_id || state.answer_id) {\n        actions.setState(stateDefault);\n        actions.setState({\n          question_id\n        });\n        actions.loadQuestion();\n        actions.loadAnswers();\n      } // \n\n\n      if (!state.answer_pagination) {\n        actions.loadAnswers();\n      }\n\n      $window.on('scroll', actions.infiniteLoadAnswers);\n    }\n  },\n  onDestroy: () => (state, actions) => {\n    if (state.route === 'question') {\n      $window.off('scroll', actions.infiniteLoadAnswers);\n    }\n  },\n\n  /**\n   * \n   */\n  loadQuestion: () => (state, actions) => {\n    const setTitle = title => {\n      if (state.route === 'question') {\n        actions.setTitle(title);\n      } else {\n        actions.setTitle(`${title} `);\n      }\n    }; // \n\n\n    const loadFromPage = () => {\n      const question = window.G_QUESTION;\n\n      if (question) {\n        actions.setState({\n          question\n        });\n        window.G_QUESTION = null;\n        setTitle(unescape(question.title));\n      }\n\n      return question;\n    }; // ajax \n\n\n    const loadFromServer = () => {\n      actions.setState({\n        loading: true\n      });\n      getQuestion({\n        question_id: state.question_id,\n        include: ['user', 'topics', 'is_following', 'voting']\n      }).finally(() => {\n        actions.setState({\n          loading: false\n        });\n      }).then(({\n        data\n      }) => {\n        actions.setState({\n          question: data\n        });\n        setTitle(unescape(data.title));\n      }).catch(apiCatch);\n    };\n\n    if (loadFromPage()) {\n      return;\n    }\n\n    loadFromServer();\n  },\n\n  /**\n   * \n   */\n  loadAnswer: () => (state, actions) => {\n    // \n    const loadFromPage = () => {\n      const answer = window.G_ANSWER;\n\n      if (answer) {\n        actions.setState({\n          answer_data: [answer]\n        });\n        window.G_ANSWER = null;\n      }\n\n      return answer;\n    }; // ajax \n\n\n    const loadFromServer = () => {\n      actions.setState({\n        answer_loading: true\n      });\n      getAnswer({\n        answer_id: state.answer_id,\n        include: ['user', 'voting']\n      }).finally(() => {\n        actions.setState({\n          answer_loading: false\n        });\n      }).then(({\n        data\n      }) => {\n        actions.setState({\n          answer_data: [data]\n        });\n      }).catch(apiCatch);\n    };\n\n    if (loadFromPage()) {\n      return;\n    }\n\n    loadFromServer();\n  },\n\n  /**\n   * \n   */\n  changeOrder: answer_order => (state, actions) => {\n    if (answer_order === state.answer_order) {\n      return;\n    }\n\n    actions.setState({\n      answer_order,\n      answer_data: [],\n      answer_pagination: null\n    });\n    actions.loadAnswers();\n  },\n\n  /**\n   * \n   * @returns void\n   */\n  loadAnswers: () => (state, actions) => {\n    // \n    const loadFromPage = () => {\n      const answers = window.G_QUESTION_ANSWERS;\n\n      if (answers) {\n        actions.setState({\n          answer_data: answers.data,\n          answer_pagination: answers.pagination,\n          answer_loading: false\n        });\n        window.G_QUESTION_ANSWERS = null;\n      }\n\n      return answers;\n    }; //  ajax \n\n\n    const loadFromServer = () => {\n      actions.setState({\n        answer_loading: true\n      });\n      getAnswers({\n        question_id: state.question_id,\n        per_page,\n        order: state.answer_order,\n        include: ['user', 'voting']\n      }).finally(() => {\n        actions.setState({\n          answer_loading: false\n        });\n      }).then(response => {\n        actions.setState({\n          answer_data: response.data,\n          answer_pagination: response.pagination\n        });\n      }).catch(apiCatch);\n    };\n\n    if (loadFromPage()) {\n      return;\n    }\n\n    loadFromServer();\n  },\n\n  /**\n   * \n   */\n  infiniteLoadAnswers: () => (state, actions) => {\n    if (state.answer_loading) {\n      return;\n    }\n\n    const pagination = state.answer_pagination;\n\n    if (pagination.page >= pagination.pages) {\n      return;\n    }\n\n    if (document.body.scrollHeight - window.pageYOffset - window.innerHeight > 100) {\n      return;\n    }\n\n    actions.setState({\n      answer_loading: true\n    });\n    getAnswerList({\n      page: pagination.page + 1,\n      per_page,\n      order: state.answer_order,\n      include: ['user', 'voting'],\n      question_id: state.question_id\n    }).finally(() => {\n      actions.setState({\n        answer_loading: false\n      });\n    }).then(response => {\n      actions.setState({\n        answer_data: state.answer_data.concat(response.data),\n        answer_pagination: response.pagination\n      });\n    }).catch(apiCatch);\n  },\n\n  /**\n   * \n   */\n  publishAnswer: ({\n    content\n  }) => (state, actions) => {\n    const {\n      auto_save_key\n    } = state;\n\n    if (!content || content === '<p><br></p>') {\n      mdui.snackbar('');\n      return;\n    }\n\n    actions.setState({\n      answer_publishing: true\n    });\n    createAnswer({\n      question_id: state.question_id,\n      content_rendered: content,\n      include: ['user', 'voting']\n    }).finally(() => {\n      actions.setState({\n        answer_publishing: false\n      });\n    }).then(response => {\n      window.localStorage.removeItem(`${auto_save_key}-content`);\n      actions.editorClose(); //  + 1\n\n      const {\n        question\n      } = state;\n      question.answer_count += 1; // \n\n      actions.setState({\n        question,\n        answer_data: [],\n        answer_pagination: null\n      }); // \n\n      window.G_QUESTION = state.question;\n      window.G_ANSWER = response.data;\n      location.actions.go(fullPath(`/questions/${state.question_id}/answers/${response.data.answer_id}`));\n    }).catch(response => {\n      if (response.code === COMMON_FIELD_VERIFY_FAILED) {\n        mdui.snackbar(Object.values(response.errors)[0]);\n        return;\n      }\n\n      apiCatch(response);\n    });\n  }\n};\nexport default extend(as, commonActions, editorActions, voteActions, userPopoverActions);","import extend from 'mdui.jq/es/functions/extend';\nimport editorState from '~/components/editor/state';\nimport topicSelectorState from '~/components/editor/components/topic-selector/state';\nexport const tabs = ['recent', 'popular', 'following'];\nconst state = {\n  // \n  current_tab: '',\n  // \n  publishing: false,\n  // \n  tabs,\n  // ID\n  last_visit_id: 0,\n  // \n  auto_save_key: 'page-articles'\n};\ntabs.forEach(tabName => {\n  state[`${tabName}_data`] = [];\n  state[`${tabName}_pagination`] = null; //  null \n\n  state[`${tabName}_loading`] = false;\n});\nexport default extend(state, editorState, topicSelectorState);","import { location } from 'hyperapp-router';\nimport mdui from 'mdui';\nimport extend from 'mdui.jq/es/functions/extend';\nimport { $window } from 'mdui/es/utils/dom';\nimport { getList, create as createArticle } from 'mdclub-sdk-js/es/ArticleApi';\nimport { getMyFollowingArticles } from 'mdclub-sdk-js/es/UserApi';\nimport { COMMON_FIELD_VERIFY_FAILED } from 'mdclub-sdk-js/es/errors';\nimport commonActions from '~/utils/actionsAbstract';\nimport editorActions from '~/components/editor/actions';\nimport topicSelectorActions from '~/components/editor/components/topic-selector/actions';\nimport userPopoverActions from '~/components/user-popover/actions';\nimport { emit } from '~/utils/pubsub';\nimport { tabs } from './state';\nimport { fullPath } from '~/utils/path';\nimport apiCatch from '~/utils/errorHandler';\nimport { currentTimestamp } from '~/utils/time';\nconst TABNAME_RECENT = 'recent';\nconst TABNAME_POPULAR = 'popular';\nconst TABNAME_FOLLOWING = 'following';\nlet tab;\nlet tabIndex = tabs.indexOf(TABNAME_RECENT);\nlet scroll_position;\nconst is_updated = {\n  [TABNAME_RECENT]: false,\n  // \n  [TABNAME_POPULAR]: false,\n  // \n  [TABNAME_FOLLOWING]: false // \n\n}; // \n\nconst last_update_time = {\n  [TABNAME_RECENT]: 0,\n  [TABNAME_POPULAR]: 0,\n  [TABNAME_FOLLOWING]: 0\n};\nconst include = ['user', 'topics', 'is_following', 'voting'];\nconst per_page = 20;\n\nconst getArticles = (tabName, page) => {\n  if (tabName === TABNAME_RECENT) {\n    return getList({\n      page,\n      include,\n      per_page,\n      order: '-update_time'\n    });\n  }\n\n  if (tabName === TABNAME_POPULAR) {\n    return getList({\n      page,\n      include,\n      per_page,\n      order: '-vote_count'\n    });\n  }\n\n  return getMyFollowingArticles({\n    page,\n    include,\n    per_page\n  });\n};\n\nconst as = {\n  onCreate: () => (_, actions) => {\n    emit('route_update');\n    tab = new mdui.Tab('.mc-tab');\n    tabIndex = tab.activeIndex;\n    tab.$element.on('change.mdui.tab', () => {\n      tabIndex = tab.activeIndex;\n      window.scrollTo(0, 0);\n      window.history.replaceState({}, '', `#${tabs[tabIndex]}`);\n      actions.afterChangeTab();\n    });\n    actions.afterChangeTab(); // \n\n    if (scroll_position) {\n      window.scrollTo(0, scroll_position);\n      scroll_position = 0;\n    } // \n\n\n    $window.on('scroll', actions.infiniteLoad);\n  },\n  onDestroy: () => (_, actions) => {\n    $window.off('scroll', actions.infiniteLoad);\n  },\n\n  /**\n   *  Tab \n   */\n  afterChangeTab: () => (state, actions) => {\n    const tabName = tabs[tabIndex];\n    const TAB_NAME = tabName.toUpperCase();\n\n    if (tabName === TABNAME_RECENT) {\n      actions.setTitle('');\n    } else if (tabName === TABNAME_POPULAR) {\n      actions.setTitle('');\n    } else {\n      actions.setTitle('');\n    }\n\n    actions.setState({\n      current_tab: tabName\n    });\n\n    if (!is_updated[tabs[tabIndex]] && state[`${tabName}_pagination`] && currentTimestamp() - last_update_time[tabs[tabIndex]] < 180) {\n      return;\n    }\n\n    is_updated[tabs[tabIndex]] = false;\n    last_update_time[tabs[tabIndex]] = currentTimestamp(); // \n\n    if (window[`G_ARTICLES_${TAB_NAME}`]) {\n      actions.setState({\n        [`${tabName}_data`]: window[`G_ARTICLES_${TAB_NAME}`].data,\n        [`${tabName}_pagination`]: window[`G_ARTICLES_${TAB_NAME}`].pagination\n      }); //  ajax \n\n      window[`G_ARTICLES_${TAB_NAME}`] = null; // \n\n      setTimeout(() => {\n        actions.infiniteLoad();\n      });\n      return;\n    } // ajax \n\n\n    actions.setState({\n      [`${tabName}_data`]: [],\n      [`${tabName}_pagination`]: null,\n      [`${tabName}_loading`]: true\n    });\n    getArticles(tabName, 1).finally(() => {\n      actions.setState({\n        [`${tabName}_loading`]: false\n      });\n    }).then(response => {\n      actions.setState({\n        [`${tabName}_data`]: response.data,\n        [`${tabName}_pagination`]: response.pagination\n      }); // \n\n      setTimeout(() => {\n        actions.infiniteLoad();\n      });\n    }).catch(apiCatch);\n  },\n\n  /**\n   * \n   */\n  infiniteLoad: () => (state, actions) => {\n    const tabName = tabs[tabIndex];\n\n    if (state[`${tabName}_loading`]) {\n      return;\n    }\n\n    const pagination = state[`${tabName}_pagination`];\n\n    if (pagination.page >= pagination.pages) {\n      return;\n    }\n\n    if (document.body.scrollHeight - window.pageYOffset - window.innerHeight > 100) {\n      return;\n    }\n\n    actions.setState({\n      [`${tabName}_loading`]: true\n    });\n    getArticles(tabName, pagination.page + 1).finally(() => {\n      actions.setState({\n        [`${tabName}_loading`]: false\n      });\n    }).then(response => {\n      actions.setState({\n        [`${tabName}_data`]: state[`${tabName}_data`].concat(response.data),\n        [`${tabName}_pagination`]: response.pagination\n      });\n    }).catch(apiCatch);\n  },\n\n  /**\n   * \n   */\n  toRecent: () => {\n    tab.show(tabs.indexOf(TABNAME_RECENT));\n  },\n\n  /**\n   * \n   */\n  toPopular: () => {\n    tab.show(tabs.indexOf(TABNAME_POPULAR));\n  },\n\n  /**\n   * \n   */\n  toFolliwing: () => {\n    tab.show(tabs.indexOf(TABNAME_FOLLOWING));\n  },\n\n  /**\n   * \n   */\n  followUpdate: () => {\n    is_updated[TABNAME_FOLLOWING] = true;\n  },\n\n  /**\n   * \n   */\n  articleUpdate: article => (state, actions) => {\n    let articles = [];\n    tabs.forEach(tabName => {\n      articles = state[`${tabName}_data`];\n      let hasUpdate = false;\n      articles.forEach((_article, i) => {\n        if (article.article_id === _article.article_id) {\n          hasUpdate = true;\n          articles[i] = article;\n        }\n      });\n\n      if (hasUpdate) {\n        actions.setState({\n          [`${tabName}_data`]: articles\n        });\n      }\n    });\n  },\n\n  /**\n   * \n   */\n  publish: ({\n    title,\n    content\n  }) => (state, actions) => {\n    const {\n      editor_selected_topic_ids: topic_ids,\n      auto_save_key\n    } = state;\n\n    if (!title) {\n      mdui.snackbar('');\n      return;\n    }\n\n    if (!topic_ids.length) {\n      mdui.snackbar('');\n      return;\n    }\n\n    if (!content || content === '<p><br></p>') {\n      mdui.snackbar('');\n      return;\n    }\n\n    actions.setState({\n      publishing: true\n    });\n    createArticle({\n      title,\n      topic_ids,\n      content_rendered: content,\n      include\n    }).finally(() => {\n      actions.setState({\n        publishing: false\n      });\n    }).then(response => {\n      is_updated[TABNAME_RECENT] = true;\n      is_updated[TABNAME_POPULAR] = true;\n      is_updated[TABNAME_FOLLOWING] = true; // \n\n      window.localStorage.removeItem(`${auto_save_key}-title`);\n      window.localStorage.removeItem(`${auto_save_key}-topics`);\n      window.localStorage.removeItem(`${auto_save_key}-content`);\n      actions.editorClose(); // \n\n      window.G_ARTICLE = response.data;\n      location.actions.go(fullPath(`/articles/${response.data.article_id}`));\n    }).catch(response => {\n      if (response.code === COMMON_FIELD_VERIFY_FAILED) {\n        mdui.snackbar(Object.values(response.errors)[0]);\n        return;\n      }\n\n      apiCatch(response);\n    });\n  },\n\n  /**\n   * ID\n   * @param article\n   */\n  afterItemClick: article => (_, actions) => {\n    window.G_ARTICLE = article;\n    scroll_position = window.pageYOffset;\n    actions.setState({\n      last_visit_id: article.article_id\n    });\n  }\n};\nexport default extend(as, commonActions, editorActions, topicSelectorActions, userPopoverActions);","export default {\n  // ID\n  article_id: 0,\n  // \n  article: null,\n  // \n  loading: false,\n  // \n  following_article: false\n};","import { unescape } from 'html-escaper';\nimport extend from 'mdui.jq/es/functions/extend';\nimport { get as getArticle } from 'mdclub-sdk-js/es/ArticleApi';\nimport { emit } from '~/utils/pubsub';\nimport apiCatch from '~/utils/errorHandler';\nimport commonActions from '~/utils/actionsAbstract';\nimport voteActions from '~/components/vote/actions';\nimport userPopoverActions from '~/components/user-popover/actions';\nimport stateDefault from './stateDefault';\nconst as = {\n  onCreate: ({\n    article_id\n  }) => (state, actions) => {\n    emit('route_update');\n\n    if (state.article_id !== article_id) {\n      actions.setState(stateDefault);\n      actions.setState({\n        article_id\n      });\n      actions.loadArticle();\n    }\n  },\n  loadArticle: () => (state, actions) => {\n    // \n    const loadFromPage = () => {\n      const article = window.G_ARTICLE;\n\n      if (article) {\n        actions.setState({\n          article\n        });\n        window.G_ARTICLE = null;\n        actions.setTitle(unescape(article.title));\n      }\n\n      return article;\n    }; // ajax \n\n\n    const loadFromServer = () => {\n      actions.setState({\n        loading: true\n      });\n      getArticle({\n        article_id: state.article_id,\n        include: ['user', 'topics', 'is_following', 'voting']\n      }).finally(() => {\n        actions.setState({\n          loading: false\n        });\n      }).then(({\n        data\n      }) => {\n        actions.setState({\n          article: data\n        });\n        actions.setTitle(unescape(data.title));\n      }).catch(apiCatch);\n    };\n\n    if (loadFromPage()) {\n      return;\n    }\n\n    loadFromServer();\n  }\n};\nexport default extend(as, commonActions, voteActions, userPopoverActions);","export const tabs = ['following', 'recommended'];\nconst state = {\n  //  followingrecommended\n  current_tab: '',\n  // \n  tabs,\n  // \n  tabIndex: tabs.indexOf('recommended')\n};\ntabs.forEach(tabName => {\n  state[`${tabName}_data`] = [];\n  state[`${tabName}_pagination`] = null; //  null \n\n  state[`${tabName}_loading`] = false;\n});\nexport default state;","import mdui from 'mdui';\nimport extend from 'mdui.jq/es/functions/extend';\nimport { $window } from 'mdui/es/utils/dom';\nimport { getList } from 'mdclub-sdk-js/es/TopicApi';\nimport { getMyFollowingTopics } from 'mdclub-sdk-js/es/UserApi';\nimport currentUser from '~/utils/currentUser';\nimport commonActions from '~/utils/actionsAbstract';\nimport { emit } from '~/utils/pubsub';\nimport apiCatch from '~/utils/errorHandler';\nimport { tabs } from './state';\nconst TABNAME_FOLLOWING = 'following';\nconst TABNAME_RECOMMENDED = 'recommended';\nlet tab; // tab  tab\n\nlet scroll_position;\nconst is_updated = {\n  [TABNAME_FOLLOWING]: false,\n  [TABNAME_RECOMMENDED]: false\n};\nconst include = ['is_following'];\nconst per_page = 20;\n\nconst getTopics = (tabName, page) => {\n  if (tabName === TABNAME_FOLLOWING) {\n    return getMyFollowingTopics({\n      page,\n      per_page,\n      include\n    });\n  }\n\n  return getList({\n    page,\n    per_page,\n    include,\n    order: '-follower_count'\n  });\n};\n\nconst as = {\n  /**\n   * \n   */\n  onCreate: () => (state, actions) => {\n    emit('route_update');\n\n    if (currentUser()) {\n      tab = new mdui.Tab('.mc-tab');\n      actions.setState({\n        tabIndex: tab.activeIndex\n      });\n      tab.$element.on('change.mdui.tab', () => {\n        actions.setState({\n          tabIndex: tab.activeIndex\n        });\n        window.scrollTo(0, 0);\n        window.history.replaceState({}, '', `#${tabs[tab.activeIndex]}`);\n        actions.afterChangeTab();\n      });\n    }\n\n    actions.afterChangeTab(); // \n\n    if (scroll_position) {\n      window.scrollTo(0, scroll_position);\n      scroll_position = 0;\n    }\n\n    $window.on('scroll', actions.infiniteLoad);\n  },\n  onDestroy: () => (_, actions) => {\n    $window.off('scroll', actions.infiniteLoad);\n  },\n\n  /**\n   *  Tab \n   */\n  afterChangeTab: () => (state, actions) => {\n    const tabName = tabs[state.tabIndex];\n    const TAB_NAME = tabName.toUpperCase();\n\n    if (tabName === TABNAME_FOLLOWING) {\n      actions.setTitle('');\n    } else {\n      actions.setTitle('');\n    }\n\n    actions.setState({\n      current_tab: tabName\n    });\n\n    if (!is_updated[tabName] && state[`${tabName}_pagination`]) {\n      return;\n    }\n\n    is_updated[tabName] = false; // \n\n    if (window[`G_TOPICS_${TAB_NAME}`]) {\n      actions.setState({\n        [`${tabName}_data`]: window[`G_TOPICS_${TAB_NAME}`].data,\n        [`${tabName}_pagination`]: window[`G_TOPICS_${TAB_NAME}`].pagination\n      }); //  ajax \n\n      window[`G_TOPICS_${TAB_NAME}`] = null; // \n\n      setTimeout(() => {\n        actions.infiniteLoad();\n      });\n      return;\n    } // ajax \n\n\n    actions.setState({\n      [`${tabName}_data`]: [],\n      [`${tabName}_pagination`]: null\n    });\n    actions.loadStart(tabName);\n    getTopics(tabName, 1).finally(() => {\n      actions.loadEnd(tabName);\n    }).then(response => {\n      actions.setState({\n        [`${tabName}_data`]: response.data,\n        [`${tabName}_pagination`]: response.pagination\n      }); // \n\n      setTimeout(() => {\n        actions.infiniteLoad();\n      });\n    }).catch(apiCatch);\n  },\n\n  /**\n   * \n   */\n  infiniteLoad: () => (state, actions) => {\n    const tabName = tabs[state.tabIndex];\n\n    if (state[`${tabName}_loading`]) {\n      return;\n    }\n\n    const pagination = state[`${tabName}_pagination`];\n\n    if (pagination.page >= pagination.pages) {\n      return;\n    }\n\n    if (document.body.scrollHeight - window.pageYOffset - window.innerHeight > 100) {\n      return;\n    }\n\n    actions.loadStart(tabName);\n    getTopics(tabName, pagination.page + 1).finally(() => {\n      actions.loadEnd(tabName);\n    }).then(response => {\n      actions.setState({\n        [`${tabName}_data`]: state[`${tabName}_data`].concat(response.data),\n        [`${tabName}_pagination`]: response.pagination\n      });\n    }).catch(apiCatch);\n  },\n\n  /**\n   * \n   */\n  toRecommended: () => {\n    tab.show(tabs.indexOf(TABNAME_RECOMMENDED));\n  },\n\n  /**\n   * \n   */\n  toFollowing: () => {\n    tab.show(tabs.indexOf(TABNAME_FOLLOWING));\n  },\n\n  /**\n   * \n   */\n  followUpdate: () => {\n    is_updated[TABNAME_FOLLOWING] = true;\n    is_updated[TABNAME_RECOMMENDED] = true;\n  },\n\n  /**\n   * \n   * @param topic\n   */\n  afterItemClick: topic => {\n    window.G_TOPIC = topic;\n    scroll_position = window.pageYOffset;\n  },\n\n  /**\n   * \n   */\n  loadStart: tabName => ({\n    [`${tabName}_loading`]: true\n  }),\n\n  /**\n   * \n   */\n  loadEnd: tabName => ({\n    [`${tabName}_loading`]: false\n  })\n};\nexport default extend(as, commonActions);","export const tabs = ['questions', 'articles'];\nconst state = {\n  // ID\n  topic_id: 0,\n  // \n  topic: null,\n  // \n  loading: false,\n  // \n  following_topic: false,\n  // \n  tabs,\n  // \n  current_tab: '',\n  // ID\n  last_visit_article_id: 0,\n  // ID\n  last_visit_question_id: 0\n};\ntabs.forEach(tabName => {\n  state[`${tabName}_order`] = '-update_time';\n  state[`${tabName}_data`] = [];\n  state[`${tabName}_pagination`] = null;\n  state[`${tabName}_loading`] = false;\n});\nexport default state;","import mdui from 'mdui';\nimport extend from 'mdui.jq/es/functions/extend';\nimport { $window } from 'mdui/es/utils/dom';\nimport { unescape } from 'html-escaper';\nimport { get as getTopic, getArticles, getQuestions } from 'mdclub-sdk-js/es/TopicApi';\nimport commonActions from '~/utils/actionsAbstract';\nimport userPopoverActions from '~/components/user-popover/actions';\nimport { emit } from '~/utils/pubsub';\nimport apiCatch from '~/utils/errorHandler';\nimport stateDefault, { tabs } from './stateDefault';\nconst TABNAME_QUESTIONS = 'questions'; // const TABNAME_ARTICLES = 'articles';\n\nlet tab;\nlet tabIndex = tabs.indexOf(TABNAME_QUESTIONS);\nlet scroll_position;\nconst include = ['user', 'topics', 'is_following'];\nconst per_page = 20;\nconst as = {\n  /**\n   * \n   */\n  getContexts: ({\n    tabName,\n    page\n  }) => state => {\n    const params = {\n      topic_id: state.topic_id,\n      page,\n      per_page,\n      include,\n      order: state[`${tabName}_order`]\n    };\n\n    if (tabName === TABNAME_QUESTIONS) {\n      return getQuestions(params);\n    }\n\n    return getArticles(params);\n  },\n  onCreate: ({\n    topic_id\n  }) => (state, actions) => {\n    emit('route_update');\n    tab = new mdui.Tab('.mc-tab');\n    tabIndex = tab.activeIndex;\n\n    if (state.topic_id !== topic_id) {\n      actions.setState(stateDefault);\n      actions.setState({\n        topic_id\n      });\n      actions.loadTopic();\n      actions.afterChangeTab();\n    }\n\n    tab.$element.on('change.mdui.tab', () => {\n      tabIndex = tab.activeIndex;\n      window.scrollTo(0, 0);\n      window.history.replaceState({}, '', `#${tabs[tabIndex]}`);\n      actions.afterChangeTab();\n    }); // \n\n    if (scroll_position) {\n      window.scrollTo(0, scroll_position);\n      scroll_position = 0;\n    } // \n\n\n    $window.on('scroll', actions.infiniteLoad);\n  },\n  onDestroy: () => (_, actions) => {\n    $window.off('scroll', actions.infiniteLoad);\n  },\n  loadTopic: () => (state, actions) => {\n    // \n    const loadFromPage = () => {\n      const topic = window.G_TOPIC;\n\n      if (topic) {\n        actions.setState({\n          topic\n        });\n        window.G_TOPIC = null;\n        actions.setTitle(unescape(topic.name));\n      }\n\n      return topic;\n    }; // ajax \n\n\n    const loadFromServer = () => {\n      actions.setState({\n        loading: true\n      });\n      getTopic({\n        topic_id: state.topic_id,\n        include: ['is_following']\n      }).finally(() => {\n        actions.setState({\n          loading: false\n        });\n      }).then(({\n        data\n      }) => {\n        actions.setState({\n          topic: data\n        });\n        actions.setTitle(unescape(data.name));\n      }).catch(apiCatch);\n    };\n\n    if (loadFromPage()) {\n      return;\n    }\n\n    loadFromServer();\n  },\n  afterChangeTab: () => (state, actions) => {\n    const tabName = tabs[tabIndex];\n    const TAB_NAME = tabName.toUpperCase();\n    actions.setState({\n      current_tab: tabName\n    });\n\n    if (state[`${tabName}_pagination`]) {\n      return;\n    } // \n\n\n    if (window[`G_TOPIC_${TAB_NAME}`]) {\n      actions.setState({\n        [`${tabName}_data`]: window[`G_TOPIC_${TAB_NAME}`].data,\n        [`${tabName}_pagination`]: window[`G_TOPIC_${TAB_NAME}`].pagination\n      }); //  ajax \n\n      window[`G_TOPIC_${TAB_NAME}`] = null; // \n\n      setTimeout(() => {\n        actions.infiniteLoad();\n      });\n      return;\n    } // ajax \n\n\n    actions.setState({\n      [`${tabName}_data`]: [],\n      [`${tabName}_pagination`]: null,\n      [`${tabName}_loading`]: true\n    });\n    actions.getContexts({\n      tabName,\n      page: 1\n    }).finally(() => {\n      actions.setState({\n        [`${tabName}_loading`]: false\n      });\n    }).then(response => {\n      actions.setState({\n        [`${tabName}_data`]: response.data,\n        [`${tabName}_pagination`]: response.pagination\n      }); // \n\n      setTimeout(() => {\n        actions.infiniteLoad();\n      });\n    }).catch(apiCatch);\n  },\n\n  /**\n   * \n   */\n  infiniteLoad: () => (state, actions) => {\n    const tabName = tabs[tabIndex];\n\n    if (state[`${tabName}_loading`]) {\n      return;\n    }\n\n    const pagination = state[`${tabName}_pagination`];\n\n    if (pagination.page >= pagination.pages) {\n      return;\n    }\n\n    if (document.body.scrollHeight - window.pageYOffset - window.innerHeight > 100) {\n      return;\n    }\n\n    actions.setState({\n      [`${tabName}_loading`]: true\n    });\n    actions.getContexts({\n      tabName,\n      page: pagination.page + 1\n    }).finally(() => {\n      actions.setState({\n        [`${tabName}_loading`]: false\n      });\n    }).then(response => {\n      actions.setState({\n        [`${tabName}_data`]: state[`${tabName}_data`].concat(response.data),\n        [`${tabName}_pagination`]: response.pagination\n      });\n    }).catch(apiCatch);\n  },\n\n  /**\n   * ID\n   * @param context \n   */\n  afterItemClick: context => (_, actions) => {\n    const tabName = tabs[tabIndex];\n    scroll_position = window.pageYOffset;\n\n    if (tabName === TABNAME_QUESTIONS) {\n      window.G_QUESTION = context;\n      actions.setState({\n        last_visit_question_id: context.question_id\n      });\n    } else {\n      window.G_ARTICLE = context;\n      actions.setState({\n        last_visit_article_id: context.article_id\n      });\n    }\n  },\n\n  /**\n   * \n   */\n  changeOrder: order => (state, actions) => {\n    const tabName = tabs[tabIndex];\n\n    if (order === state[`${tabName}_order`]) {\n      return;\n    }\n\n    actions.setState({\n      [`${tabName}_order`]: order,\n      [`${tabName}_data`]: [],\n      [`${tabName}_pagination`]: null\n    });\n    actions.afterChangeTab();\n  }\n};\nexport default extend(as, commonActions, userPopoverActions);","export const tabs = ['followees', 'followers', 'recommended'];\nconst state = {\n  //  followeesfollowersrecommended\n  current_tab: '',\n  // \n  tabs,\n  // \n  tabIndex: tabs.indexOf('recommended')\n};\ntabs.forEach(tabName => {\n  state[`${tabName}_data`] = [];\n  state[`${tabName}_pagination`] = null; //  null \n\n  state[`${tabName}_loading`] = false;\n});\nexport default state;","import mdui from 'mdui';\nimport extend from 'mdui.jq/es/functions/extend';\nimport { $window } from 'mdui/es/utils/dom';\nimport { getList, getMyFollowees, getMyFollowers } from 'mdclub-sdk-js/es/UserApi';\nimport currentUser from '~/utils/currentUser';\nimport commonActions from '~/utils/actionsAbstract';\nimport { emit } from '~/utils/pubsub';\nimport apiCatch from '~/utils/errorHandler';\nimport { tabs } from './state';\nconst TABNAME_FOLLOWEES = 'followees';\nconst TABNAME_FOLLOWERS = 'followers';\nconst TABNAME_RECOMMENDED = 'recommended';\nlet tab; // tab  tab\n\nlet scroll_position;\nconst is_updated = {\n  [TABNAME_FOLLOWEES]: false,\n  // \n  [TABNAME_FOLLOWERS]: false,\n  // \n  [TABNAME_RECOMMENDED]: false // \n\n};\nconst include = ['is_following', 'is_me'];\nconst per_page = 20;\n\nconst getUsers = (tabName, page) => {\n  if (tabName === TABNAME_FOLLOWEES) {\n    return getMyFollowees({\n      include,\n      page,\n      per_page\n    });\n  }\n\n  if (tabName === TABNAME_FOLLOWERS) {\n    return getMyFollowers({\n      include,\n      page,\n      per_page\n    });\n  }\n\n  return getList({\n    include,\n    page,\n    per_page,\n    order: '-follower_count'\n  });\n};\n\nconst as = {\n  /**\n   * \n   */\n  onCreate: () => (_, actions) => {\n    emit('route_update');\n\n    if (currentUser()) {\n      tab = new mdui.Tab('.mc-tab');\n      actions.setState({\n        tabIndex: tab.activeIndex\n      });\n      tab.$element.on('change.mdui.tab', () => {\n        actions.setState({\n          tabIndex: tab.activeIndex\n        });\n        window.scrollTo(0, 0);\n        window.history.replaceState({}, '', `#${tabs[tab.activeIndex]}`);\n        actions.afterChangeTab();\n      });\n    }\n\n    actions.afterChangeTab(); // \n\n    if (scroll_position) {\n      window.scrollTo(0, scroll_position);\n      scroll_position = 0;\n    } // \n\n\n    $window.on('scroll', actions.infiniteLoad);\n  },\n  onDestroy: () => (_, actions) => {\n    $window.off('scroll', actions.infiniteLoad);\n  },\n\n  /**\n   *  Tab \n   */\n  afterChangeTab: () => (state, actions) => {\n    const tabName = tabs[state.tabIndex];\n    const TAB_NAME = tabName.toUpperCase();\n\n    if (tabName === TABNAME_FOLLOWEES) {\n      actions.setTitle('');\n    } else if (tabName === TABNAME_FOLLOWERS) {\n      actions.setTitle('');\n    } else {\n      actions.setTitle('');\n    }\n\n    actions.setState({\n      current_tab: tabName\n    });\n\n    if (!is_updated[tabName] && state[`${tabName}_pagination`]) {\n      return;\n    }\n\n    is_updated[tabName] = false; // \n\n    if (window[`G_USERS_${TAB_NAME}`]) {\n      actions.setState({\n        [`${tabName}_data`]: window[`G_USERS_${TAB_NAME}`].data,\n        [`${tabName}_pagination`]: window[`G_USERS_${TAB_NAME}`].pagination\n      }); //  ajax \n\n      window[`G_USERS_${TAB_NAME}`] = null; // \n\n      setTimeout(() => {\n        actions.infiniteLoad();\n      });\n      return;\n    } // ajax \n\n\n    actions.setState({\n      [`${tabName}_data`]: [],\n      [`${tabName}_pagination`]: null\n    });\n    actions.loadStart(tabName);\n    getUsers(tabName, 1).finally(() => {\n      actions.loadEnd(tabName);\n    }).then(response => {\n      actions.setState({\n        [`${tabName}_data`]: response.data,\n        [`${tabName}_pagination`]: response.pagination\n      }); // \n\n      setTimeout(() => {\n        actions.infiniteLoad();\n      });\n    }).catch(apiCatch);\n  },\n\n  /**\n   * \n   */\n  infiniteLoad: () => (state, actions) => {\n    const tabName = tabs[state.tabIndex];\n\n    if (state[`${tabName}_loading`]) {\n      return;\n    }\n\n    const pagination = state[`${tabName}_pagination`];\n\n    if (pagination.page >= pagination.pages) {\n      return;\n    }\n\n    if (document.body.scrollHeight - window.pageYOffset - window.innerHeight > 100) {\n      return;\n    }\n\n    actions.loadStart(tabName);\n    getUsers(tabName, pagination.page + 1).finally(() => {\n      actions.loadEnd(tabName);\n    }).then(response => {\n      actions.setState({\n        [`${tabName}_data`]: state[`${tabName}_data`].concat(response.data),\n        [`${tabName}_pagination`]: response.pagination\n      });\n    }).catch(apiCatch);\n  },\n\n  /**\n   * \n   */\n  toRecommended: () => {\n    tab.show(tabs.indexOf(TABNAME_RECOMMENDED));\n  },\n\n  /**\n   * \n   */\n  followUpdate: () => {\n    is_updated[TABNAME_FOLLOWEES] = true;\n    is_updated[TABNAME_RECOMMENDED] = true;\n  },\n\n  /**\n   * \n   */\n  afterItemClick: user => {\n    window.G_INTERVIEWEE = user;\n    scroll_position = window.pageYOffset;\n  },\n\n  /**\n   * \n   */\n  loadStart: tabName => ({\n    [`${tabName}_loading`]: true\n  }),\n\n  /**\n   * \n   */\n  loadEnd: tabName => ({\n    [`${tabName}_loading`]: false\n  })\n};\nexport default extend(as, commonActions);","export const tabs = ['questions', 'answers', 'articles'];\nconst state = {\n  // \n  interviewee: null,\n  // \n  loading: false,\n  // \n  following_interviewee: false,\n  // \n  edit_info_submitting: false,\n  // \n  profile_fold: true,\n  // \n  tabs,\n  // \n  current_tab: '',\n  // ID\n  last_visit_article_id: 0,\n  // ID\n  last_visit_question_id: 0,\n  // ID\n  last_visit_answer_id: 0\n};\ntabs.forEach(tabName => {\n  if (tabName === 'questions') {\n    state[`${tabName}_order`] = '-update_time';\n  } else {\n    state[`${tabName}_order`] = '-create_time';\n  }\n\n  state[`${tabName}_data`] = [];\n  state[`${tabName}_pagination`] = null;\n  state[`${tabName}_loading`] = false;\n});\nexport default state;","import $ from 'mdui.jq';\nimport mdui from 'mdui';\nimport extend from 'mdui.jq/es/functions/extend';\nimport { $window } from 'mdui/es/utils/dom';\nimport { get as getUser, deleteMyCover, deleteMyAvatar, updateMine, getArticles, getQuestions, getAnswers } from 'mdclub-sdk-js/es/UserApi';\nimport commonActions from '~/utils/actionsAbstract';\nimport userPopoverActions from '~/components/user-popover/actions';\nimport { emit } from '~/utils/pubsub';\nimport apiCatch from '~/utils/errorHandler';\nimport stateDefault, { tabs } from './stateDefault';\n/**\n * ID\n */\n\nlet interviewee_id;\n/**\n * \n */\n\nlet editInfoDialog;\nconst TABNAME_QUESTIONS = 'questions';\nconst TABNAME_ARTICLES = 'articles'; // const TABNAME_ANSWERS = 'answers';\n\nlet tab;\nlet tabIndex = tabs.indexOf(TABNAME_QUESTIONS);\nlet scroll_position;\nconst per_page = 20;\nconst as = {\n  /**\n   * \n   */\n  getContexts: ({\n    tabName,\n    page\n  }) => state => {\n    const params = {\n      user_id: interviewee_id,\n      page,\n      per_page,\n      include: ['user', 'topics', 'is_following'],\n      order: state[`${tabName}_order`]\n    };\n\n    if (tabName === TABNAME_QUESTIONS) {\n      return getQuestions(params);\n    }\n\n    if (tabName === TABNAME_ARTICLES) {\n      return getArticles(params);\n    }\n\n    params.include = ['user', 'question', 'voting'];\n    return getAnswers(params);\n  },\n  onCreate: props => (_, actions) => {\n    emit('route_update');\n    tab = new mdui.Tab('.mc-tab');\n    tabIndex = tab.activeIndex;\n\n    if (interviewee_id !== props.interviewee_id) {\n      interviewee_id = props.interviewee_id;\n      actions.setState(stateDefault);\n      actions.loadInterviewee();\n      actions.afterChangeTab();\n    }\n\n    tab.$element.on('change.mdui.tab', () => {\n      tabIndex = tab.activeIndex;\n      window.history.replaceState({}, '', `#${tabs[tabIndex]}`);\n      actions.afterChangeTab();\n    }); // \n\n    if (scroll_position) {\n      window.scrollTo(0, scroll_position);\n      scroll_position = 0;\n    } // \n\n\n    $window.on('scroll', actions.infiniteLoad);\n  },\n  onDestroy: () => (_, actions) => {\n    $window.off('scroll', actions.infiniteLoad);\n  },\n\n  /**\n   * \n   */\n  loadInterviewee: () => (state, actions) => {\n    // \n    if (state.user && interviewee_id === state.user.user_id) {\n      actions.setTitle(`${state.user.username}`);\n      actions.setState({\n        interviewee: state.user\n      });\n      window.G_INTERVIEWEE = null;\n      return;\n    } // \n\n\n    const interviewee = window.G_INTERVIEWEE;\n\n    if (interviewee) {\n      actions.setState({\n        interviewee\n      });\n      window.G_INTERVIEWEE = null;\n      actions.setTitle(`${interviewee.username}`);\n      return;\n    } // \n\n\n    actions.setState({\n      loading: true,\n      interviewee: null\n    });\n    getUser({\n      user_id: interviewee_id,\n      include: ['is_following']\n    }).finally(() => {\n      actions.setState({\n        loading: false\n      });\n    }).then(({\n      data\n    }) => {\n      actions.setState({\n        interviewee: data\n      });\n      actions.setTitle(`${data.username}`);\n    }).catch(apiCatch);\n  },\n  afterChangeTab: () => (state, actions) => {\n    const tabName = tabs[tabIndex];\n    const TAB_NAME = tabName.toUpperCase();\n    actions.setState({\n      current_tab: tabName\n    });\n\n    if (state[`${tabName}_pagination`]) {\n      return;\n    } // \n\n\n    if (window[`G_USER_${TAB_NAME}`]) {\n      actions.setState({\n        [`${tabName}_data`]: window[`G_USER_${TAB_NAME}`].data,\n        [`${tabName}_pagination`]: window[`G_USER_${TAB_NAME}`].pagination\n      }); //  ajax \n\n      window[`G_USER_${TAB_NAME}`] = null; // \n\n      setTimeout(() => {\n        actions.infiniteLoad();\n      });\n      return;\n    } // ajax \n\n\n    actions.setState({\n      [`${tabName}_data`]: [],\n      [`${tabName}_pagination`]: null,\n      [`${tabName}_loading`]: true\n    });\n    actions.getContexts({\n      tabName,\n      page: 1\n    }).finally(() => {\n      actions.setState({\n        [`${tabName}_loading`]: false\n      });\n    }).then(response => {\n      actions.setState({\n        [`${tabName}_data`]: response.data,\n        [`${tabName}_pagination`]: response.pagination\n      }); // \n\n      setTimeout(() => {\n        actions.infiniteLoad();\n      });\n    }).catch(apiCatch);\n  },\n\n  /**\n   * \n   */\n  infiniteLoad: () => (state, actions) => {\n    const tabName = tabs[tabIndex];\n\n    if (state[`${tabName}_loading`]) {\n      return;\n    }\n\n    const pagination = state[`${tabName}_pagination`];\n\n    if (pagination.page >= pagination.pages) {\n      return;\n    }\n\n    if (document.body.scrollHeight - window.pageYOffset - window.innerHeight > 100) {\n      return;\n    }\n\n    actions.setState({\n      [`${tabName}_loading`]: true\n    });\n    actions.getContexts({\n      tabName,\n      page: pagination.page + 1\n    }).finally(() => {\n      actions.setState({\n        [`${tabName}_loading`]: false\n      });\n    }).then(response => {\n      actions.setState({\n        [`${tabName}_data`]: state[`${tabName}_data`].concat(response.data),\n        [`${tabName}_pagination`]: response.pagination\n      });\n    }).catch(apiCatch);\n  },\n\n  /**\n   * ID\n   * @param context \n   */\n  afterItemClick: context => (_, actions) => {\n    const tabName = tabs[tabIndex];\n    scroll_position = window.pageYOffset;\n\n    if (tabName === TABNAME_QUESTIONS) {\n      window.G_QUESTION = context;\n      actions.setState({\n        last_visit_question_id: context.question_id\n      });\n    } else if (tabName === TABNAME_ARTICLES) {\n      window.G_ARTICLE = context;\n      actions.setState({\n        last_visit_article_id: context.article_id\n      });\n    } else {\n      window.G_ANSWER = context;\n      actions.setState({\n        last_visit_answer_id: context.answer_id\n      });\n    }\n  },\n\n  /**\n   * \n   */\n  changeOrder: order => (state, actions) => {\n    const tabName = tabs[tabIndex];\n\n    if (order === state[`${tabName}_order`]) {\n      return;\n    }\n\n    actions.setState({\n      [`${tabName}_order`]: order,\n      [`${tabName}_data`]: [],\n      [`${tabName}_pagination`]: null\n    });\n    actions.afterChangeTab();\n  },\n\n  /**\n   * \n   */\n  deleteAvatar: e => (state, actions) => {\n    e.preventDefault();\n    mdui.confirm('', '', () => {\n      deleteMyAvatar().then(({\n        data\n      }) => {\n        const {\n          user\n        } = state;\n        user.avatar = data;\n        actions.setState({\n          user\n        });\n      }).catch(apiCatch);\n    }, () => {}, {\n      confirmText: '',\n      cancelText: ''\n    });\n  },\n\n  /**\n   * \n   */\n  deleteCover: e => (state, actions) => {\n    e.preventDefault();\n    mdui.confirm('', '', () => {\n      deleteMyCover().then(({\n        data\n      }) => {\n        const {\n          user\n        } = state;\n        user.cover = data;\n        actions.setState({\n          user\n        });\n      }).catch(apiCatch);\n    }, () => {}, {\n      confirmText: '',\n      cancelText: ''\n    });\n  },\n\n  /**\n   * \n   */\n  updateUserInfo: () => (_, actions) => {\n    if (editInfoDialog) {\n      editInfoDialog.open();\n      return;\n    }\n\n    const $dialog = $('#page-user .edit-info');\n    editInfoDialog = new mdui.Dialog($dialog, {\n      closeOnConfirm: false\n    });\n    $dialog.on('open.mdui.dialog', () => {\n      $dialog.find('.mdui-textfield-input')[0].focus();\n    });\n    $dialog.on('opened.mdui.dialog', () => {\n      editInfoDialog.handleUpdate();\n    });\n    $dialog.on('confirm.mdui.dialog', () => {\n      const formData = {\n        include: ['is_following']\n      };\n      $dialog.find('form').serializeArray().forEach(item => {\n        formData[item.name] = item.value;\n      });\n      actions.setState({\n        edit_info_submitting: true\n      });\n      updateMine(formData).finally(() => {\n        actions.setState({\n          edit_info_submitting: false\n        });\n      }).then(({\n        data\n      }) => {\n        const updateData = {\n          user: data\n        };\n\n        if (data.user_id === interviewee_id) {\n          updateData.interviewee = data;\n        }\n\n        actions.setState(updateData);\n        editInfoDialog.close();\n        mdui.snackbar('');\n      }).catch(apiCatch);\n    });\n    editInfoDialog.open();\n  }\n};\nexport default extend(as, commonActions, userPopoverActions);","import { getRequest, postRequest, deleteRequest } from './util/requestAlias';\nimport { buildURL } from './util/requestHandler';\n/**\n * \n *\n * \n */\n\nexport const del = params => deleteRequest(buildURL('/notifications/{notification_id}', params));\n/**\n * \n *\n * \n */\n\nexport const deleteAll = (params = {}) => deleteRequest(buildURL('/notifications', params, ['type']));\n/**\n * \n *\n * \n */\n\nexport const deleteMultiple = params => deleteRequest(buildURL('/notifications/{notification_ids}', params));\n/**\n * \n *\n * \n */\n\nexport const getCount = (params = {}) => getRequest(buildURL('/notifications/count', params, ['type']));\n/**\n * \n *\n * \n */\n\nexport const getList = (params = {}) => getRequest(buildURL('/notifications', params, ['page', 'per_page', 'include', 'type', 'read']));\n/**\n * \n *\n * \n */\n\nexport const read = params => postRequest(buildURL('/notifications/{notification_id}/read', params, ['include']));\n/**\n * \n *\n * \n */\n\nexport const readAll = (params = {}) => postRequest(buildURL('/notifications/read', params, ['type']));\n/**\n * \n *\n * \n */\n\nexport const readMultiple = params => postRequest(buildURL('/notifications/{notification_ids}/read', params, ['include']));","import mdui from 'mdui/es/mdui';\nimport extend from 'mdui.jq/es/functions/extend';\nimport { $window } from 'mdui/es/utils/dom';\nimport { getList as getNotifications, del as deleteNotification, readAll } from 'mdclub-sdk-js/es/NotificationApi';\nimport { get as getAnswer } from 'mdclub-sdk-js/es/AnswerApi';\nimport { get as getComment } from 'mdclub-sdk-js/es/CommentApi';\nimport commonActions from '~/utils/actionsAbstract';\nimport { emit } from '~/utils/pubsub';\nimport apiCatch from '~/utils/errorHandler';\nimport currentUser from '~/utils/currentUser';\nimport { findIndex } from '~/utils/func';\nconst per_page = 20;\nconst include = [// 'receiver',\n'sender', 'article', 'question', 'answer', 'comment', 'reply']; // \n\nconst needReload = false;\n\nconst transformData = data => {\n  return data.map(item => {\n    // \n    item.is_loaded_detail = false; // \n\n    item.is_show_detail = false; // \n\n    item.content_detail = '';\n    return item;\n  });\n};\n\nconst as = {\n  onCreate: () => (state, actions) => {\n    emit('route_update');\n    actions.setTitle('');\n\n    if (!currentUser()) {\n      return;\n    } // \n\n\n    if (!state.pagination || state.count || needReload) {\n      actions.loadData();\n    } // \n\n\n    readAll().then(() => {\n      actions.updateCount(0);\n    }).catch(apiCatch);\n    $window.on('scroll', actions.infiniteLoad);\n  },\n  onDestroy: () => (_, actions) => {\n    $window.off('scroll', actions.infiniteLoad);\n  },\n\n  /**\n   * \n   */\n  updateCount: count => (_, actions) => {\n    actions.setState({\n      count\n    });\n  },\n\n  /**\n   * \n   */\n  loadData: () => (state, actions) => {\n    actions.setState({\n      data: [],\n      pagination: null,\n      loading: true\n    });\n    getNotifications({\n      page: 1,\n      per_page,\n      include\n    }).finally(() => {\n      actions.setState({\n        loading: false\n      });\n    }).then(response => {\n      actions.setState({\n        data: transformData(response.data),\n        pagination: response.pagination\n      });\n    }).catch(apiCatch);\n  },\n\n  /**\n   * \n   */\n  infiniteLoad: () => (state, actions) => {\n    if (state.loading) {\n      return;\n    }\n\n    const {\n      pagination\n    } = state;\n\n    if (pagination.page >= pagination.pages) {\n      return;\n    }\n\n    if (document.body.scrollHeight - window.pageYOffset - window.innerHeight > 100) {\n      return;\n    }\n\n    actions.setState({\n      loading: true\n    });\n    getNotifications({\n      page: pagination.page + 1,\n      per_page,\n      include\n    }).finally(() => {\n      actions.setState({\n        loading: false\n      });\n    }).then(response => {\n      actions.setState({\n        data: state.data.concat(transformData(response.data)),\n        pagination: response.pagination\n      });\n    }).catch(apiCatch);\n  },\n\n  /**\n   * \n   */\n  deleteOne: notification => (state, actions) => {\n    const onConfirm = () => {\n      const {\n        data\n      } = state;\n      const index = findIndex(data, 'notification_id', notification.notification_id);\n      data.splice(index, 1);\n      actions.setState({\n        data\n      });\n      deleteNotification({\n        notification_id: notification.notification_id\n      }).catch(apiCatch);\n    };\n\n    const onCancel = () => false;\n\n    const options = {\n      history: false,\n      confirmText: '',\n      cancelText: ''\n    };\n    mdui.confirm('', onConfirm, onCancel, options);\n  },\n\n  /**\n   * \n   */\n  toggleDetail: notification => (state, actions) => {\n    const {\n      data\n    } = state;\n    const index = findIndex(data, 'notification_id', notification.notification_id);\n    const item = data[index];\n    item.is_show_detail = !item.is_show_detail;\n\n    if (item.is_show_detail && item.is_loaded_detail) {\n      // \n      data[index] = item;\n      actions.setState({\n        data\n      });\n    } else {\n      // \n      switch (item.type) {\n        // content_deleted \n        case 'article_deleted':\n        case 'question_deleted':\n        case 'answer_deleted':\n        case 'comment_deleted':\n          item.is_loaded_detail = true;\n          item.content_detail = item.type === 'comment_deleted' ? item.content_deleted.content : item.content_deleted.content_rendered;\n          data[index] = item;\n          actions.setState({\n            data\n          });\n          break;\n        // ajax \n\n        case 'question_commented':\n        case 'article_commented':\n        case 'answer_commented':\n        case 'comment_replies':\n        case 'question_answered':\n          data[index] = item;\n          actions.setState({\n            data\n          });\n          (item.type === 'question_answered' ? getAnswer({\n            answer_id: item.answer_id\n          }) : getComment({\n            comment_id: item.comment_id\n          })).then(response => {\n            item.is_loaded_detail = true;\n            item.content_detail = item.type === 'question_answered' ? response.data.content_rendered : response.data.content;\n            data[index] = item;\n            actions.setState({\n              data\n            });\n          }).catch(apiCatch);\n          break;\n\n        default:\n          break;\n      }\n    }\n  }\n};\nexport default extend(as, commonActions);","import { postRequest } from './util/requestAlias';\nimport { buildURL } from './util/requestHandler';\n/**\n * \n *\n * \n */\n\nexport const generate = () => postRequest(buildURL('/captchas', {}));","import $ from 'mdui.jq';\nimport mdui from 'mdui';\nimport extend from 'mdui.jq/es/functions/extend';\nimport { COMMON_FIELD_VERIFY_FAILED } from 'mdclub-sdk-js/es/errors';\nimport { generate as generateCaptcha } from 'mdclub-sdk-js/es/CaptchaApi';\nimport { login } from 'mdclub-sdk-js/es/TokenApi';\nimport commonActions from '~/utils/actionsAbstract';\nimport { setCookie } from '~/utils/cookie';\nimport { emit } from '~/utils/pubsub';\nimport apiCatch from '~/utils/errorHandler';\nlet dialog;\nlet $name;\nlet $password;\nlet $captchaCode;\nconst as = {\n  /**\n   * \n   */\n  onInput: e => {\n    const input = e.target;\n    return {\n      [input.name]: input.value,\n      [`${input.name}_msg`]: ''\n    };\n  },\n\n  /**\n   * \n   */\n  onCreate: props => {\n    const $element = $(props.element).mutation();\n    dialog = new mdui.Dialog($element, {\n      modal: true,\n      history: false\n    });\n    $name = $element.find('[name=\"name\"]');\n    $password = $element.find('[name=\"password\"]');\n    $captchaCode = $element.find('[name=\"captcha_code\"]');\n    $element.on('open.mdui.dialog', () => {\n      $name[0].focus();\n    });\n  },\n\n  /**\n   * \n   */\n  open: () => {\n    dialog.open();\n  },\n\n  /**\n   * \n   */\n  close: () => {\n    if (dialog) {\n      dialog.close();\n    }\n  },\n\n  /**\n   * \n   */\n  toRegister: () => {\n    dialog.close();\n    emit('register_open');\n  },\n\n  /**\n   * \n   */\n  toReset: () => {\n    dialog.close();\n    emit('reset_open');\n  },\n\n  /**\n   * \n   */\n  refreshCaptcha: () => (_, actions) => {\n    generateCaptcha().then(({\n      data: {\n        captcha_token,\n        captcha_image\n      }\n    }) => {\n      actions.setState({\n        captcha_token,\n        captcha_image,\n        captcha_code: ''\n      });\n      setTimeout(() => {\n        $captchaCode[0].focus();\n      });\n    }).catch(apiCatch);\n  },\n\n  /**\n   * \n   */\n  login: e => (state, actions) => {\n    e.preventDefault();\n    actions.setState({\n      submitting: true\n    });\n    const loginData = {\n      name: state.name,\n      password: state.password,\n      device: navigator.userAgent\n    };\n\n    if (state.captcha_token) {\n      loginData.captcha_token = state.captcha_token;\n      loginData.captcha_code = state.captcha_code;\n    }\n\n    login(loginData).then(({\n      data\n    }) => {\n      setCookie('token', data.token);\n      window.location.reload();\n    }).catch(response => {\n      actions.setState({\n        submitting: false,\n        captcha_token: response.captcha_token || '',\n        captcha_image: response.captcha_image || '',\n        captcha_code: ''\n      }); // \n\n      if (response.code === COMMON_FIELD_VERIFY_FAILED) {\n        const name_msg = response.errors.name || '';\n        const password_msg = response.errors.password || '';\n        const captcha_code_msg = response.errors.captcha_code || '';\n        actions.setState({\n          name_msg,\n          password_msg,\n          captcha_code_msg\n        });\n\n        if (name_msg) {\n          $name[0].focus();\n        } else if (password_msg) {\n          $password[0].focus();\n        } else if (captcha_code_msg) {\n          $captchaCode[0].focus();\n        }\n\n        return;\n      } // \n\n\n      apiCatch(response);\n    });\n  }\n};\nexport default extend(as, commonActions);","// @ts-ignore\nimport sha1 from 'sha-1';\nimport { postRequest } from './util/requestAlias';\nimport { buildURL, buildRequestBody } from './util/requestHandler';\nimport defaults from './defaults';\n/**\n *  Token\n *\n *  Token    &#x60;captcha_token&#x60;  &#x60;captcha_image&#x60;  &#x60;captcha_token&#x60;  &#x60;captcha_code&#x60; \n */\n\nexport const login = params => {\n  if (params.password) {\n    params.password = sha1(params.password);\n  }\n\n  return postRequest(buildURL('/tokens', params), buildRequestBody(params, ['name', 'password', 'device', 'captcha_token', 'captcha_code'])).then(response => {\n    if (!response.code) {\n      defaults.adapter.setStorage('token', response.data.token);\n    }\n\n    return response;\n  });\n};","import $ from 'mdui.jq';\nimport mdui from 'mdui';\nimport extend from 'mdui.jq/es/functions/extend';\nimport { COMMON_FIELD_VERIFY_FAILED, COMMON_EMAIL_VERIFY_EXPIRED } from 'mdclub-sdk-js/es/errors';\nimport { generate as generateCaptcha } from 'mdclub-sdk-js/es/CaptchaApi';\nimport { register, sendRegisterEmail } from 'mdclub-sdk-js/es/UserApi';\nimport { login } from 'mdclub-sdk-js/es/TokenApi';\nimport { setCookie } from '~/utils/cookie';\nimport { emit } from '~/utils/pubsub';\nimport apiCatch from '~/utils/errorHandler';\nimport commonActions from '~/utils/actionsAbstract';\nlet dialog;\nlet $email;\nlet $emailCode;\nlet $username;\nlet $password;\nlet $captchaCode;\nconst as = {\n  /**\n   * \n   */\n  onInput: e => {\n    const input = e.target;\n    return {\n      [input.name]: input.value,\n      [`${input.name}_msg`]: ''\n    };\n  },\n\n  /**\n   * \n   */\n  onCreate: props => state => {\n    const $element = $(props.element).mutation();\n    dialog = new mdui.Dialog($element, {\n      modal: true,\n      history: false\n    });\n    $email = $element.find('[name=\"email\"]');\n    $emailCode = $element.find('[name=\"email_code\"]');\n    $username = $element.find('[name=\"username\"]');\n    $password = $element.find('[name=\"password\"]');\n    $captchaCode = $element.find('[name=\"captcha_code\"]');\n    $element.on('open.mdui.dialog', () => {\n      if (state.email_valid) {\n        $username[0].focus();\n      } else {\n        $email[0].focus();\n      }\n    });\n  },\n\n  /**\n   * \n   */\n  open: () => {\n    dialog.open();\n  },\n\n  /**\n   * \n   */\n  close: () => {\n    if (dialog) {\n      dialog.close();\n    }\n  },\n\n  /**\n   * \n   */\n  toLogin: () => {\n    dialog.close();\n    emit('login_open');\n  },\n\n  /**\n   * \n   */\n  refreshCaptcha: () => (_, actions) => {\n    generateCaptcha().then(({\n      data: {\n        captcha_token,\n        captcha_image\n      }\n    }) => {\n      actions.setState({\n        captcha_token,\n        captcha_image,\n        captcha_code: ''\n      });\n      setTimeout(() => {\n        $captchaCode[0].focus();\n      }, 0);\n    }).catch(apiCatch);\n  },\n\n  /**\n   * 60\n   */\n  countdown: () => (state, actions) => {\n    if (state.resend_countdown > 0) {\n      actions.setState({\n        resend_countdown: state.resend_countdown - 1\n      });\n      setTimeout(actions.countdown, 1000);\n    } else {\n      actions.setState({\n        show_resend_countdown: false\n      });\n    }\n  },\n\n  /**\n   * \n   */\n  sendCountdown: () => (_, actions) => {\n    actions.setState({\n      show_resend_countdown: true,\n      resend_countdown: 60\n    });\n    actions.countdown();\n  },\n\n  /**\n   * \n   */\n  sendEmail: () => (state, actions) => {\n    if (!$email[0].validity.valid) {\n      $email[0].focus();\n      return;\n    }\n\n    if (state.captcha_token && !$captchaCode[0].validity.valid) {\n      actions.setState({\n        captcha_code_msg: ''\n      });\n      $captchaCode[0].focus();\n      return;\n    }\n\n    actions.setState({\n      sending: true\n    });\n    const formData = {\n      email: state.email\n    };\n\n    if (state.captcha_token) {\n      formData.captcha_token = state.captcha_token;\n      formData.captcha_code = state.captcha_code;\n    }\n\n    sendRegisterEmail(formData).finally(() => {\n      actions.setState({\n        sending: false,\n        captcha_token: '',\n        captcha_image: '',\n        captcha_code: '',\n        email_code: '',\n        email_code_msg: ''\n      });\n    }).then(() => {\n      mdui.snackbar('');\n      actions.sendCountdown();\n    }).catch(response => {\n      actions.setState({\n        captcha_token: response.captcha_token || '',\n        captcha_image: response.captcha_image || ''\n      }); // \n\n      if (response.code === COMMON_FIELD_VERIFY_FAILED) {\n        const email_msg = response.errors.email || '';\n        const captcha_code_msg = response.errors.captcha_code || '';\n        actions.setState({\n          email_msg,\n          captcha_code_msg\n        });\n\n        if (email_msg) {\n          $email[0].focus();\n        } else if (captcha_code_msg) {\n          $captchaCode[0].focus();\n        }\n\n        return;\n      } // \n\n\n      apiCatch(response);\n    });\n  },\n\n  /**\n   * \n   */\n  prevStep: () => (_, actions) => {\n    actions.setState({\n      email_valid: false\n    });\n  },\n\n  /**\n   * \n   */\n  nextStep: e => (state, actions) => {\n    e.preventDefault();\n    actions.setState({\n      verifying: true\n    });\n    const formData = {\n      email: state.email,\n      email_code: state.email_code\n    }; //  username  password \n    //  email  email_code\n\n    register(formData).finally(() => {\n      actions.setState({\n        verifying: false\n      });\n    }).catch(response => {\n      if (response.code === COMMON_FIELD_VERIFY_FAILED) {\n        //  email  email_code \n        if (!response.errors.email && !response.errors.email_code) {\n          actions.setState({\n            email_valid: true\n          });\n          setTimeout(() => {\n            $username[0].focus();\n          }, 0);\n          return;\n        } // \n\n\n        const email_msg = response.errors.email || '';\n        const email_code_msg = response.errors.email_code || '';\n        actions.setState({\n          email_msg,\n          email_code_msg\n        });\n\n        if (email_msg) {\n          $email[0].focus();\n        } else if (email_code_msg) {\n          $emailCode[0].focus();\n        }\n\n        return;\n      } // \n\n\n      if (response.code === COMMON_EMAIL_VERIFY_EXPIRED) {\n        mdui.snackbar('', {\n          timeout: 10000\n        });\n        actions.setState({\n          email_code: '',\n          email_code_msg: ''\n        });\n        return;\n      } // \n\n\n      apiCatch(response);\n    });\n  },\n\n  /**\n   * \n   */\n  register: e => (state, actions) => {\n    e.preventDefault();\n    actions.setState({\n      submitting: true\n    });\n    const registerData = {\n      email: state.email,\n      email_code: state.email_code,\n      username: state.username,\n      password: state.password\n    };\n    const loginData = {\n      name: state.username,\n      password: state.password,\n      device: window.navigator.userAgent\n    };\n    register(registerData).then(response => {\n      emit('user_update', response.data);\n      return login(loginData);\n    }).finally(() => {\n      actions.setState({\n        submitting: false\n      });\n    }).then(({\n      data\n    }) => {\n      setCookie('token', data.token);\n      window.location.reload();\n    }).catch(response => {\n      // \n      if (response.code === COMMON_FIELD_VERIFY_FAILED) {\n        const email_msg = response.errors.email || '';\n        const email_code_msg = response.errors.email_code || '';\n        const username_msg = response.errors.username || '';\n        const password_msg = response.errors.password || ''; // \n\n        if (email_msg || email_code_msg) {\n          actions.setState({\n            email_valid: false,\n            email_msg,\n            email_code_msg\n          });\n\n          if (email_msg) {\n            $email[0].focus();\n          } else if (email_code_msg) {\n            $emailCode[0].focus();\n          }\n\n          return;\n        } // \n\n\n        actions.setState({\n          username_msg,\n          password_msg\n        });\n\n        if (username_msg) {\n          $username[0].focus();\n        } else if (password_msg) {\n          $password[0].focus();\n        }\n\n        return;\n      } // \n\n\n      if (response.code === COMMON_EMAIL_VERIFY_EXPIRED) {\n        mdui.snackbar('', {\n          timeout: 10000\n        });\n        actions.setState({\n          email_valid: false,\n          email_code: '',\n          email_code_msg: ''\n        });\n        return;\n      }\n\n      apiCatch(response);\n    });\n  }\n};\nexport default extend(as, commonActions);","import $ from 'mdui.jq';\nimport mdui from 'mdui';\nimport extend from 'mdui.jq/es/functions/extend';\nimport { COMMON_FIELD_VERIFY_FAILED, COMMON_EMAIL_VERIFY_EXPIRED } from 'mdclub-sdk-js/es/errors';\nimport { generate as generateCaptcha } from 'mdclub-sdk-js/es/CaptchaApi';\nimport { sendPasswordResetEmail, updatePassword } from 'mdclub-sdk-js/es/UserApi';\nimport commonActions from '~/utils/actionsAbstract';\nimport { emit } from '~/utils/pubsub';\nimport apiCatch from '~/utils/errorHandler';\nlet dialog;\nlet $email;\nlet $emailCode;\nlet $captchaCode;\nlet $password;\nlet $passwordRepeat;\nconst as = {\n  /**\n   * \n   */\n  onInput: e => {\n    const input = e.target;\n    return {\n      [input.name]: input.value,\n      [`${input.name}_msg`]: ''\n    };\n  },\n\n  /**\n   * \n   */\n  onCreate: props => state => {\n    const $element = $(props.element).mutation();\n    dialog = new mdui.Dialog($element, {\n      modal: true,\n      history: false\n    });\n    $email = $element.find('[name=\"email\"]');\n    $emailCode = $element.find('[name=\"email_code\"]');\n    $password = $element.find('[name=\"password\"]');\n    $passwordRepeat = $element.find('[name=\"password_repeat\"]');\n    $captchaCode = $element.find('[name=\"captcha_code\"]');\n    $element.on('open.mdui.dialog', () => {\n      if (state.email_valid) {\n        $password[0].focus();\n      } else {\n        $email[0].focus();\n      }\n    });\n  },\n\n  /**\n   * \n   */\n  open: () => {\n    dialog.open();\n  },\n\n  /**\n   * \n   */\n  close: () => {\n    if (dialog) {\n      dialog.close();\n    }\n  },\n\n  /**\n   * \n   */\n  toLogin: () => {\n    dialog.close();\n    emit('login_open');\n  },\n\n  /**\n   * \n   */\n  toRegister: () => {\n    dialog.close();\n    emit('register_open');\n  },\n\n  /**\n   * \n   */\n  refreshCaptcha: () => (_, actions) => {\n    generateCaptcha().then(({\n      data: {\n        captcha_token,\n        captcha_image\n      }\n    }) => {\n      actions.setState({\n        captcha_token,\n        captcha_image,\n        captcha_code: ''\n      });\n      setTimeout(() => {\n        $captchaCode[0].focus();\n      }, 0);\n    }).catch(apiCatch);\n  },\n\n  /**\n   * 60\n   */\n  countdown: () => (state, actions) => {\n    if (state.resend_countdown > 0) {\n      actions.setState({\n        resend_countdown: state.resend_countdown - 1\n      });\n      setTimeout(actions.countdown, 1000);\n    } else {\n      actions.setState({\n        show_resend_countdown: false\n      });\n    }\n  },\n\n  /**\n   * \n   */\n  sendCountdown: () => (_, actions) => {\n    actions.setState({\n      show_resend_countdown: true,\n      resend_countdown: 60\n    });\n    actions.countdown();\n  },\n\n  /**\n   * \n   */\n  sendEmail: () => (state, actions) => {\n    if (!$email[0].validity.valid) {\n      $email[0].focus();\n      return;\n    }\n\n    if (state.captcha_token && !$captchaCode[0].validity.valid) {\n      actions.setState({\n        captcha_code_msg: ''\n      });\n      $captchaCode[0].focus();\n      return;\n    }\n\n    actions.setState({\n      sending: true\n    });\n    const formData = {\n      email: state.email\n    };\n\n    if (state.captcha_token) {\n      formData.captcha_token = state.captcha_token;\n      formData.captcha_code = state.captcha_code;\n    }\n\n    sendPasswordResetEmail(formData).finally(() => {\n      actions.setState({\n        sending: false,\n        captcha_token: '',\n        captcha_image: '',\n        captcha_code: '',\n        email_code: '',\n        email_code_msg: ''\n      });\n    }).then(() => {\n      mdui.snackbar('');\n      actions.sendCountdown();\n    }).catch(response => {\n      actions.setState({\n        captcha_token: response.captcha_token || '',\n        captcha_image: response.captcha_image || ''\n      }); // \n\n      if (response.code === COMMON_FIELD_VERIFY_FAILED) {\n        const email_msg = response.errors.email || '';\n        const captcha_code_msg = response.errors.captcha_code || '';\n        actions.setState({\n          email_msg,\n          captcha_code_msg\n        });\n\n        if (email_msg) {\n          $email[0].focus();\n        } else if (captcha_code_msg) {\n          $captchaCode[0].focus();\n        }\n\n        return;\n      } // \n\n\n      apiCatch(response);\n    });\n  },\n\n  /**\n   * \n   */\n  prevStep: () => (_, actions) => {\n    actions.setState({\n      email_valid: false\n    });\n  },\n\n  /**\n   * \n   */\n  nextStep: e => (state, actions) => {\n    e.preventDefault();\n    actions.setState({\n      verifying: true\n    });\n    const formData = {\n      email: state.email,\n      email_code: state.email_code\n    }; //  password \n    //  email  email_code\n\n    updatePassword(formData).finally(() => {\n      actions.setState({\n        verifying: false\n      });\n    }).catch(response => {\n      if (response.code === COMMON_FIELD_VERIFY_FAILED) {\n        //  email  email_code \n        if (!response.errors.email && !response.errors.email_code) {\n          actions.setState({\n            email_valid: true\n          });\n          setTimeout(() => {\n            $password[0].focus();\n          }, 0);\n          return;\n        } // \n\n\n        const email_msg = response.errors.email || '';\n        const email_code_msg = response.errors.email_code || '';\n        actions.setState({\n          email_msg,\n          email_code_msg\n        });\n\n        if (email_msg) {\n          $email[0].focus();\n        } else if (email_code_msg) {\n          $emailCode[0].focus();\n        }\n\n        return;\n      } // \n\n\n      if (response.code === COMMON_EMAIL_VERIFY_EXPIRED) {\n        mdui.snackbar('', {\n          timeout: 10000\n        });\n        actions.setState({\n          email_code: '',\n          email_code_msg: ''\n        });\n        return;\n      } // \n\n\n      apiCatch(response);\n    });\n  },\n\n  /**\n   * \n   */\n  submit: e => (state, actions) => {\n    e.preventDefault(); // \n\n    if (state.password !== state.password_repeat) {\n      actions.setState({\n        password_repeat_msg: ''\n      });\n      $passwordRepeat[0].focus();\n      return;\n    }\n\n    actions.setState({\n      submitting: true\n    });\n    const formData = {\n      email: state.email,\n      email_code: state.email_code,\n      password: state.password\n    };\n    updatePassword(formData).finally(() => {\n      actions.setState({\n        submitting: false\n      });\n    }).then(() => {\n      mdui.snackbar('');\n      dialog.close();\n      emit('login_open');\n    }).catch(response => {\n      // \n      if (response.code === COMMON_FIELD_VERIFY_FAILED) {\n        const email_msg = response.errors.email || '';\n        const email_code_msg = response.errors.email_code || '';\n        const password_msg = response.errors.password || ''; // \n\n        if (email_msg || email_code_msg) {\n          actions.setState({\n            email_valid: false,\n            email_msg,\n            email_code_msg\n          });\n\n          if (email_msg) {\n            $email[0].focus();\n          } else if (email_code_msg) {\n            $emailCode[0].focus();\n          }\n\n          return;\n        }\n\n        actions.setState({\n          password_msg\n        });\n\n        if (password_msg) {\n          $password[0].focus();\n        }\n\n        return;\n      } // \n\n\n      if (response.code === COMMON_EMAIL_VERIFY_EXPIRED) {\n        mdui.snackbar('', {\n          timeout: 10000\n        });\n        actions.setState({\n          email_valid: false,\n          email_code: '',\n          email_code_msg: ''\n        });\n        return;\n      } // \n\n\n      apiCatch(response);\n    });\n  }\n};\nexport default extend(as, commonActions);","export default {\n  // followees, followers, topic_followers, question_followers, article_followers\n  type: '',\n  data: [],\n  pagination: null,\n  loading: false\n};","import { location } from 'hyperapp-router';\nimport $ from 'mdui.jq';\nimport mdui from 'mdui';\nimport extend from 'mdui.jq/es/functions/extend';\nimport { getFollowees, getFollowers } from 'mdclub-sdk-js/es/UserApi';\nimport { getFollowers as getArticleFollowers } from 'mdclub-sdk-js/es/ArticleApi';\nimport { getFollowers as getQuestionFollowers } from 'mdclub-sdk-js/es/QuestionApi';\nimport { getFollowers as getTopicFollowers } from 'mdclub-sdk-js/es/TopicApi';\nimport commonActions from '~/utils/actionsAbstract';\nimport stateDefault from '~/components/users-dialog/stateDefault';\nimport { fullPath } from '~/utils/path';\nimport apiCatch from '~/utils/errorHandler';\nlet dialog;\nlet $dialog;\nlet $content;\nconst service = {\n  followees: getFollowees,\n  followers: getFollowers,\n  topic_followers: getTopicFollowers,\n  question_followers: getQuestionFollowers,\n  article_followers: getArticleFollowers\n};\nconst paramField = {\n  followees: 'user_id',\n  followers: 'user_id',\n  topic_followers: 'topic_id',\n  question_followers: 'question_id',\n  article_followers: 'article_id'\n};\nconst as = {\n  onCreate: ({\n    element\n  }) => {\n    $dialog = $(element);\n    $content = $dialog.find('.mdui-dialog-content');\n  },\n\n  /**\n   * \n   * @param props\n   * {type: string, id: int}\n   *  followees, followers, topic_followers, question_followers, article_followers\n   */\n  open: ({\n    type,\n    id\n  }) => (state, actions) => {\n    if (!dialog) {\n      dialog = new mdui.Dialog('.mc-users-dialog', {\n        history: false\n      });\n      dialog.$element.on('closed.mdui.dialog', () => {\n        actions.setState(stateDefault);\n      });\n    }\n\n    actions.setState({\n      type,\n      data: [],\n      pagination: null,\n      loading: true\n    });\n    dialog.open();\n\n    const loaded = promise => {\n      promise.finally(() => {\n        actions.setState({\n          loading: false\n        });\n      }).then(({\n        data,\n        pagination\n      }) => {\n        actions.setState({\n          data: actions.getState().data.concat(data),\n          pagination\n        });\n      }).catch(apiCatch);\n    };\n\n    const infiniteLoad = () => {\n      if (actions.getState().loading) {\n        return;\n      }\n\n      const {\n        pagination\n      } = actions.getState();\n\n      if (!pagination) {\n        return;\n      }\n\n      if (pagination.page >= pagination.pages) {\n        return;\n      }\n\n      if ($content[0].scrollHeight - $content[0].scrollTop - $content[0].offsetHeight > 100) {\n        return;\n      }\n\n      actions.setState({\n        loading: true\n      });\n      loaded(service[type]({\n        [paramField[type]]: id,\n        page: pagination.page + 1,\n        include: ['is_following', 'is_me']\n      }));\n    };\n\n    loaded(service[type]({\n      [paramField[type]]: id,\n      include: ['is_following', 'is_me']\n    }));\n    $content.on('scroll', infiniteLoad);\n    $dialog.on('close.mdui.dialog', () => {\n      $content.off('scroll', infiniteLoad);\n    });\n  },\n\n  /**\n   * \n   */\n  close: () => {\n    if (dialog) {\n      dialog.close();\n    }\n  },\n\n  /**\n   *  item\n   */\n  onItemClick: user_id => {\n    location.actions.go(fullPath(`/users/${user_id}`));\n    dialog.close();\n  }\n};\nexport default extend(as, commonActions);","export default {\n  // article, question, answer\n  commentable_type: '',\n  // ID\n  commentable_id: 0,\n  // \n  order: 'create_time',\n  // \n  comments_data: [],\n  //  null \n  pagination: null,\n  // \n  loading: false,\n  // \n  submitting: false,\n  // \n  open_dialog: false\n};","import mdui from 'mdui';\nimport $ from 'mdui.jq';\nimport extend from 'mdui.jq/es/functions/extend';\nimport { $window, $document } from 'mdui/es/utils/dom';\nimport { createComment as createQuestionComment, getComments as getQuestionComments } from 'mdclub-sdk-js/es/QuestionApi';\nimport { createComment as createAnswerComment, getComments as getAnswerComments } from 'mdclub-sdk-js/es/AnswerApi';\nimport { createComment as createArticleComment, getComments as getArticleComments } from 'mdclub-sdk-js/es/ArticleApi';\nimport { COMMON_FIELD_VERIFY_FAILED } from 'mdclub-sdk-js/es/errors';\nimport { createReply, getReplies } from 'mdclub-sdk-js/es/CommentApi';\nimport { isUndefined } from 'mdui.jq/es/utils';\nimport commonActions from '~/utils/actionsAbstract';\nimport apiCatch from '~/utils/errorHandler';\nimport { findIndex } from '~/utils/func';\nimport voteActions from '~/components/vote/actions';\nimport userPopoverActions from '~/components/user-popover/actions';\nimport stateDefault from './stateDefault';\nconst per_page = 20;\nconst include = ['user', 'voting'];\nlet $commentsWrapper; // \n\nconst getComments = (commentable_type, commentable_id, order, page = 1) => {\n  const params = {\n    page,\n    per_page,\n    order,\n    include\n  };\n  let promise;\n\n  switch (commentable_type) {\n    case 'question':\n      params.question_id = commentable_id;\n      promise = getQuestionComments(params);\n      break;\n\n    case 'article':\n      params.article_id = commentable_id;\n      promise = getArticleComments(params);\n      break;\n\n    default:\n      // answer\n      params.answer_id = commentable_id;\n      promise = getAnswerComments(params);\n      break;\n  }\n\n  promise.then(response => {\n    response.data.forEach((item, index) => {\n      //  show_replies \n      response.data[index].show_replies = false; //  show_new_reply \n\n      response.data[index].show_new_reply = false; // \n\n      response.data[index].reply_submitting = false; // \n\n      response.data[index].replies_loading = false; // \n\n      response.data[index].replies_data = []; // \n\n      response.data[index].replies_pagination = null;\n    });\n    return response;\n  });\n  return promise;\n};\n/**\n * isInDialog: \n * \n *  openDialog \n */\n\n\nconst as = {\n  onCreate: ({\n    commentable_type,\n    commentable_id,\n    isInDialog\n  }) => (state, actions) => {\n    const isTargetUpdated = state.commentable_type !== commentable_type || state.commentable_id !== commentable_id;\n\n    if (isTargetUpdated && !isInDialog) {\n      actions.setState(stateDefault);\n      actions.setState({\n        commentable_type,\n        commentable_id\n      });\n      actions.loadData();\n    }\n\n    if (!isInDialog) {\n      $window.on('scroll', actions.infiniteLoadInPage);\n    }\n  },\n  onDestroy: ({\n    isInDialog\n  }) => (_, actions) => {\n    if (!isInDialog) {\n      $window.off('scroll', actions.infiniteLoadInPage);\n    }\n  },\n\n  /**\n   * \n   */\n  doCloseDialog: () => (_, actions) => {\n    $.hideOverlay();\n    setTimeout(() => {\n      $('.mc-comments-dialog').hide();\n      $.unlockScreen();\n    }, 300);\n    actions.setState({\n      open_dialog: false\n    });\n  },\n\n  /**\n   * \n   */\n  openDialog: ({\n    commentable_type,\n    commentable_id\n  }) => (state, actions) => {\n    $commentsWrapper = $('.comments-wrapper');\n    $.showOverlay();\n    $.lockScreen();\n    $('.mc-comments-dialog').show();\n    $document.on('click', '.mdui-overlay', actions.doCloseDialog);\n    $commentsWrapper.on('scroll', actions.infiniteLoadInDialog);\n    const isTargetUpdated = state.commentable_type !== commentable_type || state.commentable_id !== commentable_id;\n\n    if (isTargetUpdated) {\n      actions.setState(stateDefault);\n      actions.setState({\n        commentable_type,\n        commentable_id\n      });\n      actions.loadData();\n    }\n\n    actions.setState({\n      open_dialog: true\n    });\n  },\n\n  /**\n   * \n   */\n  closeDialog: () => (state, actions) => {\n    if (!state.open_dialog) {\n      return;\n    }\n\n    actions.doCloseDialog();\n    $document.off('click', '.mdui-overlay', actions.doCloseDialog);\n    $commentsWrapper.off('scroll', actions.infiniteLoadInDialog);\n  },\n\n  /**\n   * \n   */\n  onSubmit: () => (state, actions) => {\n    const funcMaps = {\n      question: createQuestionComment,\n      answer: createAnswerComment,\n      article: createArticleComment\n    };\n    const fieldMaps = {\n      question: 'question_id',\n      answer: 'answer_id',\n      article: 'article_id'\n    };\n    const $newComment = $('.new-comment');\n    const $textarea = $newComment.find('textarea');\n    const content = $textarea.val();\n\n    if (!content) {\n      mdui.snackbar('');\n      return;\n    }\n\n    const params = {\n      [fieldMaps[state.commentable_type]]: state.commentable_id,\n      content,\n      include: ['user', 'voting']\n    };\n    actions.setState({\n      submitting: true\n    });\n    funcMaps[state.commentable_type](params).finally(() => {\n      actions.setState({\n        submitting: false\n      });\n    }).then(({\n      data\n    }) => {\n      mdui.snackbar('');\n      $textarea.val('');\n      mdui.updateTextFields($newComment); // \n      // \n      // \n\n      const {\n        pagination\n      } = state;\n      const isLoadedAll = pagination && (pagination.page === pagination.pages || !pagination.pages);\n      pagination.total += 1;\n      actions.setState({\n        pagination\n      });\n\n      if (state.order === '-create_time') {\n        actions.setState({\n          comments_data: [data].concat(state.comments_data)\n        });\n      } else if (isLoadedAll) {\n        actions.setState({\n          comments_data: state.comments_data.concat(data)\n        });\n      }\n    }).catch(response => {\n      if (response.code === COMMON_FIELD_VERIFY_FAILED) {\n        mdui.snackbar(response.errors.content);\n        return;\n      }\n\n      apiCatch(response);\n    });\n  },\n\n  /**\n   * \n   */\n  changeOrder: order => (state, actions) => {\n    if (order === state.order) {\n      return;\n    }\n\n    actions.setState({\n      order,\n      comments_data: [],\n      pagination: null\n    });\n    actions.loadData();\n  },\n\n  /**\n   * \n   */\n  loadData: () => (state, actions) => {\n    // \n    const loadFromPage = () => {\n      const comments = window.G_COMMENTS;\n\n      if (comments) {\n        actions.setState({\n          comments_data: comments.data,\n          pagination: comments.pagination,\n          loading: false\n        });\n        window.G_COMMENTS = null;\n      }\n\n      return comments;\n    }; // ajax \n\n\n    const loadFromServer = () => {\n      actions.setState({\n        loading: true\n      });\n      getComments(state.commentable_type, state.commentable_id, state.order).finally(() => {\n        actions.setState({\n          loading: false\n        });\n      }).then(response => {\n        actions.setState({\n          comments_data: response.data,\n          pagination: response.pagination\n        });\n      }).catch(apiCatch);\n    };\n\n    if (loadFromPage()) {\n      return;\n    }\n\n    loadFromServer();\n  },\n  infiniteLoadInPage: () => (state, actions) => {\n    actions.infiniteLoad({\n      isInDialog: false\n    });\n  },\n  infiniteLoadInDialog: () => (state, actions) => {\n    actions.infiniteLoad({\n      isInDialog: true\n    });\n  },\n\n  /**\n   * \n   */\n  infiniteLoad: ({\n    isInDialog\n  }) => (state, actions) => {\n    if (state.loading) {\n      return;\n    }\n\n    const {\n      pagination\n    } = state;\n\n    if (pagination.page >= pagination.pages) {\n      return;\n    }\n\n    if (isInDialog) {\n      if ($commentsWrapper[0].scrollHeight - $commentsWrapper[0].scrollTop - $commentsWrapper[0].clientHeight > 100) {\n        return;\n      }\n    } else if (document.body.scrollHeight - window.pageYOffset - window.innerHeight > 100) {\n      return;\n    }\n\n    actions.setState({\n      loading: true\n    });\n    getComments(state.commentable_type, state.commentable_id, state.order, pagination.page + 1).finally(() => {\n      actions.setState({\n        loading: false\n      });\n    }).then(response => {\n      actions.setState({\n        comments_data: state.comments_data.concat(response.data),\n        pagination: response.pagination\n      });\n    }).catch(apiCatch);\n  },\n\n  /**\n   *  comments_data \n   * @param comment_id\n   * @param fieldName \n   * @param value  undefined value \n   */\n  toggleState: ({\n    comment_id,\n    fieldName,\n    value = undefined\n  }) => (state, actions) => {\n    const {\n      comments_data\n    } = state;\n    const index = findIndex(comments_data, 'comment_id', comment_id);\n    const comment = comments_data[index];\n    comments_data[index][fieldName] = isUndefined(value) ? !comment[fieldName] : value;\n    actions.setState({\n      comments_data\n    }); // \n\n    if (fieldName === 'show_replies' && comment[fieldName] && !comment.replies_pagination) {\n      actions.loadReplies({\n        comment\n      });\n    }\n  },\n\n  /**\n   * \n   */\n  loadReplies: ({\n    comment\n  }) => (state, actions) => {\n    const isLoaded = !comment.replies_loading && comment.replies_pagination && comment.replies_pagination.page === comment.replies_pagination.pages;\n    const isLoading = comment.replies_loading;\n\n    if (isLoading || isLoaded) {\n      return;\n    }\n\n    actions.toggleState({\n      comment_id: comment.comment_id,\n      fieldName: 'replies_loading',\n      value: true\n    });\n    getReplies({\n      comment_id: comment.comment_id,\n      page: comment.replies_pagination ? comment.replies_pagination.page + 1 : 1,\n      per_page: 10,\n      order: 'create_time',\n      include: ['user', 'voting']\n    }).finally(() => {\n      actions.toggleState({\n        comment_id: comment.comment_id,\n        fieldName: 'replies_loading',\n        value: false\n      });\n    }).then(response => {\n      actions.toggleState({\n        comment_id: comment.comment_id,\n        fieldName: 'replies_data',\n        value: comment.replies_data.concat(response.data)\n      });\n      actions.toggleState({\n        comment_id: comment.comment_id,\n        fieldName: 'replies_pagination',\n        value: response.pagination\n      });\n    }).catch(apiCatch);\n  },\n\n  /**\n   * \n   */\n  submitReply: ({\n    target,\n    comment\n  }) => (state, actions) => {\n    const $element = $(target).parent();\n    const $button = $element.find('.submit');\n\n    if ($button[0].disabled) {\n      return;\n    }\n\n    const $textarea = $element.find('textarea');\n    const value = $textarea.val();\n\n    if (!value) {\n      mdui.snackbar('');\n      return;\n    }\n\n    const params = {\n      comment_id: comment.comment_id,\n      content: value,\n      include: ['user', 'voting']\n    };\n    actions.toggleState({\n      comment_id: comment.comment_id,\n      fieldName: 'reply_submitting',\n      value: true\n    });\n    createReply(params).finally(() => {\n      actions.toggleState({\n        comment_id: comment.comment_id,\n        fieldName: 'reply_submitting',\n        value: false\n      });\n    }).then(() => {\n      mdui.snackbar(''); // +1\n\n      actions.toggleState({\n        comment_id: comment.comment_id,\n        fieldName: 'show_new_reply'\n      });\n      actions.toggleState({\n        comment_id: comment.comment_id,\n        fieldName: 'reply_count',\n        value: comment.reply_count + 1\n      }); // todo\n    }).catch(response => {\n      if (response.code === COMMON_FIELD_VERIFY_FAILED) {\n        mdui.snackbar(response.errors.content);\n        return;\n      }\n\n      apiCatch(response);\n    });\n  }\n};\nexport default extend(as, commonActions, voteActions, userPopoverActions);","export default {\n  /**\n   * question, answer, article, comment, user\n   */\n  type: '',\n\n  /**\n   * \n   */\n  item: null,\n\n  /**\n   * \n   */\n  reason: ''\n};","import $ from 'mdui.jq';\nimport mdui from 'mdui';\nimport extend from 'mdui.jq/es/functions/extend';\nimport { COMMON_FIELD_VERIFY_FAILED } from 'mdclub-sdk-js/es/errors';\nimport { create as createReport } from 'mdclub-sdk-js/es/ReportApi';\nimport commonActions from '~/utils/actionsAbstract';\nimport apiCatch from '~/utils/errorHandler';\nimport stateDefault from './stateDefault';\nlet dialog;\nconst as = {\n  onCreate: ({\n    element\n  }) => (_, actions) => {\n    const $element = $(element).mutation();\n    dialog = new mdui.Dialog($element, {\n      history: false\n    });\n    dialog.$element.on('confirm.mdui.dialog', () => {\n      const $customReason = dialog.$element.find('.custom-reason');\n      const customReason = $customReason.val();\n      const {\n        type,\n        item,\n        reason\n      } = actions.getState();\n\n      const getReportableId = () => {\n        switch (type) {\n          case 'question':\n            return item.question_id;\n\n          case 'answer':\n            return item.answer_id;\n\n          case 'article':\n            return item.article_id;\n\n          case 'comment':\n            return item.comment_id;\n\n          case 'user':\n            return item.user_id;\n\n          default:\n            return null;\n        }\n      };\n\n      createReport({\n        reportable_type: type,\n        reportable_id: getReportableId(),\n        reason: reason === '' ? customReason : reason\n      }).finally(() => {\n        actions.setState(stateDefault);\n        $customReason.val('');\n      }).then(() => {\n        mdui.snackbar('');\n      }).catch(response => {\n        if (response.code === COMMON_FIELD_VERIFY_FAILED) {\n          mdui.snackbar(Object.values(response.errors)[0]);\n          return;\n        }\n\n        apiCatch(response);\n      });\n      dialog.close();\n    });\n  },\n\n  /**\n   * \n   */\n  onChange: event => (state, actions) => {\n    const reason = event.target.value;\n    actions.setState({\n      reason\n    });\n\n    if ([reason, state.reason].indexOf('') > -1) {\n      setTimeout(() => dialog.handleUpdate());\n    }\n  },\n\n  /**\n   * \n   */\n  open: ({\n    type,\n    item\n  }) => (_, actions) => {\n    actions.setState({\n      type,\n      item\n    });\n    dialog.open();\n  },\n\n  /**\n   * \n   */\n  close: () => {\n    dialog.close();\n  }\n};\nexport default extend(as, commonActions);","import { getRequest, postRequest, deleteRequest } from './util/requestAlias';\nimport { buildURL, buildRequestBody } from './util/requestHandler';\n/**\n * \n *\n * \n */\n\nexport const del = params => deleteRequest(buildURL('/reports/{reportable_type}:{reportable_id}', params));\n/**\n * \n *\n * \n */\n\nexport const create = params => postRequest(buildURL('/reports/{reportable_type}:{reportable_id}', params, ['include']), buildRequestBody(params, ['reason']));\n/**\n * \n *\n *   \n */\n\nexport const deleteMultiple = params => deleteRequest(buildURL('/reports/{report_targets}', params));\n/**\n * \n *\n * \n */\n\nexport const getList = (params = {}) => getRequest(buildURL('/reports', params, ['page', 'per_page', 'include', 'reportable_type']));\n/**\n * \n *\n * \n */\n\nexport const getReasons = params => getRequest(buildURL('/reports/{reportable_type}:{reportable_id}', params, ['page', 'per_page', 'include']));","import $ from 'mdui.jq';\nimport mdui from 'mdui';\nimport extend from 'mdui.jq/es/functions/extend';\nimport commonActions from '~/utils/actionsAbstract';\nlet dialog;\nconst as = {\n  onCreate: ({\n    element\n  }) => {\n    const $element = $(element).mutation();\n    dialog = new mdui.Dialog($element, {\n      history: false\n    });\n  },\n\n  /**\n   * \n   */\n  open: ({\n    url,\n    title\n  }) => (_, actions) => {\n    actions.setState({\n      url,\n      title\n    });\n    dialog.open();\n  },\n\n  /**\n   * \n   */\n  close: () => {\n    dialog.close();\n  },\n\n  /**\n   * \n   */\n  shareToWeibo: () => (state, actions) => {\n    actions.close();\n    window.open(`https://service.weibo.com/share/share.php?url=${state.url}&title=${state.title}`);\n  },\n\n  /**\n   *  Facebook\n   */\n  shareToFacebook: () => (state, actions) => {\n    actions.close();\n    window.open(`https://www.facebook.com/sharer/sharer.php?u=${state.url}`);\n  },\n\n  /**\n   *  Twitter\n   */\n  shareToTwitter: () => (state, actions) => {\n    actions.close();\n    window.open(`https://twitter.com/intent/tweet?url=${state.url}`);\n  }\n};\nexport default extend(as, commonActions);","import { location } from 'hyperapp-router'; // \n\nimport index from '~/pages/index/actions';\nimport questions from '../pages/questions/actions';\nimport questionAndAnswer from '../pages/question/actions';\nimport articles from '../pages/articles/actions';\nimport article from '../pages/article/actions';\nimport topics from '../pages/topics/actions';\nimport topic from '../pages/topic/actions';\nimport users from '../pages/users/actions';\nimport user from '~/pages/user/actions';\nimport notifications from '~/pages/notifications/actions'; // import inbox from '../pages/inbox/actions';\n// \n\nimport theme from '~/components/theme/actions';\nimport login from '~/components/login/actions';\nimport register from '~/components/register/actions';\nimport reset from '~/components/reset/actions';\nimport usersDialog from '~/components/users-dialog/actions';\nimport comments from '~/components/comments/actions';\nimport reportDialog from '~/components/report-dialog/actions';\nimport shareDialog from '~/components/share-dialog/actions';\nexport default {\n  location: location.actions,\n  getState: () => state => state,\n  // \n  index,\n  questions,\n  question: questionAndAnswer,\n  answer: questionAndAnswer,\n  articles,\n  article,\n  topics,\n  topic,\n  users,\n  user,\n  notifications,\n  // inbox,\n  // \n  theme,\n  login,\n  register,\n  reset,\n  usersDialog,\n  comments,\n  reportDialog,\n  shareDialog\n};","export default {\n  /**\n   * \n   */\n  setLayout: layout => ({\n    layout\n  })\n};","import extend from 'mdui.jq/es/functions/extend';\nimport topicsState from './components/topics/state';\nconst as = {\n  topics_data: [],\n  topics_pagination: null,\n  topics_loading: false,\n  questions_recent_data: [],\n  questions_recent_pagination: null,\n  questions_recent_loading: false,\n  questions_popular_data: [],\n  questions_popular_pagination: null,\n  questions_popular_loading: false,\n  articles_recent_data: [],\n  articles_recent_pagination: null,\n  articles_recent_loading: false,\n  articles_popular_data: [],\n  articles_popular_pagination: null,\n  articles_popular_loading: false\n};\nexport default extend(as, topicsState);","export default {\n  // \n  topics_show_arrow_left: false,\n  // \n  topics_show_arrow_right: false\n};","import extend from 'mdui.jq/es/functions/extend';\nimport editorState from '~/components/editor/state';\nimport stateDefault from './stateDefault';\nconst as = {\n  // \n  route: 'question'\n};\nexport default extend(as, stateDefault, editorState);","import extend from 'mdui.jq/es/functions/extend';\nimport editorState from '~/components/editor/state';\nimport stateDefault from './stateDefault';\nconst as = {\n  // \n  route: 'answer'\n};\nexport default extend(as, stateDefault, editorState);","import extend from 'mdui.jq/es/functions/extend';\nimport stateDefault from './stateDefault';\nexport default extend({}, stateDefault);","import extend from 'mdui.jq/es/functions/extend';\nimport stateDefault from './stateDefault';\nexport default extend({}, stateDefault);","import extend from 'mdui.jq/es/functions/extend';\nimport stateDefault from './stateDefault';\nconst state = {\n  //  null \n  user: null\n};\nexport default extend(state, stateDefault);","const state = {\n  layout: 'light'\n};\nexport default state;","import extend from 'mdui.jq/es/functions/extend';\nimport stateDefault from '~/components/users-dialog/stateDefault';\nexport default extend({}, stateDefault);","import extend from 'mdui.jq/es/functions/extend';\nimport stateDefault from './stateDefault';\n/**\n *  state\n */\n\nexport default extend({}, stateDefault);","import extend from 'mdui.jq/es/functions/extend';\nimport stateDefault from './stateDefault';\nexport default extend({}, stateDefault);","import { location } from 'hyperapp-router'; // \n\nimport index from '~/pages/index/state';\nimport questions from '../pages/questions/state';\nimport question from '../pages/question/questionState';\nimport answer from '../pages/question/answerState';\nimport articles from '../pages/articles/state';\nimport article from '../pages/article/state';\nimport topics from '../pages/topics/state';\nimport topic from '../pages/topic/state';\nimport users from '../pages/users/state';\nimport user from '~/pages/user/state';\nimport notifications from '~/pages/notifications/state'; // import inbox from '../pages/inbox/state';\n// \n\nimport theme from '~/components/theme/state';\nimport login from '~/components/login/state';\nimport register from '~/components/register/state';\nimport reset from '~/components/reset/state';\nimport usersDialog from '~/components/users-dialog/state';\nimport comments from '~/components/comments/state';\nimport reportDialog from '~/components/report-dialog/state';\nimport shareDialog from '~/components/share-dialog/state';\nexport default {\n  location: location.state,\n  // \n  index,\n  questions,\n  question,\n  answer,\n  articles,\n  article,\n  topics,\n  topic,\n  users,\n  user,\n  notifications,\n  // inbox,\n  // \n  theme,\n  login,\n  register,\n  reset,\n  usersDialog,\n  comments,\n  reportDialog,\n  shareDialog\n};","export default {\n  data: [],\n  pagination: null,\n  //  null \n  loading: false,\n  count: null //  /notifications/count \n\n};","export default {\n  name: '',\n  name_msg: '',\n  password: '',\n  password_msg: '',\n  captcha_code: '',\n  captcha_code_msg: '',\n  captcha_token: '',\n  captcha_image: '',\n  submitting: false\n};","export default {\n  // \n  email: '',\n  email_msg: '',\n  // \n  email_code: '',\n  email_code_msg: '',\n  // \n  username: '',\n  username_msg: '',\n  // \n  password: '',\n  password_msg: '',\n  // \n  captcha_code: '',\n  captcha_code_msg: '',\n  // token\n  captcha_token: '',\n  captcha_image: '',\n  // \n  email_valid: false,\n  // \n  sending: false,\n  // \n  show_resend_countdown: false,\n  // \n  resend_countdown: 60,\n  // \n  verifying: false,\n  // \n  submitting: false\n};","export default {\n  // \n  email: '',\n  email_msg: '',\n  // \n  email_code: '',\n  email_code_msg: '',\n  // \n  password: '',\n  password_msg: '',\n  // \n  password_repeat: '',\n  password_repeat_msg: '',\n  // \n  captcha_code: '',\n  captcha_code_msg: '',\n  // token\n  captcha_token: '',\n  captcha_image: '',\n  // \n  email_valid: false,\n  // \n  sending: false,\n  // \n  show_resend_countdown: false,\n  // \n  resend_countdown: 60,\n  // \n  verifying: false,\n  // \n  submitting: false\n};","export default {\n  /**\n   * \n   */\n  url: '',\n\n  /**\n   * \n   */\n  title: ''\n};","var isArray = Array.isArray\n\nexport default function cc(obj) {\n  var out = \"\"\n\n  if (typeof obj === \"string\" || typeof obj === \"number\") return obj || \"\"\n\n  if (isArray(obj))\n    for (var k = 0, tmp; k < obj.length; k++) {\n      if ((tmp = cc(obj[k])) !== \"\") {\n        out += (out && \" \") + tmp\n      }\n    }\n  else\n    for (var k in obj) {\n      if (obj.hasOwnProperty(k) && obj[k]) out += (out && \" \") + k\n    }\n\n  return out\n}\n","import { h } from 'hyperapp';\nimport { Link } from 'hyperapp-router';\nimport { fullPath } from '~/utils/path';\nimport './index.less';\nexport default (({\n  title,\n  url\n}) => h(Link, {\n  class: \"header mdui-ripple\",\n  to: fullPath(url)\n}, h(\"div\", {\n  class: \"mdui-text-color-theme-secondary\"\n}, title), h(\"i\", {\n  class: \"mdui-icon material-icons mdui-text-color-theme\"\n}, \"arrow_forward\")));","const easeInOutQuad = (t, b, c, d) => {\n  t /= d / 2;\n  if (t < 1) return c / 2 * t * t + b;\n  t -= 1;\n  return -c / 2 * (t * (t - 2) - 1) + b;\n};\n\nexport function scrollToTop(duration = 300) {\n  const start = window.scrollY || window.pageYOffset;\n  const stop = document.body.getBoundingClientRect().top + start;\n  const distance = stop - start;\n  let timeStart;\n  let timeElapsed;\n  let next;\n\n  function loop(timeCurrent) {\n    if (!timeStart) {\n      timeStart = timeCurrent;\n    }\n\n    timeElapsed = timeCurrent - timeStart;\n    next = easeInOutQuad(timeElapsed, start, distance, duration);\n    window.scrollTo(0, next);\n\n    if (timeElapsed < duration) {\n      window.requestAnimationFrame(loop);\n    } else {\n      window.scrollTo(0, start + distance);\n      timeStart = false;\n    }\n  }\n\n  window.requestAnimationFrame(loop);\n}\nexport function scrollHorizontal(element, options) {\n  const duration = options.duration || 300;\n  const offset = options.offset || 0;\n  const {\n    callback\n  } = options;\n  const start = element.scrollLeft;\n  let timeStart;\n  let timeElapsed;\n  let next;\n\n  function loop(timeCurrent) {\n    if (!timeStart) {\n      timeStart = timeCurrent;\n    }\n\n    timeElapsed = timeCurrent - timeStart;\n    next = easeInOutQuad(timeElapsed, start, offset, duration);\n    element.scrollLeft = next;\n\n    if (timeElapsed < duration) {\n      window.requestAnimationFrame(loop);\n    } else {\n      // \n      element.scrollLeft = start + offset;\n\n      if (callback) {\n        callback();\n      }\n\n      timeStart = false;\n    }\n  }\n\n  window.requestAnimationFrame(loop);\n}","import { h } from 'hyperapp';\nimport $ from 'mdui.jq';\nimport cc from 'classcat';\nimport './index.less';\nexport default (({\n  show\n}) => h(\"div\", {\n  key: \"mc-loading\",\n  class: cc(['mc-loading', {\n    'mdui-hidden': !show\n  }])\n}, h(\"div\", {\n  class: \"mdui-spinner\",\n  oncreate: element => $(element).mutation()\n})));","import $ from 'mdui.jq';\nimport hljs from 'highlight.js/lib/core';\nimport 'highlight.js/styles/vs.css';\nimport './vs2015-style.css';\nimport xml from 'highlight.js/lib/languages/xml';\nimport css from 'highlight.js/lib/languages/css';\nimport javascript from 'highlight.js/lib/languages/javascript';\nimport json from 'highlight.js/lib/languages/json';\nimport php from 'highlight.js/lib/languages/php';\nhljs.registerLanguage('xml', xml);\nhljs.registerLanguage('css', css);\nhljs.registerLanguage('javascript', javascript);\nhljs.registerLanguage('json', json);\nhljs.registerLanguage('php', php);\nexport default (element => {\n  $(element).find('pre').each((_, block) => {\n    hljs.highlightBlock(block);\n  });\n});","import data from 'mdui.jq/es/functions/data';\nimport highlight from '~/vendor/highlight/index';\n/**\n * \n */\n\nexport const richText = html => element => {\n  //  html  onupdate html \n  if (data(element, 'html') === html) {\n    return;\n  }\n\n  data(element, 'html', html);\n\n  if (!html || html.replace(/ /gi, '') === '<p><br/></p>') {\n    html = '';\n  }\n\n  element.innerHTML = html;\n  highlight(element);\n};\n/**\n *  HTML \n * @param str \n * @param length \n */\n\nexport const summaryText = (str, length = 0) => element => {\n  if (data(element, 'html') === str) {\n    return;\n  }\n\n  data(element, 'html', str);\n  let text = str.replace(/<[^>]+>/g, '');\n\n  if (length) {\n    text = text.substr(0, length);\n  }\n\n  element.innerHTML = text;\n};\n/**\n *  <p>\n * @param str\n */\n\nexport const plainText = str => element => {\n  if (data(element, 'html') === str) {\n    return;\n  }\n\n  data(element, 'html', str);\n  element.innerHTML = `<p>${str.replace(/[\\r\\n]/g, '</p><p>')}</p>`;\n};","import { h } from 'hyperapp';\nimport cc from 'classcat';\nimport './index.less';\n/**\n * \n *  1000 \n * 1000 - 10000  k  1.9k\n *  10000  k  19k\n *\n * @param badge\n */\n\nconst badgeFormat = badge => {\n  if (badge < 1000) {\n    return badge;\n  }\n\n  if (badge < 10000) {\n    return `${(badge / 1000).toFixed(1)}k`;\n  }\n\n  return `${Math.floor(badge / 1000)}k`;\n};\n\nexport default (({\n  cls = '',\n  icon,\n  iconActive,\n  tooltip = '',\n  badge = 0,\n  active = false,\n  onClick\n}) => h(\"button\", {\n  class: cc(['mc-icon-button', 'mdui-btn', 'mdui-btn-icon', 'mdui-btn-outlined', {\n    active\n  }, cls]),\n  \"mdui-tooltip\": `{content: '${tooltip}', delay: 300}`,\n  onclick: onClick\n}, badge ? h(\"span\", {\n  class: \"badge\"\n}, badgeFormat(badge)) : null, h(\"i\", {\n  class: \"mdui-icon material-icons mdui-text-color-theme-icon\"\n}, active && iconActive ? iconActive : icon)));","import { h } from 'hyperapp';\nimport './index.less';\nimport IconButton from '~/components/icon-button/view.jsx';\n/**\n * @param item \n * @param type question, topic, topics, user, users, article, relationships-user\n * @param primaryKey  relationships-user IDIDID\n * @param id  type  topicsusersrelationships-user\n * @param dataName  type  relationships-user \n * @param actions\n */\n\nexport default (({\n  item,\n  type,\n  primaryKey = null,\n  id = null,\n  dataName = null,\n  actions\n}) => {\n  const {\n    is_following\n  } = item.relationships;\n  return h(IconButton, {\n    cls: \"mc-follow\",\n    icon: \"star_border\",\n    iconActive: \"star\",\n    tooltip: is_following ? '' : '',\n    active: is_following,\n    onClick: () => actions.toggleFollow({\n      type,\n      dataName,\n      primaryKey,\n      id\n    })\n  });\n});","import { h } from 'hyperapp';\nimport { Link } from 'hyperapp-router';\nimport { fullPath } from '~/utils/path';\nimport { emit } from '~/utils/pubsub';\nimport { summaryText } from '~/utils/html';\nimport './index.less';\nimport Follow from '~/components/follow/view.jsx';\nexport default (({\n  topic,\n  actions,\n  type = 'topics'\n}) => h(\"div\", {\n  class: \"mc-topic-item item-inner\",\n  key: topic.topic_id\n}, h(\"div\", {\n  class: \"item mdui-card\",\n  style: {\n    backgroundImage: `url(\"${topic.cover.small}\")`\n  }\n}, h(Link, {\n  to: fullPath(`/topics/${topic.topic_id}`),\n  class: \"mdui-ripple info\",\n  onclick: () => actions.afterItemClick(topic)\n}, h(\"div\", {\n  class: \"name mdui-text-color-theme-text\",\n  oncreate: summaryText(topic.name),\n  onupdate: summaryText(topic.name)\n})), h(\"div\", {\n  class: \"actions\"\n}, h(Follow, {\n  item: topic,\n  type: type,\n  id: topic.topic_id,\n  actions: actions\n}), h(\"button\", {\n  class: \"followers mdui-btn mdui-ripple mdui-text-color-theme-secondary\",\n  onclick: () => {\n    emit('users_dialog_open', {\n      type: 'topic_followers',\n      id: topic.topic_id\n    });\n  }\n}, topic.follower_count, \" \\u4EBA\\u5173\\u6CE8\")))));","import { h } from 'hyperapp';\nimport cc from 'classcat';\nimport $ from 'mdui.jq';\nimport { scrollHorizontal } from '~/utils/scroll';\nimport './index.less';\nimport Loading from '~/components/loading/view.jsx';\nimport TopicItem from '~/components/topic-item/view.jsx';\n\nconst jumpEnd = (element, actions) => {\n  actions.setState({\n    topics_show_arrow_left: element.scrollLeft > 0,\n    topics_show_arrow_right: element.scrollLeft + element.offsetWidth < element.scrollWidth\n  });\n};\n\nconst jumpTo = (event, position, actions) => {\n  const element = $(event.target).parents('.topics-wrapper').find('.topics')[0];\n  const isLeft = position === 'left';\n  const offset = element.offsetWidth * (isLeft ? -1 : 1);\n  scrollHorizontal(element, {\n    offset,\n    callback: () => {\n      jumpEnd(element, actions);\n    }\n  });\n};\n\nconst Arrow = ({\n  icon,\n  cls,\n  show,\n  onClick\n}) => h(\"button\", {\n  class: cc(['mdui-btn', 'mdui-btn-raised', 'mdui-btn-icon', 'mdui-ripple', cls, {\n    'mdui-hidden': !show\n  }]),\n  onclick: onClick\n}, h(\"i\", {\n  class: \"mdui-icon material-icons mdui-text-color-theme-icon\"\n}, icon));\n\nexport default (({\n  state,\n  actions\n}) => h(\"div\", {\n  class: \"topics-wrapper\"\n}, h(\"div\", {\n  class: \"topics\",\n  onupdate: element => jumpEnd(element, actions)\n}, state.topics_data.map(topic => h(TopicItem, {\n  topic: topic,\n  actions: actions,\n  type: \"index_topics\"\n}))), h(Arrow, {\n  icon: \"keyboard_arrow_left\",\n  cls: \"arrow-left\",\n  show: state.topics_show_arrow_left,\n  onClick: event => jumpTo(event, 'left', actions)\n}), h(Arrow, {\n  icon: \"keyboard_arrow_right\",\n  cls: \"arrow-right\",\n  show: state.topics_show_arrow_right,\n  onClick: event => jumpTo(event, 'right', actions)\n}), h(Loading, {\n  show: state.topics_loading\n})));","import { h } from 'hyperapp';\nimport cc from 'classcat';\nimport $ from 'mdui.jq';\nimport mdui from 'mdui';\nimport { emit } from '~/utils/pubsub';\nimport { fullPath } from '~/utils/path';\nimport currentUser from '~/utils/currentUser';\nimport './index.less';\n\nconst copy = url => {\n  let textArea; // ios\n\n  function isOS() {\n    return window.navigator.userAgent.match(/ipad|iphone/i);\n  } // \n\n\n  function createTextArea(text) {\n    textArea = document.createElement('textArea');\n    textArea.value = text;\n    document.body.appendChild(textArea);\n  } // \n\n\n  function selectText() {\n    if (isOS()) {\n      const range = document.createRange();\n      range.selectNodeContents(textArea);\n      const selection = window.getSelection();\n      selection.removeAllRanges();\n      selection.addRange(range);\n      textArea.setSelectionRange(0, 999999);\n    } else {\n      textArea.select();\n    }\n  } // \n\n\n  function copyToClipboard() {\n    try {\n      if (document.execCommand('Copy')) {\n        mdui.snackbar('');\n      } else {\n        mdui.snackbar('');\n      }\n    } catch (err) {\n      mdui.snackbar('');\n    }\n\n    document.body.removeChild(textArea);\n  }\n\n  createTextArea(url);\n  selectText();\n  copyToClipboard();\n};\n/**\n * @param type question, answer, article, comment, user, topic\n * @param item\n * @param extraOptions [{ name, onClick }] \n */\n\n\nexport default (({\n  type,\n  item,\n  extraOptions = null\n}) => {\n  let url;\n  let title; // eslint-disable-next-line default-case\n\n  switch (type) {\n    case 'question':\n      url = `/questions/${item.question_id}`;\n      title = item.title;\n      break;\n\n    case 'answer':\n      url = `/questions/${item.question_id}/answers/${item.answer_id}`;\n      title = item.title;\n      break;\n\n    case 'article':\n      url = `/articles/${item.article_id}`;\n      title = item.title;\n      break;\n\n    case 'comment':\n      title = item.content;\n      break;\n\n    case 'user':\n      url = `/users/${item.user_id}`;\n      title = item.username;\n      break;\n\n    case 'topic':\n      url = `/topics/${item.topic_id}`;\n      title = item.name;\n      break;\n  }\n\n  url = `${window.location.protocol}//${window.location.host}${fullPath(url)}`;\n\n  const Item = ({\n    name,\n    onClick\n  }) => h(\"li\", {\n    class: \"mdui-menu-item\"\n  }, h(\"a\", {\n    class: \"mdui-ripple\",\n    onclick: onClick\n  }, name));\n\n  return h(\"div\", {\n    class: \"mc-options-button\",\n    oncreate: element => {\n      const $element = $(element); // eslint-disable-next-line no-new\n\n      new mdui.Menu($element.children('button'), $element.children('.mdui-menu'), {\n        position: 'top',\n        align: 'right'\n      });\n    }\n  }, h(\"button\", {\n    class: cc(['mdui-btn', 'mdui-btn-icon', 'mdui-text-color-theme-icon', 'mdui-ripple'])\n  }, h(\"i\", {\n    class: \"mdui-icon material-icons\"\n  }, \"more_vert\")), h(\"ul\", {\n    class: \"mdui-menu\"\n  }, type !== 'comment' ? [h(Item, {\n    name: \"\\u590D\\u5236\\u94FE\\u63A5\",\n    onClick: () => copy(url),\n    key: \"0\"\n  }), h(Item, {\n    name: \"\\u5206\\u4EAB\",\n    onClick: () => emit('share_dialog_open', {\n      url,\n      title\n    }),\n    key: \"1\"\n  })] : null, type !== 'topic' && (type !== 'user' || !currentUser() || currentUser().user_id !== item.user_id) ? h(Item, {\n    name: \"\\u4E3E\\u62A5\",\n    onClick: () => emit('report_dialog_open', {\n      type,\n      item\n    })\n  }) : null, extraOptions ? extraOptions.map(option => h(Item, {\n    name: option.name,\n    onClick: option.onClick\n  })) : null));\n});","import { h } from 'hyperapp';\nimport { Link } from 'hyperapp-router';\nimport $ from 'mdui.jq';\nimport { unescape } from 'html-escaper';\nimport { fullPath } from '~/utils/path';\nimport { emit } from '~/utils/pubsub';\nimport currentUser from '~/utils/currentUser';\nimport './index.less';\nimport Follow from '~/components/follow/view.jsx';\nimport OptionsButton from '~/components/options-button/view.jsx';\n\nconst StatItem = ({\n  url,\n  label,\n  count\n}) => h(Link, {\n  to: url,\n  class: \"mdui-btn mdui-ripple\"\n}, h(\"label\", {\n  class: \"mdui-text-color-theme-secondary\"\n}, label), h(\"span\", {\n  class: \"mdui-text-color-theme-text\"\n}, count));\n\nexport default (({\n  actions,\n  user,\n  dataName,\n  primaryKey = null,\n  primaryValue = null\n}, children) => h(\"div\", {\n  class: \"mc-user-popover\",\n  key: \"mc-user-popover\",\n  onclick: event => event.preventDefault(),\n  oncreate: element => {\n    actions.onUserPopoverCreate({\n      element,\n      dataName,\n      primaryKey,\n      primaryValue\n    });\n  }\n}, children, h(\"div\", {\n  class: \"popover mdui-menu\",\n  key: \"popover\"\n}, user.cover ? [h(\"div\", {\n  class: \"mc-user-line\",\n  key: \"0\"\n}, h(Link, {\n  key: \"avatar\",\n  class: \"avatar user-popover-trigger\",\n  to: fullPath(`/users/${user.user_id}`),\n  style: {\n    backgroundImage: `url(\"${user.avatar.middle}\")`\n  }\n}), h(Link, {\n  key: \"username\",\n  class: \"username user-popover-trigger mdui-text-color-theme-text\",\n  to: fullPath(`/users/${user.user_id}`)\n}, user.username), h(\"div\", {\n  key: \"headline\",\n  class: \"headline mdui-text-color-theme-secondary\"\n}, unescape(user.headline))), h(\"div\", {\n  class: \"stats\",\n  key: \"1\"\n}, h(StatItem, {\n  url: fullPath(`/users/${user.user_id}#answers`),\n  label: \"\\u56DE\\u7B54\",\n  count: user.answer_count\n}), h(StatItem, {\n  url: fullPath(`/users/${user.user_id}#articles`),\n  label: \"\\u6587\\u7AE0\",\n  count: user.article_count\n}), h(\"button\", {\n  class: \"mdui-btn mdui-ripple\",\n  onclick: () => {\n    emit('users_dialog_open', {\n      type: 'followers',\n      id: user.user_id\n    });\n  }\n}, h(\"label\", {\n  class: \"mdui-text-color-theme-secondary\"\n}, \"\\u5173\\u6CE8\\u8005\"), h(\"span\", {\n  class: \"mdui-text-color-theme-text\"\n}, user.follower_count))), h(\"div\", {\n  class: \"bottom\",\n  key: \"2\"\n}, !currentUser() || currentUser().user_id !== user.user_id ? h(Follow, {\n  item: user,\n  type: \"relationships-user\",\n  dataName: dataName,\n  primaryKey: primaryKey,\n  id: primaryValue,\n  actions: actions\n}) : null, h(\"div\", {\n  class: \"flex-grow\"\n}), h(OptionsButton, {\n  type: \"user\",\n  item: user\n}))] : null, !user.cover ? h(\"div\", {\n  key: \"mc-user-popover-spinner\",\n  class: \"mdui-spinner\",\n  oncreate: element => $(element).mutation()\n}) : null)));","import { h } from 'hyperapp';\nimport { Link } from 'hyperapp-router';\nimport { fullPath } from '~/utils/path';\nimport './index.less';\nimport Loading from '~/components/loading/view.jsx';\nimport UserPopover from '~/components/user-popover/view.jsx';\nimport Header from '../header/view.jsx';\nimport { summaryText } from '~/utils/html';\nexport default (({\n  title,\n  items,\n  primaryKey,\n  dataName,\n  loading,\n  url,\n  actions\n}) => h(\"div\", {\n  class: \"items-container\"\n}, h(\"div\", {\n  class: \"items mdui-card\"\n}, h(Header, {\n  title: title,\n  url: url\n}), h(\"div\", {\n  class: \"content\"\n}, h(Loading, {\n  show: loading\n}), items.map(item => h(Link, {\n  class: \"item\",\n  to: fullPath(`${url.split('#')[0]}/${item[primaryKey]}`),\n  onclick: () => actions.afterItemClick(item)\n}, h(UserPopover, {\n  actions: actions,\n  user: item.relationships.user,\n  dataName: dataName,\n  primaryKey: primaryKey,\n  primaryValue: item[primaryKey]\n}, h(\"div\", {\n  class: \"avatar user-popover-trigger\",\n  style: {\n    backgroundImage: `url(\"${item.relationships.user.avatar.middle}\")`\n  }\n})), h(\"div\", {\n  class: \"title mdui-text-color-theme-text\",\n  oncreate: summaryText(item.title),\n  onupdate: summaryText(item.title)\n})))))));","import { h } from 'hyperapp';\nimport './index.less';\nimport Header from './components/header/view.jsx';\nimport Topics from './components/topics/view.jsx';\nimport Items from './components/items/view.jsx';\nexport default ((state, actions) => ({\n  match\n}) => h(\"div\", {\n  oncreate: actions.onCreate,\n  ondestroy: actions.onDestroy,\n  key: match.url,\n  id: \"page-index\",\n  class: \"mdui-container\"\n}, h(Header, {\n  title: \"\\u63A8\\u8350\\u8BDD\\u9898\",\n  url: \"/topics#recommended\"\n}), h(Topics, {\n  state: state,\n  actions: actions\n}), h(\"div\", {\n  class: \"items-wrapper\"\n}, h(Items, {\n  title: \"\\u6700\\u8FD1\\u66F4\\u65B0\\u63D0\\u95EE\",\n  items: state.questions_recent_data,\n  primaryKey: \"question_id\",\n  dataName: \"questions_recent_data\",\n  loading: state.questions_recent_loading,\n  url: \"/questions\",\n  actions: actions\n}), h(Items, {\n  title: \"\\u6700\\u8FD1\\u70ED\\u95E8\\u63D0\\u95EE\",\n  items: state.questions_popular_data,\n  primaryKey: \"question_id\",\n  dataName: \"questions_popular_data\",\n  loading: state.questions_popular_loading,\n  url: \"/questions#popular\",\n  actions: actions\n})), h(\"div\", {\n  class: \"items-wrapper\"\n}, h(Items, {\n  title: \"\\u6700\\u65B0\\u6587\\u7AE0\",\n  items: state.articles_recent_data,\n  primaryKey: \"article_id\",\n  dataName: \"articles_recent_data\",\n  loading: state.articles_recent_loading,\n  url: \"/articles\",\n  actions: actions\n}), h(Items, {\n  title: \"\\u6700\\u8FD1\\u70ED\\u95E8\\u6587\\u7AE0\",\n  items: state.articles_popular_data,\n  primaryKey: \"article_id\",\n  dataName: \"articles_popular_data\",\n  loading: state.articles_popular_loading,\n  url: \"/articles#popular\",\n  actions: actions\n}))));","import { h } from 'hyperapp';\nimport cc from 'classcat';\nimport './index.less';\nexport default (({\n  show\n}) => h(\"div\", {\n  class: cc(['mc-loaded', {\n    'mdui-hidden': !show\n  }]),\n  key: \"mc-loaded\"\n}, \"\\u5DF2\\u52A0\\u8F7D\\u5B8C\\u6240\\u6709\\u6570\\u636E\"));","import { h } from 'hyperapp';\nimport cc from 'classcat';\nimport './index.less';\nimport emptyImage from '~/static/image/following_empty.png';\nexport default (({\n  show = false,\n  title,\n  description = '',\n  action = false,\n  action_text = ''\n}) => h(\"div\", {\n  class: cc(['mc-empty', {\n    'mdui-hidden': !show\n  }]),\n  style: {\n    backgroundImage: `url(${window.G_OPTIONS.site_static_url ? window.G_OPTIONS.site_static_url : `${window.G_ROOT}/static`}/theme/material/${emptyImage})`\n  },\n  key: \"mc-empty\"\n}, h(\"div\", {\n  class: \"title\"\n}, title), description ? h(\"div\", {\n  class: \"description\"\n}, description) : null, action ? h(\"button\", {\n  class: \"mdui-btn mdui-btn-raised mdui-ripple mdui-color-theme\",\n  onclick: () => {\n    action();\n  }\n}, action_text) : null));","import $ from '../$';\nimport './eq';\n\n$.fn.last = function () {\n  return this.eq(-1);\n};","class CommonAbstract {\n  /**\n   * @param editor \n   */\n  constructor(editor) {\n    this.editor = editor;\n  }\n  /**\n   *  JQ \n   */\n\n\n  get $toolbar() {\n    return this.editor.$toolbar;\n  }\n  /**\n   *  JQ \n   */\n\n\n  get $container() {\n    return this.editor.$container;\n  }\n  /**\n   * \n   */\n\n\n  get selection() {\n    return this.editor.selection;\n  }\n  /**\n   * \n   */\n\n\n  get command() {\n    return this.editor.command;\n  }\n\n}\n\nexport default CommonAbstract;","import $ from 'mdui.jq/es/$';\nimport 'mdui.jq/es/methods/appendTo';\nimport 'mdui.jq/es/methods/insertAfter';\nimport 'mdui.jq/es/methods/remove';\nimport CommonAbstract from '../abstracts/commonAbstract';\n/**\n *  document.execCommand \n */\n\nclass Command extends CommonAbstract {\n  /**\n   * \n   * @param name\n   * @param value\n   */\n  do(name, value) {\n    // \n    if (!this.selection.getRange()) {\n      return;\n    } // \n\n\n    this.selection.restore();\n    const customName = name; // \n    // @ts-ignore\n\n    if (this[customName]) {\n      // @ts-ignore\n      this[customName](value);\n    } else {\n      document.execCommand(name, false, value);\n    } // \n\n\n    this.editor.menus.changeStatus(); // \n\n    this.selection.saveRange();\n    this.selection.restore(); //  onchange\n\n    if (this.editor.change) {\n      this.editor.change();\n    }\n  }\n  /**\n   *  insertHTML  HTML\n   * @param html\n   */\n  // @ts-ignore\n\n\n  insertHTML(html) {\n    // W3C\n    if (document.queryCommandSupported('insertHTML')) {\n      document.execCommand('insertHTML', false, html);\n      return;\n    }\n\n    const range = this.selection.getRange();\n\n    if (range.insertNode) {\n      // IE\n      range.deleteContents();\n      range.insertNode($(html)[0]); // @ts-ignore\n    } else if (range.pasteHTML) {\n      // IE <= 10\n      // @ts-ignore\n      range.pasteHTML(html);\n    }\n  }\n  /**\n   *  HTML  root \n   * @param html\n   */\n  // @ts-ignore\n\n\n  replaceRoot(html) {\n    const $oldElem = this.selection.getRootElem();\n    const $newElem = $(html).insertAfter($oldElem);\n    $oldElem.remove();\n    this.selection.createRangeByElem($newElem, false, true);\n    this.selection.restore();\n  }\n  /**\n   *  root  html\n   * @param html\n   */\n  // @ts-ignore\n\n\n  insertAfterRoot(html) {\n    const $oldElem = this.selection.getRootElem();\n    const $newElem = $(html).insertAfter($oldElem);\n    this.selection.createRangeByElem($newElem, false, true);\n    this.selection.restore();\n  }\n  /**\n   *  $content  html\n   * @param html\n   */\n  // @ts-ignore\n\n\n  appendHTML(html) {\n    const $newElem = $(html).appendTo(this.$container);\n    this.selection.createRangeByElem($newElem, false, true);\n    this.selection.restore();\n  }\n  /**\n   *  elem\n   * @param $elem\n   */\n  // @ts-ignore\n\n\n  insertElem($elem) {\n    const range = this.selection.getRange();\n\n    if (range.insertNode) {\n      range.deleteContents();\n      range.insertNode($elem[0]);\n    }\n  }\n\n}\n\nexport default Command;","import CommonAbstract from './commonAbstract';\n\nclass MenuAbstract extends CommonAbstract {\n  /**\n   * @param editor \n   * @param $button  JQ \n   */\n  constructor(editor, $button) {\n    super(editor);\n    this.$button = $button;\n  }\n  /**\n   * \n   */\n\n\n  isActive() {\n    return false;\n  }\n\n}\n/**\n * \n */\n\n\nMenuAbstract.icon = '';\n/**\n * \n */\n\nMenuAbstract.title = '';\n/**\n * \n */\n\nMenuAbstract.disable = [];\nexport default MenuAbstract;","import MenuAbstract from './menuAbstract';\n/**\n * \n */\n\nclass MenuNativeAbstract extends MenuAbstract {\n  onclick() {\n    const isSelectionEmpty = this.selection.isEmpty();\n\n    if (isSelectionEmpty) {\n      // \n      this.selection.createEmptyRange(this.getElementName());\n    } //  bold \n\n\n    this.command.do(this.getCommandName());\n\n    if (isSelectionEmpty) {\n      // \n      this.selection.collapseRange();\n      this.selection.restore();\n    }\n  }\n\n  isActive() {\n    return document.queryCommandState(this.getCommandName());\n  }\n\n}\n\nexport default MenuNativeAbstract;","import MenuNativeAbstract from '../abstracts/menuNativeAbstract';\n/**\n * \n */\n\nclass Bold extends MenuNativeAbstract {\n  getCommandName() {\n    return 'bold';\n  }\n\n  getElementName() {\n    return 'strong';\n  }\n\n}\n\nBold.icon = 'format_bold';\nBold.title = '';\nBold.disable = ['image'];\nexport default Bold;","import { returnFalse } from 'mdui.jq/es/utils';\nimport 'mdui/es/components/dialog/confirm';\nimport mdui from 'mdui/es/mdui';\nimport MenuAbstract from '../abstracts/menuAbstract';\n/**\n * \n */\n\nclass ClearDrafts extends MenuAbstract {\n  onclick() {\n    mdui.confirm('', () => {\n      const options = this.editor.options;\n      this.editor.setHTML('');\n\n      if (options.autoSave) {\n        window.localStorage.removeItem(options.autoSaveKey);\n        options.onClearDrafts();\n      }\n    }, returnFalse, {\n      confirmText: '',\n      cancelText: ''\n    });\n  }\n\n}\n\nClearDrafts.icon = 'delete';\nClearDrafts.title = '';\nexport default ClearDrafts;","/**\n *  html \n * @param html\n */\nexport function replaceHtmlSymbol(html = '') {\n  return html.replace(/</gm, '&lt;').replace(/>/gm, '&gt;').replace(/\"/gm, '&quot;');\n}","import $ from '../$';\nimport merge from '../functions/merge';\nimport unique from '../functions/unique';\nimport { JQ } from '../JQ';\nimport './get';\n\n$.fn.add = function (selector) {\n  return new JQ(unique(merge(this.get(), $(selector).get())));\n};","import $ from 'mdui.jq/es/$';\nimport 'mdui.jq/es/methods/add';\nimport 'mdui.jq/es/methods/children';\nimport 'mdui.jq/es/methods/each';\nimport 'mdui.jq/es/methods/is';\nimport 'mdui.jq/es/methods/last';\nimport 'mdui.jq/es/methods/on';\nimport 'mdui.jq/es/methods/remove';\nimport 'mdui.jq/es/methods/text';\nimport MenuAbstract from '../abstracts/menuAbstract';\nimport { replaceHtmlSymbol } from '../utils/str';\n/**\n * \n */\n\nclass Code extends MenuAbstract {\n  constructor(editor, $button) {\n    super(editor, $button);\n    this.active = false;\n    this.init();\n  }\n\n  init() {\n    this.$container.on('keydown', event => {\n      if (event.keyCode === 13) {\n        //  \\n\n        if (this.active) {\n          event.preventDefault();\n          const startOffset = this.selection.getRange().startOffset;\n          this.command.do('insertHTML', '\\n');\n          this.selection.saveRange();\n\n          if (this.selection.getRange().startOffset === startOffset) {\n            // \n            this.command.do('insertHTML', '\\n');\n          } // \n\n\n          this.selection.getContainerElem()[0].scrollLeft = 0;\n        }\n      }\n\n      if (event.keyCode === 9) {\n        //  tab \n        if (this.active) {\n          event.preventDefault();\n          this.command.do('insertHTML', '    ');\n        }\n      }\n    });\n  }\n\n  onclick() {\n    const $rootElem = this.selection.getRootElem();\n\n    if (this.active) {\n      //  p \n      const textArray = $rootElem.text().split('\\n');\n      let html = '';\n      textArray.forEach(line => {\n        line = replaceHtmlSymbol(line);\n        html = line ? `<p>${line}</p>${html}` : `<p><br></p>${html}`;\n      });\n      this.command.do('replaceRoot', html);\n      return;\n    }\n\n    if (!$rootElem.length) {\n      const range = this.selection.getRange();\n\n      if (range.collapsed) {\n        // \n        this.command.do('appendHTML', '<pre><code><br></code></pre>');\n      } else {\n        //  pre \n        let text = '';\n        let isInRange = false;\n        let $linesRemove = $();\n        this.$container.children().each((_, line) => {\n          const $line = $(line);\n\n          if (!isInRange) {\n            if ($line.is(range.startContainer) || $line[0].contains(range.startContainer) || this.$container.is(range.startContainer)) {\n              isInRange = true;\n            }\n          }\n\n          if (isInRange) {\n            text += `${replaceHtmlSymbol($line.text())}\\n`;\n            $linesRemove = $linesRemove.add($line);\n\n            if ($line.is(range.endContainer) || $line[0].contains(range.endContainer)) {\n              return false;\n            }\n          }\n\n          return true;\n        });\n        $linesRemove.each((i, line) => {\n          const $line = $(line);\n\n          if (i < $linesRemove.length - 1) {\n            $line.remove();\n          }\n        });\n        this.selection.createRangeByElem($linesRemove.last(), false, true);\n        this.command.do('replaceRoot', `<pre><code>${text}</code></pre>`);\n      }\n\n      return;\n    } //  pre\n\n\n    const text = replaceHtmlSymbol($rootElem.text());\n    this.command.do('replaceRoot', text ? `<pre><code>${text}</code></pre>` : '<pre><code><br></code></pre>');\n  }\n\n  isActive() {\n    this.active = this.selection.getRootElem().is('pre');\n    return this.active;\n  }\n\n}\n\nCode.icon = 'code';\nCode.title = '';\nCode.disable = ['bold', 'italic', 'head', 'ol', 'ul', 'link', 'image'];\nexport default Code;","import 'mdui.jq/es/methods/is';\nimport 'mdui.jq/es/methods/text';\nimport MenuAbstract from '../abstracts/menuAbstract';\nimport { replaceHtmlSymbol } from '../utils/str';\n/**\n * \n */\n\nclass Head extends MenuAbstract {\n  constructor() {\n    super(...arguments);\n    this.active = false;\n  }\n\n  onclick() {\n    const $rootElem = this.selection.getRootElem();\n\n    if (this.active) {\n      //  h2 p\n      const text = $rootElem.text();\n      this.command.do('replaceRoot', text ? `<p>${text}</p>` : '<p><br></p>');\n      return;\n    }\n\n    if (!$rootElem.length) {\n      const range = this.selection.getRange();\n\n      if (range.collapsed) {\n        // \n        this.command.do('appendHTML', '<h2><br></h2>');\n      } else {// \n      }\n\n      return;\n    } //  h2\n\n\n    this.command.do('replaceRoot', `<h2>${replaceHtmlSymbol($rootElem.text())}</h2>`);\n  }\n\n  isActive() {\n    this.active = this.selection.getRootElem().is('h2');\n    return this.active;\n  }\n\n}\n\nHead.icon = 'title';\nHead.title = '';\nHead.disable = ['bold', 'italic', 'image'];\nexport default Head;","import extend from 'mdui.jq/es/functions/extend';\nimport { isFunction, isUndefined } from 'mdui.jq/es/utils';\nimport mdui from '../../mdui';\nimport './dialog';\nconst DEFAULT_OPTIONS = {\n  confirmText: 'ok',\n  history: true,\n  modal: false,\n  closeOnEsc: true,\n  closeOnConfirm: true\n};\n\nmdui.alert = function (text, title, onConfirm, options) {\n  if (isFunction(title)) {\n    options = onConfirm;\n    onConfirm = title;\n    title = '';\n  }\n\n  if (isUndefined(onConfirm)) {\n    // eslint-disable-next-line @typescript-eslint/no-empty-function\n    onConfirm = () => {};\n  }\n\n  if (isUndefined(options)) {\n    options = {};\n  }\n\n  options = extend({}, DEFAULT_OPTIONS, options);\n  return mdui.dialog({\n    title: title,\n    content: text,\n    buttons: [{\n      text: options.confirmText,\n      bold: false,\n      close: options.closeOnConfirm,\n      onClick: onConfirm\n    }],\n    cssClass: 'mdui-dialog-alert',\n    history: options.history,\n    modal: options.modal,\n    closeOnEsc: options.closeOnEsc\n  });\n};","import $ from 'mdui.jq/es/$';\nimport ajax from 'mdui.jq/es/functions/ajax';\nimport 'mdui.jq/es/methods/find';\nimport 'mdui.jq/es/methods/html';\nimport 'mdui.jq/es/methods/insertAfter';\nimport 'mdui.jq/es/methods/is';\nimport 'mdui.jq/es/methods/next';\nimport 'mdui.jq/es/methods/on';\nimport 'mdui.jq/es/methods/remove';\nimport 'mdui.jq/es/methods/val';\nimport 'mdui.jq/es/methods/trigger';\nimport 'mdui/es/components/dialog/alert';\nimport 'mdui/es/components/dialog/dialog';\nimport mdui from 'mdui/es/mdui';\nimport 'mdui/es/jq_extends/static/guid';\nimport MenuAbstract from '../abstracts/menuAbstract';\nimport { memoryFormat } from '../utils/format';\n\nclass Image extends MenuAbstract {\n  constructor(editor, $button) {\n    super(editor, $button);\n    /**\n     * <input type=\"file\"/> \n     */\n\n    this.$input = $();\n    /**\n     * <input type=\"file\"/>  ID\n     */\n\n    this.inputID = $.guid();\n    /**\n     * \n     */\n\n    this.suffixs = [];\n    /**\n     * \n     */\n\n    this.accepts = [];\n    this.setAccepts();\n    this.setInput();\n    this.bindInputChange();\n    this.bindKeyboardEvent();\n  }\n\n  bindKeyboardEvent() {\n    this.$container.on('keydown', event => {\n      const keyCode = event.keyCode;\n      this.selection.saveRange();\n      const $curElem = this.selection.getContainerElem();\n\n      if (keyCode === 8 || keyCode === 46) {\n        if ($curElem.is('figcaption')) {\n          //  figcaption \n          const html = $curElem.html().toLowerCase().trim();\n\n          if (!html || html === '<br>' || html === '<br/>') {\n            $curElem.html('');\n            event.preventDefault();\n          }\n        }\n      }\n\n      if ($curElem.is('figure')) {\n        if (keyCode === 8 || keyCode === 46) {\n          //  figure \n          this.selection.createRangeByElem($curElem.next());\n          $curElem.remove();\n          this.selection.restore();\n        }\n\n        event.preventDefault();\n      }\n\n      if (keyCode === 13) {\n        //  figcaption  root \n        if ($curElem.is('figcaption')) {\n          const $nextElem = this.selection.getRootElem().next();\n\n          if (!$nextElem.length) {\n            // \n            this.command.do('insertAfterRoot', '<p><br></p>');\n          } else {\n            // \n            this.selection.createRangeByElem($nextElem);\n            this.selection.restore();\n          }\n\n          event.preventDefault();\n        }\n      }\n    });\n    this.$container.on('keyup', event => {\n      const keyCode = event.keyCode;\n      const $curElem = this.selection.getContainerElem();\n\n      if (keyCode === 8 || keyCode === 46) {\n        //  figcaption \n        if ($curElem.is('figcaption')) {\n          const html = $curElem.html().toLowerCase().trim();\n\n          if (!html || html === '<br>' || html === '<br/>') {\n            $curElem.html('');\n          }\n        }\n      }\n    });\n  }\n  /**\n   * \n   */\n\n\n  setAccepts() {\n    this.suffixs = this.editor.options.imageUploadSuffix;\n    const map = {\n      png: 'image/png',\n      jpg: 'image/jpeg',\n      gif: 'image/gif'\n    };\n    this.accepts = this.suffixs.map(suffix => map[suffix]);\n  }\n  /**\n   *  <input type=\"file\"/> \n   */\n\n\n  setInput() {\n    this.$input = $(`<input type=\"file\" id=\"${this.inputID}\" name=\"${this.editor.options.imageUploadName}\" accept=\"${this.accepts.join(', ')}\"/>`).insertAfter(this.$button);\n  }\n  /**\n   * \n   */\n\n\n  bindInputChange() {\n    this.$input.on('change', event => {\n      // @ts-ignore\n      const files = event.target.files;\n\n      if (!files.length) {\n        return;\n      }\n\n      this.upload(files[0]);\n      this.$input.val('');\n    });\n  }\n  /**\n   * \n   * @param file\n   */\n\n\n  upload(file) {\n    if (this.accepts.indexOf(file.type) < 0) {\n      mdui.alert(` ${this.suffixs.join(', ')} `);\n      return;\n    }\n\n    if (this.editor.options.imageUploadMaxSize && file.size > this.editor.options.imageUploadMaxSize) {\n      mdui.alert(` ${memoryFormat(this.editor.options.imageUploadMaxSize)}`);\n      return;\n    }\n\n    const formData = new FormData();\n    formData.append(this.editor.options.imageUploadName, file);\n    let loadingDialog;\n    let uploadTime;\n    let uploadTimeInterval;\n    ajax({\n      url: this.editor.options.imageUploadUrl,\n      method: 'POST',\n      data: formData,\n      processData: false,\n      dataType: 'json',\n      contentType: false,\n      global: false,\n      beforeSend: xhr => {\n        uploadTime = 0;\n        uploadTimeInterval = setInterval(() => uploadTime += 100, 100);\n        loadingDialog = mdui.dialog({\n          title: '',\n          content: '<p class=\"mdui_editor-upload-progress\">0%</p>',\n          history: false,\n          modal: true,\n          cssClass: 'mdui_editor-upload-progress-dialog'\n        });\n        const $progress = loadingDialog.$element.find('.mdui_editor-upload-progress');\n\n        xhr.upload.onprogress = event => {\n          // @ts-ignore\n          $progress.html(`${(event.loaded / event.total * 100).toFixed(0)}%`);\n        };\n      },\n      complete: () => {\n        clearInterval(uploadTimeInterval);\n\n        if (uploadTime < 500) {\n          setTimeout(() => {\n            loadingDialog.close();\n          }, 500 - uploadTime);\n        } else {\n          loadingDialog.close();\n        }\n      }\n    }).then(response => {\n      if (this.editor.options.imageUploadResponseTransform) {\n        response = this.editor.options.imageUploadResponseTransform(response);\n      }\n\n      if (response.code) {\n        mdui.alert(response.message);\n        return;\n      }\n\n      const $rootElem = this.selection.getRootElem();\n      const rootHTML = $rootElem.html().toLowerCase().trim();\n      const imgHTML = `<figure><img src=\"${response.data.url}\"/><figcaption placeholder=\"\"></figcaption></figure>`;\n\n      if ($rootElem[0].nodeName === 'P' && (rootHTML === '<br>' || rootHTML === '<br/>')) {\n        //  p \n        this.command.do('replaceRoot', imgHTML);\n      } else {\n        //  p \n        this.command.do('insertAfterRoot', imgHTML);\n      } // \n\n\n      this.command.do('insertAfterRoot', '<p><br></p>');\n    }).catch(() => mdui.alert(''));\n  }\n\n  onclick() {\n    $(`#${this.inputID}`).trigger('click');\n  }\n\n}\n\nImage.icon = 'image';\nImage.title = '';\nexport default Image;","/**\n * \n * @param memory\n */\nexport function memoryFormat(memory) {\n  const units = ['B', 'KB', 'MB', 'GB', 'TB'];\n  let pos = 0;\n\n  while (memory >= 1024) {\n    memory /= 1024;\n    pos++;\n  }\n\n  return memory.toFixed(2) + units[pos];\n}","import MenuNativeAbstract from '../abstracts/menuNativeAbstract';\n/**\n * \n */\n\nclass Italic extends MenuNativeAbstract {\n  getCommandName() {\n    return 'italic';\n  }\n\n  getElementName() {\n    return 'em';\n  }\n\n}\n\nItalic.icon = 'format_italic';\nItalic.title = '';\nItalic.disable = ['image'];\nexport default Italic;","import extend from 'mdui.jq/es/functions/extend';\nimport 'mdui.jq/es/methods/find';\nimport 'mdui.jq/es/methods/on';\nimport 'mdui.jq/es/methods/val';\nimport { isFunction, isUndefined } from 'mdui.jq/es/utils';\nimport mdui from '../../mdui';\nimport '../textfield';\nimport './dialog';\nconst DEFAULT_OPTIONS = {\n  confirmText: 'ok',\n  cancelText: 'cancel',\n  history: true,\n  modal: false,\n  closeOnEsc: true,\n  closeOnCancel: true,\n  closeOnConfirm: true,\n  type: 'text',\n  maxlength: 0,\n  defaultValue: '',\n  confirmOnEnter: false\n};\n\nmdui.prompt = function (label, title, onConfirm, onCancel, options) {\n  if (isFunction(title)) {\n    options = onCancel;\n    onCancel = onConfirm;\n    onConfirm = title;\n    title = '';\n  }\n\n  if (isUndefined(onConfirm)) {\n    // eslint-disable-next-line @typescript-eslint/no-empty-function\n    onConfirm = () => {};\n  }\n\n  if (isUndefined(onCancel)) {\n    // eslint-disable-next-line @typescript-eslint/no-empty-function\n    onCancel = () => {};\n  }\n\n  if (isUndefined(options)) {\n    options = {};\n  }\n\n  options = extend({}, DEFAULT_OPTIONS, options);\n  const content = '<div class=\"mdui-textfield\">' + (label ? `<label class=\"mdui-textfield-label\">${label}</label>` : '') + (options.type === 'text' ? `<input class=\"mdui-textfield-input\" type=\"text\" value=\"${options.defaultValue}\" ${options.maxlength ? 'maxlength=\"' + options.maxlength + '\"' : ''}/>` : '') + (options.type === 'textarea' ? `<textarea class=\"mdui-textfield-input\" ${options.maxlength ? 'maxlength=\"' + options.maxlength + '\"' : ''}>${options.defaultValue}</textarea>` : '') + '</div>';\n\n  const onCancelClick = dialog => {\n    const value = dialog.$element.find('.mdui-textfield-input').val();\n    onCancel(value, dialog);\n  };\n\n  const onConfirmClick = dialog => {\n    const value = dialog.$element.find('.mdui-textfield-input').val();\n    onConfirm(value, dialog);\n  };\n\n  return mdui.dialog({\n    title,\n    content,\n    buttons: [{\n      text: options.cancelText,\n      bold: false,\n      close: options.closeOnCancel,\n      onClick: onCancelClick\n    }, {\n      text: options.confirmText,\n      bold: false,\n      close: options.closeOnConfirm,\n      onClick: onConfirmClick\n    }],\n    cssClass: 'mdui-dialog-prompt',\n    history: options.history,\n    modal: options.modal,\n    closeOnEsc: options.closeOnEsc,\n    onOpen: dialog => {\n      // \n      const $input = dialog.$element.find('.mdui-textfield-input');\n      mdui.updateTextFields($input); // \n\n      $input[0].focus(); // \n\n      if (options.type !== 'textarea' && options.confirmOnEnter === true) {\n        $input.on('keydown', event => {\n          if (event.keyCode === 13) {\n            const value = dialog.$element.find('.mdui-textfield-input').val();\n            onConfirm(value, dialog);\n\n            if (options.closeOnConfirm) {\n              dialog.close();\n            }\n\n            return false;\n          }\n\n          return;\n        });\n      } //  input \n\n\n      if (options.type === 'textarea') {\n        $input.on('input', () => dialog.handleUpdate());\n      } //  DOM \n\n\n      if (options.maxlength) {\n        dialog.handleUpdate();\n      }\n    }\n  });\n};","import 'mdui.jq/es/methods/after';\nimport 'mdui.jq/es/methods/attr';\nimport 'mdui.jq/es/methods/find';\nimport 'mdui.jq/es/methods/is';\nimport { returnFalse } from 'mdui.jq/es/utils';\nimport 'mdui/es/components/dialog/prompt';\nimport 'mdui/es/components/textfield';\nimport mdui from 'mdui/es/mdui';\nimport MenuAbstract from '../abstracts/menuAbstract';\n/**\n * \n */\n\nclass Link extends MenuAbstract {\n  onclick() {\n    const $curElem = this.selection.getContainerElem();\n    let defaultUrl = '';\n\n    if ($curElem.is('a')) {\n      //  a  a \n      this.selection.createRangeByElem($curElem, false, true);\n      defaultUrl = $curElem.attr('href') || '';\n    }\n\n    const dialog = mdui.prompt('', (url, dialog) => {\n      if (!url) {\n        // \n        this.command.do('unlink');\n        dialog.close();\n        return;\n      }\n\n      const input = dialog.$element.find('.mdui-textfield-input')[0];\n\n      if (input.validity && input.validity.valid) {\n        this.command.do('createLink', url);\n        dialog.close();\n        return;\n      }\n    }, returnFalse, {\n      confirmText: '',\n      cancelText: '',\n      defaultValue: defaultUrl,\n      confirmOnEnter: true,\n      closeOnConfirm: false\n    });\n    dialog.$element.find('.mdui-textfield-input').attr('type', 'text').attr('pattern', '^(https?|ftp|file)://[\\\\S]+\\\\.[\\\\S]+$').after('<div class=\"mdui-textfield-error\"></div>');\n    mdui.updateTextFields(dialog.$element.find('.mdui-textfield'));\n    dialog.handleUpdate();\n  }\n\n  isActive() {\n    return this.selection.getContainerElem().is('a');\n  }\n\n}\n\nLink.icon = 'link';\nLink.title = '';\nLink.disable = ['image'];\nexport default Link;","import $ from '../$';\nimport each from '../functions/each';\nimport './get';\nimport dir from './utils/dir';\neach(['', 'All', 'Until'], (nameIndex, name) => {\n  $.fn[`prev${name}`] = function (selector, filter) {\n    // prevAllprevUntil  jQuery \n    const $nodes = !nameIndex ? this : $(this.get().reverse());\n    return dir($nodes, nameIndex, 'previousElementSibling', selector, filter);\n  };\n});","import $ from 'mdui.jq/es/$';\nimport 'mdui.jq/es/methods/each';\nimport 'mdui.jq/es/methods/is';\nimport 'mdui.jq/es/methods/parent';\nimport 'mdui.jq/es/methods/prev';\nimport 'mdui.jq/es/methods/remove';\nimport MenuAbstract from './menuAbstract';\n/**\n * ulol \n */\n\nclass MenuListAbstract extends MenuAbstract {\n  constructor() {\n    super(...arguments);\n    this.disable = ['head', 'code', 'image'];\n  }\n  /**\n   * \n   */\n\n\n  getCommandName() {\n    return this.getName() === 'ol' ? 'insertOrderedList' : 'insertUnorderedList';\n  }\n  /**\n   *  <p> \n   * @param $list\n   */\n\n\n  moveListToRoot($list) {\n    $list.each((_, ol) => {\n      const $parent = $(ol).parent();\n\n      if ($parent.is(this.$container)) {\n        return;\n      }\n\n      this.selection.createRangeByElem($parent, false, true);\n      this.command.do('replaceRoot', ol);\n    });\n  }\n  /**\n   * bstrongiema  p  br \n   */\n\n\n  moveElemToP() {\n    $(this.$container[0].childNodes).each((_, curElem) => {\n      const $curElem = $(curElem);\n      const {\n        nodeType,\n        nodeName,\n        nodeValue,\n        outerHTML\n      } = curElem;\n\n      if (nodeType === 3) {\n        //  p \n        this.selection.createRangeByElem($curElem.prev(), false, true);\n        this.command.do('insertAfterRoot', nodeValue ? `<p>${nodeValue}</p>` : '<p><br></p>');\n        $curElem.remove();\n        return;\n      }\n\n      if (nodeType !== 1) {\n        //  DOM \n        return;\n      }\n\n      if (['B', 'STRONG', 'I', 'EM', 'A'].indexOf(nodeName) > -1) {\n        //  p \n        this.selection.createRangeByElem($curElem, false, true);\n        this.command.do('replaceRoot', outerHTML ? `<p>${outerHTML}</p>` : '<p><br></p>');\n        return;\n      }\n\n      if (nodeName === 'BR') {\n        //  br \n        $curElem.remove();\n      }\n    });\n  }\n\n  onclick() {\n    this.command.do(this.getCommandName());\n    this.moveListToRoot(this.$container.find(this.getName()));\n    this.moveElemToP();\n  }\n\n  isActive() {\n    return document.queryCommandState(this.getCommandName());\n  }\n\n}\n\nexport default MenuListAbstract;","import 'mdui.jq/es/methods/find';\nimport MenuListAbstract from '../abstracts/menuListAbstract';\n/**\n * \n */\n\nclass Ol extends MenuListAbstract {\n  getName() {\n    return 'ol';\n  }\n\n}\n\nOl.icon = 'format_list_numbered';\nOl.title = '';\nexport default Ol;","import 'mdui.jq/es/methods/find';\nimport MenuListAbstract from '../abstracts/menuListAbstract';\n/**\n * \n */\n\nclass Ul extends MenuListAbstract {\n  getName() {\n    return 'ul';\n  }\n\n}\n\nUl.icon = 'format_list_bulleted';\nUl.title = '';\nexport default Ul;","import $ from 'mdui.jq/es/$';\nimport each from 'mdui.jq/es/functions/each';\nimport unique from 'mdui.jq/es/functions/unique';\nimport 'mdui.jq/es/methods/addClass';\nimport 'mdui.jq/es/methods/append';\nimport 'mdui.jq/es/methods/appendTo';\nimport 'mdui.jq/es/methods/on';\nimport 'mdui.jq/es/methods/prop';\nimport 'mdui.jq/es/methods/removeClass';\nimport CommonAbstract from '../abstracts/commonAbstract';\nimport Bold from './bold';\nimport ClearDrafts from './clear_drafts';\nimport Code from './code';\nimport Head from './head';\nimport Image from './image';\nimport Italic from './italic';\nimport Link from './link';\nimport Ol from './ol';\nimport Ul from './ul';\nconst MenuConstructors = {\n  bold: Bold,\n  clear_drafts: ClearDrafts,\n  code: Code,\n  head: Head,\n  image: Image,\n  italic: Italic,\n  link: Link,\n  ol: Ol,\n  ul: Ul\n};\n\nclass Menus extends CommonAbstract {\n  constructor(editor) {\n    super(editor);\n    /**\n     * { :  }\n     */\n\n    this.menus = {};\n    this.init();\n  }\n  /**\n   * \n   * @private\n   */\n\n\n  init() {\n    this.editor.options.menus.forEach(name => {\n      // \n      if (name === '|') {\n        this.$toolbar.append('<div class=\"mdui_editor-toolbar-divider\"></div>');\n        return;\n      } //  spacer\n\n\n      if (name === ' ') {\n        this.$toolbar.append('<div class=\"mdui-toolbar-spacer\"></div>');\n        return;\n      }\n\n      const MenuConstructor = MenuConstructors[name];\n\n      if (!MenuConstructor || typeof MenuConstructor !== 'function') {\n        return;\n      } // \n\n\n      const $button = $(`<button class=\"mdui-btn mdui_editor-toolbar-menu mdui_editor-toolbar-menu-${name}\" type=\"button\" title=\"${MenuConstructor.title}\">` + `<i class=\"mdui-icon material-icons\">${MenuConstructor.icon}</i>` + '</button>').appendTo(this.$toolbar); // \n\n      const menu = new MenuConstructor(this.editor, $button);\n      this.menus[name] = menu;\n\n      const onClick = () => {\n        if (this.selection.getRange() === null) {\n          return;\n        }\n\n        menu.onclick();\n      };\n\n      $button.on('click', onClick);\n    });\n  }\n  /**\n   * \n   */\n\n\n  changeStatus() {\n    let disableMenus = [];\n    each(this.menus, (name, menu) => {\n      setTimeout(() => {\n        // \n        if (menu.isActive()) {\n          menu.$button.addClass('mdui_editor-toolbar-menu-active');\n\n          if (MenuConstructors[name].disable) {\n            disableMenus = disableMenus.concat(MenuConstructors[name].disable);\n          }\n        } else {\n          menu.$button.removeClass('mdui_editor-toolbar-menu-active');\n        } // \n\n\n        if (name === this.editor.options.menus[this.editor.options.menus.length - 1]) {\n          disableMenus = unique(disableMenus);\n          each(this.menus, (name, menu) => {\n            menu.$button.prop('disabled', disableMenus.indexOf(name) > -1);\n          });\n        }\n      }, 0);\n    });\n  }\n\n}\n\nexport default Menus;","import $ from 'mdui.jq/es/$';\nimport 'mdui.jq/es/methods/is';\nimport 'mdui.jq/es/methods/last';\nimport 'mdui.jq/es/methods/parent';\nimport 'mdui.jq/es/methods/parentsUntil';\nimport CommonAbstract from '../abstracts/commonAbstract';\nimport { isWebkit } from '../utils/ua';\n/**\n * selection range API\n */\n\nclass Selection extends CommonAbstract {\n  constructor() {\n    super(...arguments);\n    /**\n     * \n     */\n\n    this.currentRange = undefined;\n  }\n  /**\n   *  range \n   */\n\n\n  getRange() {\n    return this.currentRange;\n  }\n  /**\n   * \n   * @param range \n   */\n\n\n  saveRange(range) {\n    if (range) {\n      // \n      this.currentRange = range;\n      return;\n    } // \n\n\n    const selection = window.getSelection();\n\n    if (selection.rangeCount === 0) {\n      return;\n    }\n\n    const rangeAt = selection.getRangeAt(0); // \n\n    const $containerElem = this.getContainerElem(rangeAt);\n\n    if (!$containerElem.length) {\n      return;\n    }\n\n    if (this.$container[0].contains($containerElem[0])) {\n      // \n      this.currentRange = rangeAt;\n    }\n  }\n  /**\n   * \n   * @param toStart\n   */\n\n\n  collapseRange(toStart = false) {\n    const range = this.currentRange;\n\n    if (range) {\n      range.collapse(toStart);\n    }\n  }\n  /**\n   * \n   */\n\n\n  getText() {\n    return this.currentRange ? this.currentRange.toString() : '';\n  }\n  /**\n   *  JQ \n   * @param range\n   */\n\n\n  getContainerElem(range) {\n    range = range || this.currentRange;\n\n    if (range) {\n      const elem = range.commonAncestorContainer;\n      return $(elem.nodeType === 1 ? elem : elem.parentNode);\n    }\n\n    return $();\n  }\n  /**\n   *  JQ \n   * @param range\n   */\n\n\n  getRootElem(range) {\n    const $elem = this.getContainerElem(range);\n\n    if (this.$container.is($elem)) {\n      //  $container\n      return $();\n    }\n\n    if ($elem.parent().is(this.$container)) {\n      //  root \n      return $elem;\n    }\n\n    return $elem.parentsUntil(this.$container).last();\n  }\n  /**\n   * \n   */\n\n\n  isEmpty() {\n    const range = this.currentRange;\n\n    if (!range || !range.startContainer) {\n      return false;\n    }\n\n    if (range.startContainer !== range.endContainer) {\n      return false;\n    }\n\n    return range.startOffset === range.endOffset;\n  }\n  /**\n   * \n   */\n\n\n  restore() {\n    const selection = window.getSelection();\n    selection.removeAllRanges();\n    selection.addRange(this.currentRange);\n  }\n  /**\n   *  &#8203 \n   * @param tag  webkit \n   */\n\n\n  createEmptyRange(tag = 'strong') {\n    const range = this.getRange();\n    let $elem;\n\n    if (!range) {\n      //  range\n      return;\n    }\n\n    if (!this.isEmpty()) {\n      // \n      return;\n    }\n\n    try {\n      //  webkit \n      if (isWebkit()) {\n        //  &#8203\n        this.command.do('insertHTML', '&#8203;'); //  offset \n\n        range.setEnd(range.endContainer, range.endOffset + 1); // \n\n        this.saveRange(range);\n      } else {\n        $elem = $(`<${tag}>&#8203;</${tag}>`);\n        this.command.do('insertElem', $elem);\n        this.createRangeByElem($elem, true);\n      }\n    } catch (ex) {// \n    }\n  }\n  /**\n   *  JQ \n   * @param $elem\n   * @param toStart   true false \n   * @param isContent  elem \n   */\n\n\n  createRangeByElem($elem, toStart = false, isContent = false) {\n    if (!$elem.length) {\n      return;\n    }\n\n    const elem = $elem[0];\n    const range = document.createRange();\n\n    if (isContent) {\n      range.selectNodeContents(elem);\n    } else {\n      range.selectNode(elem);\n    }\n\n    range.collapse(toStart);\n    this.saveRange(range);\n  }\n\n}\n\nexport default Selection;","/**\n *  webkit \n */\nexport function isWebkit() {\n  return /webkit/i.test(navigator.userAgent);\n}","import { replaceHtmlSymbol } from './str';\n/**\n * \n * @param event\n */\n\nfunction getPasteData(event) {\n  const clipboardData = event.clipboardData || // @ts-ignore\n  event.originalEvent && event.originalEvent.clipboardData;\n  let pasteText = '';\n  let pasteHtml = '';\n\n  if (clipboardData === null) {\n    // @ts-ignore\n    pasteText = window.clipboardData && window.clipboardData.getData('text');\n  } else {\n    pasteText = clipboardData.getData('text/plain');\n    pasteHtml = clipboardData.getData('text/html');\n  }\n\n  return {\n    pasteText,\n    pasteHtml\n  };\n}\n/**\n *  HTML\n * @param event\n */\n\n\nexport function getPasteHTML(event) {\n  let {\n    pasteText,\n    pasteHtml\n  } = getPasteData(event);\n\n  if (!pasteHtml && pasteText) {\n    pasteText = replaceHtmlSymbol(pasteText);\n    pasteHtml = pasteText ? `<p>${pasteText}</p>` : '<p><br></p>';\n  }\n\n  return pasteHtml;\n}\n/**\n * \n * @param event\n */\n\nexport function getPasteText(event) {\n  const {\n    pasteText\n  } = getPasteData(event);\n  return replaceHtmlSymbol(pasteText);\n}","import $ from 'mdui.jq/es/$';\nimport extend from 'mdui.jq/es/functions/extend';\nimport 'mdui.jq/es/methods/addClass';\nimport 'mdui.jq/es/methods/append';\nimport 'mdui.jq/es/methods/attr';\nimport 'mdui.jq/es/methods/children';\nimport 'mdui.jq/es/methods/first';\nimport 'mdui.jq/es/methods/html';\nimport 'mdui.jq/es/methods/is';\nimport 'mdui.jq/es/methods/last';\nimport 'mdui.jq/es/methods/off';\nimport 'mdui.jq/es/methods/on';\nimport 'mdui.jq/es/methods/removeClass';\nimport 'mdui.jq/es/methods/text';\nimport Command from './command/index';\nimport Menus from './menus/index';\nimport Selection from './selection/index';\nimport { getPasteText } from './utils/paste';\nimport { purifier } from './utils/purifier';\nconst DEFAULT_OPTIONS = {\n  // eslint-disable-next-line @typescript-eslint/no-empty-function\n  onchange: () => {},\n  // eslint-disable-next-line @typescript-eslint/no-empty-function\n  onClearDrafts: () => {},\n  onchangeTimeout: 200,\n  placeholder: '',\n  menus: ['bold', 'italic', 'head', 'code', 'ol', 'ul', 'link', 'image', ' ', 'clear_drafts'],\n  tagsWhiteList: ['p', 'strong', 'b', 'em', 'i', 'h2', 'pre', 'code', 'ol', 'ul', 'li', 'a', 'img', 'figure', 'figcaption'],\n  autoSave: false,\n  autoSaveKey: 'mdui-editor-content',\n  imageUploadUrl: '',\n  imageUploadMaxSize: 1024 * 1024 * 2,\n  imageUploadSuffix: ['png', 'jpg', 'gif'],\n  imageUploadName: 'file',\n  imageUploadResponseTransform: false\n};\n/**\n * \n */\n\nclass Editor {\n  /**\n   * \n   * @param toolbar  CSS  DOM  JQ \n   * @param container  CSS  DOM  JQ \n   * @param options \n   */\n  constructor(toolbar, container, options = {}) {\n    /**\n     * \n     */\n    this.options = extend({}, DEFAULT_OPTIONS);\n    /**\n     * \n     */\n\n    this.change = null;\n    extend(this.options, options);\n    this.$toolbar = $(toolbar).first().addClass('mdui_editor-toolbar');\n    this.$container = $(container).first().addClass('mdui_editor-content mdui-typo').attr({\n      contenteditable: '',\n      placeholder: this.options.placeholder\n    });\n    this.command = new Command(this);\n    this.selection = new Selection(this);\n    this.menus = new Menus(this); // \n\n    if (this.options.autoSave) {\n      this.setHTML(window.localStorage.getItem(this.options.autoSaveKey) || '');\n    }\n\n    this.initSelection(true);\n    this.bindEvent(); //  p \n\n    this.command.do('defaultParagraphSeparator', 'p'); //  IE \n\n    try {\n      this.command.do('AutoUrlDetect', false);\n    } catch (e) {\n      /* eslint-disable no-empty */\n    }\n  }\n  /**\n   * \n   * @param newLine \n   */\n\n\n  initSelection(newLine = false) {\n    const $children = this.$container.children(); // \n\n    if (!$children.length) {\n      this.$container.append('<p><br></p>');\n      return this.initSelection();\n    }\n\n    const $last = $children.last(); //  <p><br></p>\n\n    if (newLine) {\n      const html = $last.html().toLowerCase();\n      const nodeName = $last[0].nodeName;\n\n      if (html !== '<br>' && html !== '<br/>' || nodeName !== 'P') {\n        this.$container.append('<p><br></p>');\n        return this.initSelection();\n      }\n    }\n\n    this.updatePlaceholder();\n    this.selection.createRangeByElem($last, false, true);\n    this.selection.restore();\n  }\n  /**\n   *  html\n   */\n\n\n  getHTML() {\n    return this.$container.html().replace(/\\u200b/gm, '');\n  }\n  /**\n   *  html\n   * @param html\n   */\n\n\n  setHTML(html) {\n    this.$container.html(html);\n    this.initSelection();\n  }\n  /**\n   * \n   */\n\n\n  getText() {\n    return this.$container.text().replace(/\\u200b/gm, '');\n  }\n  /**\n   * \n   * @param text\n   */\n\n\n  setText(text) {\n    this.setHTML(text ? `<p>${text}</p>` : '<p><br></p>');\n  }\n  /**\n   * \n   */\n\n\n  clear() {\n    this.setHTML('<p><br></p>');\n  }\n  /**\n   * \n   */\n\n\n  focus() {\n    this.initSelection();\n  }\n  /**\n   * \n   * @private\n   */\n\n\n  bindEvent() {\n    // \n    let compositionEnd = true;\n    this.$container // \n    .on('compositionstart', () => {\n      compositionEnd = false;\n    }) // \n    .on('compositionend', () => {\n      compositionEnd = true;\n    }) //  onchange\n    .on('click keyup', () => {\n      if (compositionEnd && this.change) {\n        this.change();\n      }\n    });\n    this.$toolbar.on('click', () => {\n      if (this.change) {\n        this.change();\n      }\n    });\n    this.bindChange();\n    this.saveRangeRealTime();\n    this.pasteHandler();\n    this.deleteHandler();\n    this.containerClickHandler();\n    this.dragHandler();\n    this.undoHandler();\n  }\n  /**\n   *  placeholder \n   */\n\n\n  updatePlaceholder() {\n    const className = 'mdui_editor-content-empty';\n    this.$container.html() === '<p><br></p>' ? this.$container.addClass(className) : this.$container.removeClass(className);\n  }\n  /**\n   *  onchange \n   * @private\n   */\n\n\n  bindChange() {\n    const options = this.options;\n    const onchangeTimeout = options.onchangeTimeout;\n    let onchangeTimeoutId = 0;\n    let beforeChangeHTML = this.getHTML(); //  change \n    // 1. editor.$container.on('click keyup')\n    // 2. editor.$toolbar.on('click')\n    // 3. editor.command.do()\n\n    this.change = () => {\n      const currentHTML = this.getHTML(); // \n\n      if (currentHTML === beforeChangeHTML) {\n        return;\n      } // \n\n\n      if (onchangeTimeoutId) {\n        clearTimeout(onchangeTimeoutId);\n      }\n\n      onchangeTimeoutId = setTimeout(() => {\n        //  onchange \n        options.onchange(this);\n        beforeChangeHTML = currentHTML; //  localStorage\n\n        if (options.autoSave) {\n          window.localStorage.setItem(options.autoSaveKey, this.getHTML());\n        } //  placeholder \n\n\n        this.updatePlaceholder();\n      }, onchangeTimeout);\n    };\n  }\n  /**\n   * \n   */\n\n\n  saveRangeRealTime() {\n    // \n    const saveRange = () => {\n      // \n      this.selection.saveRange(); // \n\n      this.menus.changeStatus();\n    };\n\n    this.$container.on('keyup', saveRange).on('mousedown', () => {\n      // mousedown \n      this.$container.on('mouseleave', saveRange);\n    }).on('mouseup', () => {\n      saveRange(); // \n\n      this.$container.off('mouseleave', saveRange);\n    });\n  }\n  /**\n   * \n   */\n\n\n  pasteHandler() {\n    this.$container.on('paste', event => {\n      event.preventDefault(); // \n\n      const pasteHTML = purifier(getPasteText(event)); // todo  getPasteHTML \n\n      const pasteText = getPasteText(event);\n      const $selectionElem = this.selection.getContainerElem();\n\n      if (!$selectionElem.length) {\n        return;\n      }\n\n      const {\n        nodeName\n      } = $selectionElem[0]; // \n\n      if (nodeName === 'CODE' || nodeName === 'PRE') {\n        this.command.do('insertHTML', pasteText);\n        return;\n      }\n\n      if (!pasteHTML) {\n        return;\n      }\n\n      try {\n        // firefox  pasteHtml  <ul>  <li>\n        //  insertHTML \n        this.command.do('insertHTML', pasteHTML);\n      } catch (ex) {\n        //  pasteText \n        this.command.do('insertHTML', pasteText);\n      }\n    });\n  }\n  /**\n   * \n   */\n\n\n  deleteHandler() {\n    this.$container.on('keydown keyup', event => {\n      const {\n        keyCode,\n        type\n      } = event;\n\n      if (keyCode === 8 || keyCode === 46) {\n        // \n        const html = this.$container.html().toLowerCase().trim();\n\n        if (type === 'keydown') {\n          if (html === '<p><br></p>') {\n            event.preventDefault();\n          } else if (!html) {\n            this.$container.html('<p><br></p>');\n            event.preventDefault();\n          }\n        }\n\n        if (type === 'keyup') {\n          if (!html) {\n            this.$container.html('<p><br></p>');\n          }\n        }\n      }\n\n      this.updatePlaceholder();\n    });\n  }\n  /**\n   *  $container \n   * @private\n   */\n\n\n  containerClickHandler() {\n    this.$container.on('click', event => {\n      const target = event.target;\n\n      if (!$(target).is(this.$container)) {\n        return;\n      }\n\n      const $last = this.$container.children().last(); //  $container  p\n      // $container  p\n\n      if (!$last.length || $last[0].nodeName !== 'P') {\n        this.command.do('appendHTML', '<p><br></p>');\n      }\n    });\n  }\n  /**\n   * \n   */\n\n\n  dragHandler() {\n    // \n    this.$container.on('dragleave drop dragenter dragover', false); // todo \n  }\n  /**\n   * Ctrl + Z \n   */\n\n\n  undoHandler() {\n    // undo  DOM  undo\n    this.$container.on('keydown', event => {\n      if (event.ctrlKey && event.keyCode === 90) {\n        return false;\n      }\n    });\n  }\n\n}\n\nexport default Editor;","/**\n * \n */\nexport function purifier(html) {\n  let result = ''; // todo  p  html\n\n  html.split('\\n').forEach(line => {\n    // \n    line = line.replace(/[\\r\\n]/gm, '');\n    result += line ? `<p>${line}</p>` : '<p><br></p>';\n  });\n  return result;\n}","import { h } from 'hyperapp';\nimport './index.less';\nexport default (({\n  topic,\n  onRemove\n}) => h(\"div\", {\n  class: \"mdui-chip\",\n  key: topic.topic_id\n}, h(\"img\", {\n  class: \"mdui-chip-icon\",\n  src: topic.cover.small\n}), h(\"span\", {\n  class: \"mdui-chip-title\"\n}, topic.name), h(\"span\", {\n  class: \"mdui-chip-delete\",\n  onclick: onRemove\n}, h(\"i\", {\n  class: \"mdui-icon material-icons\"\n}, \"cancel\"))));","import { h } from 'hyperapp';\nimport cc from 'classcat';\nimport $ from 'mdui.jq';\nimport { COMMON_IMAGE_UPLOAD_FAILED } from 'mdclub-sdk-js/es/errors';\nimport Editor from 'mdui.editor/es/index';\nimport './index.less';\nimport TopicChip from './components/topic-chip/view.jsx';\n\nconst HeaderIcon = ({\n  iconTitle,\n  icon,\n  onClick\n}) => h(\"i\", {\n  class: \"mdui-icon material-icons\",\n  title: iconTitle,\n  onclick: onClick\n}, icon);\n\nexport default (({\n  id,\n  // ID\n  title,\n  // \n  withTitle = false,\n  // \n  withTopics = false,\n  // \n  onSubmit,\n  // \n  publishing,\n  // \n  state,\n  //  stateAbstract  editorState  topicSelectorState\n  actions //  actionsAbstract  editorActions  topicSelectorActions\n\n}) => {\n  const Header = () => h(\"div\", {\n    class: \"header\"\n  }, h(\"div\", {\n    class: \"header-title\",\n    onclick: actions.editorMinimize\n  }, title), h(\"div\", {\n    class: \"header-actions\"\n  }, h(HeaderIcon, {\n    iconTitle: \"\\u6700\\u5C0F\\u5316\",\n    icon: \"remove\",\n    onClick: actions.editorMinimize\n  }), h(HeaderIcon, {\n    iconTitle: \"\\u5168\\u5C4F\\u6A21\\u5F0F\",\n    icon: state.editor_maximize ? 'fullscreen_exit' : 'fullscreen',\n    onClick: actions.editorMaximize\n  }), h(HeaderIcon, {\n    iconTitle: \"\\u4FDD\\u5B58\\u4E3A\\u8349\\u7A3F\\u5E76\\u5173\\u95ED\",\n    icon: \"close\",\n    onClick: actions.editorClose\n  })));\n\n  const Title = () => h(\"input\", {\n    class: \"editor-title mdui-text-color-theme-text\",\n    placeholder: \"\\u8BF7\\u8F93\\u5165\\u6807\\u9898\",\n    value: window.localStorage.getItem(`${state.auto_save_key}-title`),\n    oninput: event => {\n      window.localStorage.setItem(`${state.auto_save_key}-title`, event.target.value);\n    }\n  });\n\n  const Topics = () => h(\"div\", {\n    class: \"editor-topics\"\n  }, state.editor_selected_topics.length ? h(\"div\", {\n    class: \"chip-wrapper\"\n  }, state.editor_selected_topics.map((topic, selectedIndex) => h(TopicChip, {\n    topic: topic,\n    onRemove: () => {\n      actions.topicSelectorRemoveOne(selectedIndex);\n    }\n  }))) : null, !state.editor_selected_topics.length ? h(\"span\", {\n    class: \"placeholder\",\n    title: \"\\u70B9\\u51FB\\u6DFB\\u52A0\\u8BDD\\u9898\",\n    onclick: actions.topicSelectorOpen\n  }, \"\\u8BF7\\u81F3\\u5C11\\u9009\\u62E9 1 \\u4E2A\\u8BDD\\u9898\") : null, h(\"button\", {\n    class: \"add mdui-btn mdui-btn-icon mdui-btn-dense mdui-ripple\",\n    title: \"\\u70B9\\u51FB\\u6DFB\\u52A0\\u8BDD\\u9898\",\n    onclick: actions.topicSelectorOpen\n  }, h(\"i\", {\n    class: \"mdui-icon material-icons mdui-text-color-theme-icon\"\n  }, \"add\")));\n\n  const SubmitButton = () => h(\"button\", {\n    class: \"submit mdui-btn mdui-btn-raised mdui-color-theme\",\n    disabled: publishing,\n    onclick: event => {\n      const $dialog = $(event.target).parents('.mc-editor');\n      const editor = $dialog.data('editor-instance');\n      onSubmit({\n        title: $dialog.find('.editor-title').val(),\n        content: editor.getHTML()\n      });\n    }\n  }, publishing ? '' : '');\n\n  return h(\"div\", {\n    class: cc(['mc-editor', {\n      'mdui-hidden': !state.editor_open,\n      maximize: state.editor_maximize,\n      minimize: state.editor_minimize,\n      'with-title': withTitle,\n      'with-topics': withTopics\n    }]),\n    id: id,\n    key: `mc-editor-${id}`,\n    oncreate: element => {\n      const $element = $(element);\n      const $toolbar = $element.find('.editor-toolbar');\n      const $content = $element.find('.editor-content');\n      const editor = new Editor($toolbar, $content, {\n        onClearDrafts: () => {\n          if (withTitle) {\n            window.localStorage.removeItem(`${state.auto_save_key}-title`);\n          }\n\n          if (withTopics) {\n            window.localStorage.removeItem(`${state.auto_save_key}-topics`);\n          }\n\n          actions.editorClose();\n        },\n        placeholder: '',\n        autoSave: !!state.auto_save_key,\n        autoSaveKey: `${state.auto_save_key}-content`,\n        imageUploadMaxSize: 0,\n        imageUploadUrl: `${window.G_API}/images`,\n        imageUploadName: 'image',\n        imageUploadResponseTransform: response => {\n          if (response.code === COMMON_IMAGE_UPLOAD_FAILED) {\n            response.message = response.extra_message;\n          }\n\n          if (response.code === 0) {\n            response.data.url = response.data.urls.release;\n          }\n\n          return response;\n        }\n      }); // \n\n      $element.data('editor-instance', editor);\n    }\n  }, h(Header, null), h(\"div\", {\n    class: \"body\"\n  }, withTitle ? h(Title, null) : null, withTopics ? h(Topics, null) : null, h(\"div\", {\n    class: \"editor-content mdui-text-color-theme-text\"\n  }), h(\"div\", {\n    class: \"editor-toolbar\"\n  }, h(SubmitButton, null))));\n});","import { h } from 'hyperapp';\nimport { Link } from 'hyperapp-router';\nimport cc from 'classcat';\nimport $ from 'mdui.jq';\nimport { timeFormat, timeFriendly } from '~/utils/time';\nimport { fullPath } from '~/utils/path';\nimport { summaryText } from '~/utils/html';\nimport './index.less';\nimport UserPopover from '~/components/user-popover/view.jsx';\n\nconst Wrapper = ({\n  item,\n  id,\n  last_visit_id,\n  path,\n  actions\n}, children) => h(Link, {\n  to: fullPath(path),\n  class: cc(['mc-list-item', {\n    'last-visit': last_visit_id === id\n  }]),\n  key: id,\n  oncreate: element => $(element).mutation(),\n  onclick: () => {\n    actions.afterItemClick(item);\n  }\n}, children);\n\nconst Avatar = ({\n  actions,\n  user,\n  tabName,\n  primaryKey,\n  id\n}) => h(UserPopover, {\n  actions: actions,\n  user: user,\n  dataName: `${tabName}_data`,\n  primaryKey: primaryKey,\n  primaryValue: id\n}, h(\"div\", {\n  class: \"avatar user-popover-trigger\",\n  style: {\n    backgroundImage: `url(\"${user.avatar.middle}\")`\n  }\n}));\n\nconst Title = ({\n  content\n}) => h(\"div\", {\n  class: \"title mdui-text-color-theme-text\",\n  oncreate: summaryText(content),\n  onupdate: summaryText(content)\n});\n\nconst Content = ({\n  snippet,\n  updateTime,\n  updateTimeDesc,\n  replys\n}) => h(\"div\", {\n  class: \"content mdui-text-color-theme-secondary\"\n}, h(\"div\", {\n  class: \"snippet\",\n  oncreate: summaryText(snippet, 100),\n  onupdate: summaryText(snippet, 100)\n}), h(\"div\", {\n  class: \"meta\"\n}, h(\"div\", {\n  class: \"update_time\",\n  title: timeFormat(updateTime)\n}, `${updateTimeDesc} ${timeFriendly(updateTime)}`), h(\"div\", {\n  class: \"replys\"\n}, replys)));\n/**\n * \n */\n\n\nexport const QuestionItem = ({\n  question,\n  last_visit_id,\n  tabName,\n  actions\n}) => h(Wrapper, {\n  item: question,\n  id: question.question_id,\n  last_visit_id: last_visit_id,\n  path: `/questions/${question.question_id}`,\n  actions: actions\n}, h(Avatar, {\n  actions: actions,\n  user: question.relationships.user,\n  tabName: tabName,\n  primaryKey: \"question_id\",\n  id: question.question_id\n}), h(Title, {\n  content: question.title\n}), h(Content, {\n  snippet: question.content_rendered,\n  updateTime: question.answer_time || question.create_time,\n  updateTimeDesc: question.answer_time ? '' : '',\n  replys: `${question.answer_count} `\n}));\n/**\n * \n */\n\nexport const ArticleItem = ({\n  article,\n  last_visit_id,\n  tabName,\n  actions\n}) => h(Wrapper, {\n  item: article,\n  id: article.article_id,\n  last_visit_id: last_visit_id,\n  path: `/articles/${article.article_id}`,\n  actions: actions\n}, h(Avatar, {\n  actions: actions,\n  user: article.relationships.user,\n  tabName: tabName,\n  primaryKey: \"article_id\",\n  id: article.article_id\n}), h(Title, {\n  content: article.title\n}), h(Content, {\n  snippet: article.content_rendered,\n  updateTime: article.create_time,\n  updateTimeDesc: \"\\u53D1\\u5E03\\u4E8E\",\n  replys: `${article.comment_count} `\n}));\nexport const AnswerItem = ({\n  answer,\n  last_visit_id,\n  tabName,\n  actions\n}) => h(Wrapper, {\n  item: answer,\n  id: answer.answer_id,\n  last_visit_id: last_visit_id,\n  path: `/questions/${answer.question_id}/answers/${answer.answer_id}`,\n  actions: actions\n}, h(Avatar, {\n  actions: actions,\n  user: answer.relationships.user,\n  tabName: tabName,\n  primaryKey: \"answer_id\",\n  id: answer.answer_id\n}), h(Title, {\n  content: answer.relationships.question.title\n}), h(Content, {\n  snippet: answer.content_rendered,\n  updateTime: answer.create_time,\n  updateTimeDesc: \"\\u53D1\\u5E03\\u4E8E\",\n  replys: `${answer.comment_count} `\n}));","import { h } from 'hyperapp';\nimport './index.less';\nimport Loading from '~/components/loading/view.jsx';\nimport Loaded from '~/components/loaded/view.jsx';\nimport Empty from '~/components/empty/view.jsx';\nimport TopicChip from '../topic-chip/view.jsx';\n\nconst Title = () => h(\"div\", {\n  class: \"mdui-dialog-title\"\n}, \"\\u8BF7\\u9009\\u62E9\\u8BDD\\u9898\", h(\"button\", {\n  class: \"mdui-btn mdui-btn-icon mdui-ripple close\",\n  \"mdui-dialog-close\": true\n}, h(\"i\", {\n  class: \"mdui-icon material-icons\"\n}, \"close\")));\n/**\n * @param state  stateAbstract  editorState  topicSelectorState\n * @param actions  actionsAbstract  editorActions  topicSelectorActions\n */\n\n\nexport default (({\n  state,\n  actions\n}) => {\n  const {\n    topics_data: data,\n    topics_pagination: pagination,\n    topics_loading: loading,\n    editor_selected_topics: selected,\n    editor_selected_topic_ids: selected_ids\n  } = state;\n  const isEmpty = !loading && !data.length && pagination;\n  const isLoading = loading;\n  const isLoaded = !loading && pagination && pagination.page === pagination.pages;\n\n  const Selected = () => selected.length ? h(\"div\", {\n    class: \"selected\",\n    key: \"selected\"\n  }, selected.map((topic, selectedIndex) => h(TopicChip, {\n    topic: topic,\n    onRemove: () => {\n      actions.topicSelectorRemoveOne(selectedIndex);\n    }\n  }))) : null;\n\n  const Item = ({\n    topic,\n    dataIndex\n  }) => h(\"label\", {\n    class: \"mdui-list-item\",\n    key: topic.topic_id\n  }, h(\"div\", {\n    class: \"mdui-list-item-avatar\"\n  }, h(\"img\", {\n    src: topic.cover.small\n  })), h(\"div\", {\n    class: \"mdui-list-item-content\"\n  }, h(\"div\", {\n    class: \"mdui-list-item-title mdui-list-item-one-line\"\n  }, topic.name), h(\"div\", {\n    class: \"mdui-list-item-text mdui-list-item-one-line\"\n  }, topic.description)), h(\"div\", {\n    class: \"mdui-checkbox\"\n  }, h(\"input\", {\n    type: \"checkbox\",\n    checked: selected_ids.indexOf(topic.topic_id) > -1,\n    onchange: event => {\n      actions.topicSelectorChange({\n        event,\n        dataIndex\n      });\n    }\n  }), h(\"i\", {\n    class: \"mdui-checkbox-icon\"\n  })));\n\n  return h(\"div\", {\n    key: \"topic-selector\",\n    class: \"mdui-dialog mc-topic-selector\"\n  }, h(Title, null), h(\"div\", {\n    class: \"mdui-dialog-content\"\n  }, h(Selected, null), h(\"div\", {\n    class: \"mdui-list\",\n    key: \"list\"\n  }, data.map((topic, dataIndex) => h(Item, {\n    topic: topic,\n    dataIndex: dataIndex\n  }))), h(Empty, {\n    show: isEmpty,\n    title: \"\\u7BA1\\u7406\\u5458\\u672A\\u53D1\\u5E03\\u4EFB\\u4F55\\u8BDD\\u9898\",\n    description: \"\\u5F85\\u7BA1\\u7406\\u5458\\u53D1\\u5E03\\u8BDD\\u9898\\u540E\\uFF0C\\u4F1A\\u663E\\u793A\\u5728\\u6B64\\u5904\"\n  }), h(Loading, {\n    show: isLoading\n  }), h(Loaded, {\n    show: isLoaded\n  })), h(\"div\", {\n    class: \"mdui-dialog-actions\"\n  }, h(\"button\", {\n    class: \"mdui-btn mdui-ripple\",\n    \"mdui-dialog-confirm\": true\n  }, \"\\u786E\\u5B9A\")));\n});","import { h } from 'hyperapp';\nimport cc from 'classcat';\nimport './index.less';\nimport Loading from '~/components/loading/view.jsx';\nimport Loaded from '~/components/loaded/view.jsx';\nimport Empty from '~/components/empty/view.jsx';\nimport Editor from '~/components/editor/view.jsx';\nimport { QuestionItem } from '~/components/list-item/view.jsx';\nimport TopicSelector from '~/components/editor/components/topic-selector/view.jsx';\nexport default ((state, actions) => ({\n  match\n}) => h(\"div\", {\n  oncreate: actions.onCreate,\n  ondestroy: actions.onDestroy,\n  key: match.url,\n  id: \"page-questions\",\n  class: \"mdui-container\"\n}, state.tabs.map(tabName => {\n  const isEmpty = !state[`${tabName}_loading`] && !state[`${tabName}_data`].length && state[`${tabName}_pagination`];\n  const isLoaded = !state[`${tabName}_loading`] && state[`${tabName}_pagination`] && state[`${tabName}_pagination`].page === state[`${tabName}_pagination`].pages;\n  const isLoading = state[`${tabName}_loading`];\n  return () => h(\"div\", {\n    id: tabName\n  }, state[`${tabName}_data`].length ? h(\"div\", {\n    class: \"item-list mdui-card mdui-card-shadow\"\n  }, state[`${tabName}_data`].map(question => h(QuestionItem, {\n    question: question,\n    last_visit_id: state.last_visit_id,\n    tabName: tabName,\n    actions: actions\n  }))) : null, tabName === 'recent' ? h(Empty, {\n    show: isEmpty,\n    title: \"\\u5C1A\\u672A\\u53D1\\u5E03\\u4EFB\\u4F55\\u95EE\\u9898\",\n    description: \"\\u6B64\\u5904\\u4F1A\\u663E\\u793A\\u6700\\u8FD1\\u66F4\\u65B0\\u7684\\u95EE\\u9898\",\n    action: () => {\n      actions.editorOpen();\n    },\n    action_text: \"\\u53D1\\u5E03\\u95EE\\u9898\"\n  }) : null, tabName === 'popular' ? h(Empty, {\n    show: isEmpty,\n    title: \"\\u6CA1\\u6709\\u8FD1\\u671F\\u70ED\\u95E8\\u95EE\\u9898\",\n    description: \"\\u6B64\\u5904\\u4F1A\\u663E\\u793A\\u8FD1\\u671F\\u6700\\u53D7\\u6B22\\u8FCE\\u7684\\u95EE\\u9898\",\n    action: () => {\n      actions.toRecent();\n    },\n    action_text: \"\\u67E5\\u770B\\u6700\\u65B0\\u95EE\\u9898\"\n  }) : null, tabName === 'following' ? h(Empty, {\n    show: isEmpty,\n    title: \"\\u5C1A\\u672A\\u5173\\u6CE8\\u4EFB\\u4F55\\u95EE\\u9898\",\n    description: \"\\u5173\\u6CE8\\u95EE\\u9898\\u540E\\uFF0C\\u76F8\\u5E94\\u95EE\\u9898\\u5C31\\u4F1A\\u663E\\u793A\\u5728\\u6B64\\u5904\",\n    action: () => {\n      actions.toPopular();\n    },\n    action_text: \"\\u67E5\\u770B\\u70ED\\u95E8\\u95EE\\u9898\"\n  }) : null, h(Loading, {\n    show: isLoading\n  }), h(Loaded, {\n    show: isLoaded\n  }));\n}), h(\"button\", {\n  class: cc(['mdui-fab', 'mdui-fab-fixed', 'mdui-fab-extended', 'mdui-ripple', 'mdui-color-theme', {\n    'mdui-hidden': state.editor_open\n  }]),\n  onclick: actions.editorOpen\n}, h(\"i\", {\n  class: \"mdui-icon material-icons\"\n}, \"add\"), h(\"span\", null, \"\\u63D0\\u95EE\\u9898\")), h(Editor, {\n  id: \"page-questions-editor\",\n  title: \"\\u65B0\\u63D0\\u95EE\",\n  withTitle: true,\n  withTopics: true,\n  onSubmit: actions.publish,\n  publishing: state.publishing,\n  state: state,\n  actions: actions\n}), h(TopicSelector, {\n  state: state,\n  actions: actions\n})));","import { h } from 'hyperapp';\nimport { Link } from 'hyperapp-router';\nimport { unescape } from 'html-escaper';\nimport { timeFormat, timeFriendly } from '~/utils/time';\nimport { fullPath } from '~/utils/path';\nimport './index.less';\nimport UserPopover from '~/components/user-popover/view.jsx';\n/**\n * @param actions\n * @param user \n * @param time \n * @param dataName state \n * @param primaryKey\n * @param primaryValue\n */\n\nexport default (({\n  actions,\n  user,\n  time,\n  dataName = null,\n  primaryKey = null,\n  primaryValue = null\n}) => h(\"div\", {\n  class: \"mc-user-line\"\n}, h(UserPopover, {\n  actions: actions,\n  user: user,\n  dataName: dataName,\n  primaryKey: primaryKey,\n  primaryValue: primaryValue\n}, h(Link, {\n  class: \"avatar user-popover-trigger\",\n  to: fullPath(`/users/${user.user_id}`),\n  style: {\n    backgroundImage: `url(\"${user.avatar.middle}\")`\n  }\n}), h(Link, {\n  class: \"username user-popover-trigger mdui-text-color-theme-text\",\n  to: fullPath(`/users/${user.user_id}`)\n}, user.username), h(\"div\", {\n  class: \"headline mdui-text-color-theme-secondary\"\n}, unescape(user.headline)), time ? h(\"div\", {\n  class: \"more\"\n}, h(\"span\", {\n  class: \"time mdui-text-color-theme-secondary\",\n  title: timeFormat(time)\n}, timeFriendly(time))) : null)));","import { h } from 'hyperapp';\nimport { Link } from 'hyperapp-router';\nimport { fullPath } from '~/utils/path';\nimport './index.less';\nexport default (({\n  topics\n}) => h(\"div\", {\n  class: \"mc-topics-bar\"\n}, topics.map(topic => h(Link, {\n  to: fullPath(`/topics/${topic.topic_id}`),\n  class: \"mdui-chip mdui-ripple\",\n  key: topic.topic_id\n}, h(\"img\", {\n  class: \"mdui-chip-icon\",\n  src: topic.cover.small\n}), h(\"span\", {\n  class: \"mdui-chip-title\"\n}, topic.name)))));","import { h } from 'hyperapp';\nimport cc from 'classcat';\nimport map from 'mdui.jq/es/functions/map';\nimport './index.less';\n/**\n * \n * @params show \n * @params title \n * @params disabled \n * @params currentOrder \n * @params orders \n * @params key  id \n * @params closeBtnClick  dialog \n */\n\nexport default (({\n  show,\n  title,\n  disabled,\n  currentOrder,\n  orders,\n  onChangeOrder,\n  key = '',\n  closeBtnClick = false\n}) => h(\"div\", {\n  class: cc(['mc-list-header', {\n    'mdui-hidden': !show\n  }])\n}, h(\"div\", {\n  class: \"title\"\n}, closeBtnClick ? h(\"button\", {\n  class: \"close mdui-btn mdui-btn-icon mdui-ripple\",\n  onclick: closeBtnClick\n}, h(\"i\", {\n  class: \"mdui-icon material-icons\"\n}, \"close\")) : null, title), h(\"button\", {\n  class: \"mdui-btn mdui-btn-dense\",\n  \"mdui-menu\": `{target: '#mc-list-header-${key}', align: 'right'}`,\n  disabled: disabled\n}, map(orders, ({\n  order,\n  name\n}) => {\n  return order === currentOrder ? name : null;\n})[0], orders[currentOrder], h(\"i\", {\n  class: \"mdui-icon mdui-icon-right material-icons mdui-text-color-theme-icon\"\n}, \"arrow_drop_down\")), h(\"ul\", {\n  class: \"mdui-menu\",\n  id: `mc-list-header-${key}`\n}, orders.map(({\n  order,\n  name\n}) => h(\"li\", {\n  class: \"mdui-menu-item\",\n  onclick: () => onChangeOrder(order)\n}, h(\"a\", {\n  href: \"javascript:void(0)\"\n}, h(\"i\", {\n  class: \"mdui-menu-item-icon mdui-icon material-icons\"\n}, currentOrder === order ? \"check\" : null), name))))));","import { h } from 'hyperapp';\nimport { location } from 'hyperapp-router';\nimport { fullPath } from '~/utils/path';\nimport './index.less';\n\nconst back = path => {\n  if (window.history.state) {\n    window.history.back();\n  } else {\n    location.actions.go(fullPath(path));\n  }\n};\n\nexport default (({\n  path\n}) => h(\"div\", {\n  class: \"mc-nav\"\n}, h(\"button\", {\n  class: \"back mdui-btn mdui-color-theme mdui-ripple\",\n  onclick: () => back(path)\n}, h(\"i\", {\n  class: \"mdui-icon mdui-icon-left material-icons\"\n}, \"arrow_back\"), \"\\u8FD4\\u56DE\")));","import { h } from 'hyperapp';\nimport IconButton from '~/components/icon-button/view.jsx';\n/**\n * @param actions\n * @param item\n * @param type\n * @param commentIndex  replies \n */\n\nexport default (({\n  actions,\n  item,\n  type,\n  commentIndex = null\n}) => h(\"div\", {\n  class: \"mc-vote\"\n}, h(IconButton, {\n  icon: \"thumb_up\",\n  tooltip: item.relationships.voting === 'up' ? '' : '',\n  badge: item.vote_up_count,\n  active: item.relationships.voting === 'up',\n  onClick: () => actions.voteUp({\n    item,\n    type,\n    commentIndex\n  })\n}), h(IconButton, {\n  icon: \"thumb_down\",\n  tooltip: item.relationships.voting === 'down' ? '' : '',\n  badge: item.vote_down_count,\n  active: item.relationships.voting === 'down',\n  onClick: () => actions.voteDown({\n    item,\n    type,\n    commentIndex\n  })\n})));","import { h } from 'hyperapp';\nimport './index.less';\nimport IconButton from '~/components/icon-button/view.jsx';\nexport default (({\n  item,\n  onClick\n}) => h(IconButton, {\n  cls: \"comment\",\n  icon: \"comment\",\n  tooltip: \"\\u67E5\\u770B\\u8BC4\\u8BBA\",\n  badge: item.comment_count,\n  onClick: onClick\n}));","import { h } from 'hyperapp';\nimport $ from 'mdui.jq';\nimport { richText } from '~/utils/html';\nimport { emit } from '~/utils/pubsub';\nimport './index.less';\nimport UserLine from '~/components/user-line/view.jsx';\nimport Vote from '~/components/vote/view.jsx';\nimport OptionsButton from '~/components/options-button/view.jsx';\nimport CommentButton from '../comment-button/view.jsx';\nexport default (({\n  answer,\n  actions\n}) => h(\"div\", {\n  class: \"item\",\n  key: answer.answer_id,\n  oncreate: element => $(element).mutation()\n}, h(UserLine, {\n  actions: actions,\n  user: answer.relationships.user,\n  time: answer.create_time,\n  dataName: \"answer_data\",\n  primaryKey: \"answer_id\",\n  primaryValue: answer.answer_id\n}), h(\"div\", {\n  class: \"content mdui-typo\",\n  oncreate: richText(answer.content_rendered),\n  onupdate: richText(answer.content_rendered)\n}), h(\"div\", {\n  class: \"actions\"\n}, h(Vote, {\n  actions: actions,\n  item: answer,\n  type: \"answers\"\n}), h(CommentButton, {\n  item: answer,\n  onClick: () => {\n    emit('comments_dialog_open', {\n      commentable_type: 'answer',\n      commentable_id: answer.answer_id\n    });\n  }\n}), h(\"div\", {\n  class: \"flex-grow\"\n}), h(OptionsButton, {\n  type: \"answer\",\n  item: answer\n}))));","import { h } from 'hyperapp';\nimport cc from 'classcat';\nimport { Link } from 'hyperapp-router';\nimport { isUndefined } from 'mdui.jq/es/utils';\nimport { richText, summaryText } from '~/utils/html';\nimport { emit } from '~/utils/pubsub';\nimport { fullPath } from '~/utils/path';\nimport './index.less';\nimport Loading from '~/components/loading/view.jsx';\nimport Loaded from '~/components/loaded/view.jsx';\nimport Empty from '~/components/empty/view.jsx';\nimport UserLine from '~/components/user-line/view.jsx';\nimport Follow from '~/components/follow/view.jsx';\nimport Editor from '~/components/editor/view.jsx';\nimport OptionsButton from '~/components/options-button/view.jsx';\nimport TopicsBar from '~/components/topics-bar/view.jsx';\nimport ListHeader from '~/components/list-header/view.jsx';\nimport Nav from '~/components/nav/view.jsx';\nimport AnswerItem from './components/answer-item/view.jsx';\nimport CommentButton from './components/comment-button/view.jsx';\nexport default ((state, actions) => ({\n  match\n}) => {\n  // \n  let answer_id = 0;\n  const route = isUndefined(match.params.answer_id) ? 'question' : 'answer';\n\n  if (route === 'answer') {\n    answer_id = parseInt(match.params.answer_id, 10);\n  }\n\n  const question_id = parseInt(match.params.question_id, 10);\n  const {\n    question,\n    loading,\n    answer_data,\n    answer_pagination,\n    answer_loading\n  } = state;\n  let answer_count = 0;\n\n  if (question) {\n    answer_count = question.answer_count;\n  }\n\n  if (answer_pagination) {\n    answer_count = answer_pagination.total;\n  }\n\n  const isEmpty = !answer_loading && answer_pagination && !answer_pagination.total;\n\n  const AllAnswersLink = ({\n    count,\n    url\n  }) => h(Link, {\n    class: \"all-answers mdui-text-color-theme-text\",\n    to: fullPath(url)\n  }, \"\\u67E5\\u770B\\u5168\\u90E8 \", count, \" \\u4E2A\\u56DE\\u7B54\");\n\n  return h(\"div\", {\n    oncreate: () => actions.onCreate({\n      question_id,\n      answer_id,\n      route\n    }),\n    ondestroy: actions.onDestroy,\n    key: match.url,\n    id: \"page-question\",\n    class: \"mdui-container\"\n  }, h(Nav, {\n    path: answer_id ? `/questions/${question_id}` : '/questions'\n  }), h(\"div\", {\n    class: \"mdui-card mdui-card-shadow question\"\n  }, question ? [h(\"h1\", {\n    class: \"title\",\n    oncreate: summaryText(question.title),\n    onupdate: summaryText(question.title),\n    key: \"0\"\n  }), h(UserLine, {\n    actions: actions,\n    user: question.relationships.user,\n    time: question.create_time,\n    dataName: \"question\",\n    key: \"1\"\n  }), h(\"div\", {\n    class: \"mdui-typo content\",\n    oncreate: richText(question.content_rendered),\n    onupdate: richText(question.content_rendered),\n    key: \"2\"\n  }), question.relationships.topics.length ? h(TopicsBar, {\n    topics: question.relationships.topics,\n    key: \"3\"\n  }) : null, h(\"div\", {\n    class: \"actions\",\n    key: \"4\"\n  }, h(Follow, {\n    item: question,\n    type: \"question\",\n    actions: actions\n  }), h(CommentButton, {\n    item: question,\n    onClick: () => {\n      emit('comments_dialog_open', {\n        commentable_type: 'question',\n        commentable_id: question_id\n      });\n    }\n  }), h(\"div\", {\n    class: \"flex-grow\"\n  }), h(OptionsButton, {\n    type: \"question\",\n    item: question,\n    extraOptions: [{\n      name: ` ${question.follower_count} `,\n      onClick: () => {\n        emit('users_dialog_open', {\n          type: 'question_followers',\n          id: question_id\n        });\n      }\n    }]\n  }))] : null, h(Loading, {\n    show: loading\n  })), route === 'question' ? [h(Empty, {\n    show: isEmpty,\n    title: \"\\u5C1A\\u672A\\u6709\\u4EBA\\u56DE\\u7B54\\u8BE5\\u95EE\\u9898\",\n    key: \"0\"\n  }), h(ListHeader, {\n    show: !isEmpty,\n    title: ` ${answer_count} `,\n    disabled: answer_loading,\n    currentOrder: state.answer_order,\n    orders: [{\n      order: '-vote_count',\n      name: ''\n    }, {\n      order: 'create_time',\n      name: ''\n    }, {\n      order: '-create_time',\n      name: ''\n    }],\n    onChangeOrder: actions.changeOrder,\n    key: \"1\"\n  }), answer_data && answer_data.length ? h(\"div\", {\n    class: \"mdui-card answers\",\n    key: \"2\"\n  }, answer_data.map(answer => h(AnswerItem, {\n    answer: answer,\n    actions: actions\n  }))) : null, h(Loaded, {\n    show: !answer_loading && answer_pagination && answer_pagination.page === answer_pagination.pages,\n    key: \"3\"\n  })] : null, route === 'answer' && question ? [h(AllAnswersLink, {\n    count: question.answer_count,\n    url: `/questions/${question_id}`,\n    key: \"0\"\n  }), h(\"div\", {\n    class: \"mdui-card answers\",\n    key: \"1\"\n  }, h(AnswerItem, {\n    answer: answer_data[0],\n    actions: actions\n  })), h(AllAnswersLink, {\n    count: question.answer_count,\n    url: `/questions/${question_id}`,\n    key: \"2\"\n  })] : null, h(Loading, {\n    show: answer_loading\n  }), h(\"button\", {\n    class: cc(['mdui-fab', 'mdui-fab-fixed', 'mdui-fab-extended', 'mdui-ripple', 'mdui-color-theme', {\n      'mdui-hidden': state.editor_open\n    }]),\n    onclick: actions.editorOpen\n  }, h(\"i\", {\n    class: \"mdui-icon material-icons\"\n  }, \"add\"), h(\"span\", null, \"\\u5199\\u56DE\\u7B54\")), h(Editor, {\n    id: \"page-question-editor\",\n    title: \"\\u5199\\u56DE\\u7B54\",\n    withTitle: false,\n    withTopics: false,\n    onSubmit: actions.publishAnswer,\n    publishing: state.answer_publishing,\n    state: state,\n    actions: actions\n  }));\n});","import { h } from 'hyperapp';\nimport cc from 'classcat';\nimport './index.less';\nimport Loading from '~/components/loading/view.jsx';\nimport Loaded from '~/components/loaded/view.jsx';\nimport Empty from '~/components/empty/view.jsx';\nimport Editor from '~/components/editor/view.jsx';\nimport { ArticleItem } from '~/components/list-item/view.jsx';\nimport TopicSelector from '~/components/editor/components/topic-selector/view.jsx';\nexport default ((state, actions) => ({\n  match\n}) => h(\"div\", {\n  oncreate: actions.onCreate,\n  ondestroy: actions.onDestroy,\n  key: match.url,\n  id: \"page-articles\",\n  class: \"mdui-container\"\n}, state.tabs.map(tabName => {\n  const isEmpty = !state[`${tabName}_loading`] && !state[`${tabName}_data`].length && state[`${tabName}_pagination`];\n  const isLoaded = !state[`${tabName}_loading`] && state[`${tabName}_pagination`] && state[`${tabName}_pagination`].page === state[`${tabName}_pagination`].pages;\n  const isLoading = state[`${tabName}_loading`];\n  return () => h(\"div\", {\n    id: tabName\n  }, state[`${tabName}_data`].length ? h(\"div\", {\n    class: \"item-list mdui-card mdui-card-shadow\"\n  }, state[`${tabName}_data`].map(article => h(ArticleItem, {\n    article: article,\n    last_visit_id: state.last_visit_id,\n    tabName: tabName,\n    actions: actions\n  }))) : null, tabName === 'recent' ? h(Empty, {\n    show: isEmpty,\n    title: \"\\u5C1A\\u672A\\u53D1\\u5E03\\u4EFB\\u4F55\\u6587\\u7AE0\",\n    description: \"\\u6B64\\u5904\\u4F1A\\u663E\\u793A\\u6700\\u8FD1\\u66F4\\u65B0\\u7684\\u6587\\u7AE0\",\n    action: () => {\n      actions.editorOpen();\n    },\n    action_text: \"\\u5199\\u6587\\u7AE0\"\n  }) : null, tabName === 'popular' ? h(Empty, {\n    show: isEmpty,\n    title: \"\\u6CA1\\u6709\\u8FD1\\u671F\\u70ED\\u95E8\\u6587\\u7AE0\",\n    description: \"\\u6B64\\u5904\\u4F1A\\u663E\\u793A\\u8FD1\\u671F\\u6700\\u53D7\\u6B22\\u8FCE\\u7684\\u6587\\u7AE0\",\n    action: () => {\n      actions.toRecent();\n    },\n    action_text: \"\\u67E5\\u770B\\u6700\\u65B0\\u6587\\u7AE0\"\n  }) : null, tabName === 'following' ? h(Empty, {\n    show: isEmpty,\n    title: \"\\u5C1A\\u672A\\u5173\\u6CE8\\u4EFB\\u4F55\\u6587\\u7AE0\",\n    description: \"\\u5173\\u6CE8\\u6587\\u7AE0\\u540E\\uFF0C\\u76F8\\u5E94\\u6587\\u7AE0\\u5C31\\u4F1A\\u663E\\u793A\\u5728\\u6B64\\u5904\",\n    action: () => {\n      actions.toPopular();\n    },\n    action_text: \"\\u67E5\\u770B\\u70ED\\u95E8\\u6587\\u7AE0\"\n  }) : null, h(Loading, {\n    show: isLoading\n  }), h(Loaded, {\n    show: isLoaded\n  }));\n}), h(\"button\", {\n  class: cc(['mdui-fab', 'mdui-fab-fixed', 'mdui-fab-extended', 'mdui-ripple', 'mdui-color-theme', {\n    'mdui-hidden': state.editor_open\n  }]),\n  onclick: actions.editorOpen\n}, h(\"i\", {\n  class: \"mdui-icon material-icons\"\n}, \"add\"), h(\"span\", null, \"\\u5199\\u6587\\u7AE0\")), h(Editor, {\n  id: \"page-article-editor\",\n  title: \"\\u65B0\\u6587\\u7AE0\",\n  withTitle: true,\n  withTopics: true,\n  onSubmit: actions.publish,\n  publishing: state.publishing,\n  state: state,\n  actions: actions\n}), h(TopicSelector, {\n  state: state,\n  actions: actions\n})));","import { h } from 'hyperapp';\nimport './index.less';\nexport default (({\n  submitting,\n  onSubmit,\n  onCreate = null,\n  placeholder = '...'\n}) => h(\"div\", {\n  class: \"mdui-textfield new-comment\",\n  key: \"new-comment\",\n  oncreate: onCreate\n}, h(\"textarea\", {\n  class: \"mdui-textfield-input\",\n  placeholder: placeholder,\n  disabled: submitting\n}), h(\"button\", {\n  class: \"submit mdui-btn mdui-btn-raised mdui-color-theme\",\n  onclick: onSubmit,\n  disabled: submitting\n}, submitting ? '' : '')));","import { h } from 'hyperapp';\nimport $ from 'mdui.jq';\nimport { plainText } from '~/utils/html';\nimport './index.less';\nimport UserLine from '~/components/user-line/view.jsx';\nimport Vote from '~/components/vote/view.jsx';\nimport OptionsButton from '~/components/options-button/view.jsx';\nexport default (({\n  comment,\n  commentIndex,\n  actions\n}) => h(\"div\", {\n  class: \"item\",\n  key: comment.comment_id,\n  oncreate: element => $(element).mutation()\n}, h(UserLine, {\n  actions: actions,\n  user: comment.relationships.user,\n  time: comment.create_time,\n  dataName: `comments_data[${commentIndex}].replies_data`,\n  primaryKey: \"comment_id\",\n  primaryValue: comment.comment_id\n}), h(\"div\", {\n  class: \"content mdui-typo\",\n  oncreate: plainText(comment.content),\n  onupdate: plainText(comment.content)\n}), h(\"div\", {\n  class: \"actions\"\n}, h(Vote, {\n  actions: actions,\n  item: comment,\n  commentIndex: commentIndex,\n  type: \"replies\"\n}), h(\"div\", {\n  class: \"flex-grow\"\n}), h(OptionsButton, {\n  type: \"comment\",\n  item: comment\n}))));","import { h } from 'hyperapp';\nimport cc from 'classcat';\nimport $ from 'mdui.jq';\nimport { plainText } from '~/utils/html';\nimport './index.less';\nimport UserLine from '~/components/user-line/view.jsx';\nimport Vote from '~/components/vote/view.jsx';\nimport OptionsButton from '~/components/options-button/view.jsx';\nimport IconButton from '~/components/icon-button/view.jsx';\nimport Loading from '~/components/loading/view.jsx';\nimport NewComment from '../new-comment/view.jsx';\nimport Reply from '../reply/view.jsx';\nexport default (({\n  comment,\n  commentIndex,\n  actions\n}) => {\n  const isRepliesLoaded = !comment.replies_loading && comment.replies_pagination && comment.replies_pagination.page === comment.replies_pagination.pages;\n  const isRepliesLoading = comment.replies_loading;\n  return h(\"div\", {\n    class: \"item\",\n    key: comment.comment_id,\n    oncreate: element => $(element).mutation()\n  }, h(UserLine, {\n    actions: actions,\n    user: comment.relationships.user,\n    time: comment.create_time,\n    dataName: \"comments_data\",\n    primaryKey: \"comment_id\",\n    primaryValue: comment.comment_id\n  }), h(\"div\", {\n    class: \"content mdui-typo\",\n    oncreate: plainText(comment.content),\n    onupdate: plainText(comment.content)\n  }), h(\"div\", {\n    class: \"actions\"\n  }, h(Vote, {\n    actions: actions,\n    item: comment,\n    type: \"comments\"\n  }), h(IconButton, {\n    icon: \"reply\",\n    tooltip: \"\\u53D1\\u8868\\u56DE\\u590D\",\n    onClick: () => {\n      actions.toggleState({\n        comment_id: comment.comment_id,\n        fieldName: 'show_new_reply'\n      });\n    }\n  }), h(\"div\", {\n    class: \"flex-grow\"\n  }), h(OptionsButton, {\n    type: \"comment\",\n    item: comment\n  })), comment.show_new_reply ? h(NewComment, {\n    placeholder: \"\\u6DFB\\u52A0\\u56DE\\u590D...\",\n    submitting: comment.reply_submitting,\n    onCreate: element => {\n      setTimeout(() => $(element).find('textarea')[0].focus());\n    },\n    onSubmit: ({\n      target\n    }) => {\n      actions.submitReply({\n        target,\n        comment\n      });\n    }\n  }) : null, comment.reply_count ? h(\"div\", {\n    class: cc(['reply_count', {\n      'show-replies': comment.show_replies\n    }]),\n    onclick: () => {\n      actions.toggleState({\n        comment_id: comment.comment_id,\n        fieldName: 'show_replies'\n      });\n    }\n  }, h(\"i\", {\n    class: \"mdui-icon material-icons\"\n  }, \"arrow_drop_down\"), h(\"span\", null, comment.show_replies ? '' : '', \" \", comment.reply_count, ' ', \"\\u6761\\u56DE\\u590D\")) : null, comment.show_replies ? h(\"div\", {\n    class: \"replies\"\n  }, comment.replies_data.map(reply => h(Reply, {\n    comment: reply,\n    commentIndex: commentIndex,\n    actions: actions\n  })), h(Loading, {\n    show: comment.replies_loading\n  }), h(\"div\", {\n    class: cc(['reply_more', {\n      'mdui-hidden': isRepliesLoaded || isRepliesLoading\n    }]),\n    onclick: () => {\n      actions.loadReplies({\n        comment\n      });\n    }\n  }, h(\"i\", {\n    class: \"mdui-icon material-icons\"\n  }, \"subdirectory_arrow_right\"), h(\"span\", null, \"\\u663E\\u793A\\u66F4\\u591A\\u56DE\\u590D\"))) : null);\n});","import { h } from 'hyperapp';\nimport './index.less';\nimport Loading from '~/components/loading/view.jsx';\nimport Loaded from '~/components/loaded/view.jsx';\nimport Empty from '~/components/empty/view.jsx';\nimport ListHeader from '~/components/list-header/view.jsx';\nimport Item from './components/item/view.jsx';\nimport NewComment from './components/new-comment/view.jsx';\nexport default (({\n  commentable_type,\n  commentable_id,\n  isInDialog,\n  state,\n  actions\n}) => {\n  const {\n    order,\n    comments_data,\n    pagination,\n    loading,\n    submitting\n  } = state;\n  const isEmpty = !loading && pagination && !pagination.total;\n  let count = 0;\n\n  if (pagination) {\n    count = pagination.total;\n  }\n\n  return h(\"div\", {\n    class: \"mc-comments\"\n  }, h(ListHeader, {\n    show: true,\n    title: ` ${count} `,\n    disabled: loading || submitting,\n    currentOrder: order,\n    key: \"comments\",\n    orders: [{\n      order: 'create_time',\n      name: ''\n    }, {\n      order: '-create_time',\n      name: ''\n    }, {\n      order: '-vote_count',\n      name: ''\n    }],\n    onChangeOrder: actions.changeOrder,\n    closeBtnClick: isInDialog ? actions.closeDialog : false\n  }), h(\"div\", {\n    class: \"comments-wrapper\",\n    oncreate: () => {\n      actions.onCreate({\n        commentable_type,\n        commentable_id,\n        isInDialog\n      });\n    },\n    ondestroy: () => actions.onDestroy({\n      isInDialog\n    })\n  }, h(Empty, {\n    show: isEmpty,\n    title: \"\\u5C1A\\u672A\\u6709\\u4EBA\\u53D1\\u8868\\u8BC4\\u8BBA\"\n  }), comments_data && comments_data.length ? h(\"div\", {\n    class: \"mdui-card comments\"\n  }, comments_data.map((comment, commentIndex) => h(Item, {\n    comment: comment,\n    commentIndex: commentIndex,\n    actions: actions\n  }))) : null, h(Loading, {\n    show: loading\n  }), h(Loaded, {\n    show: !loading && pagination && pagination.page === pagination.pages\n  })), isInDialog ? h(NewComment, {\n    submitting: state.submitting,\n    onSubmit: actions.onSubmit\n  }) : null);\n});","import { h } from 'hyperapp';\nimport mdui from 'mdui';\nimport './page.less';\nimport Comments from './view.jsx';\nimport NewComment from './components/new-comment/view.jsx';\n/**\n * \n * \n * @param commentable_type\n * @param commentable_id\n */\n\nexport default (({\n  commentable_type,\n  commentable_id\n}) => (globalState, globalActions) => {\n  const state = globalState.comments;\n  const actions = globalActions.comments;\n  return h(\"div\", {\n    class: \"mc-comments-page\"\n  }, h(Comments, {\n    commentable_type: commentable_type,\n    commentable_id: commentable_id,\n    isInDialog: false,\n    state: state,\n    actions: actions\n  }), h(\"div\", {\n    class: \"new-comment-fixed\",\n    oncreate: element => {\n      // eslint-disable-next-line no-new\n      new mdui.Headroom(element, {\n        pinnedClass: 'mdui-headroom-pinned-down',\n        unpinnedClass: 'mdui-headroom-unpinned-down'\n      });\n    }\n  }, h(\"div\", {\n    class: \"mdui-container\"\n  }, h(NewComment, {\n    submitting: state.submitting,\n    onSubmit: actions.onSubmit\n  }))));\n});","import { h } from 'hyperapp';\nimport { richText, summaryText } from '~/utils/html';\nimport { emit } from '~/utils/pubsub';\nimport './index.less';\nimport Loading from '~/components/loading/view.jsx';\nimport UserLine from '~/components/user-line/view.jsx';\nimport Follow from '~/components/follow/view.jsx';\nimport Vote from '~/components/vote/view.jsx';\nimport OptionsButton from '~/components/options-button/view.jsx';\nimport TopicsBar from '~/components/topics-bar/view.jsx';\nimport Comments from '~/components/comments/page.jsx';\nimport Nav from '~/components/nav/view.jsx';\nexport default ((state, actions) => ({\n  match\n}) => {\n  const article_id = parseInt(match.params.article_id, 10);\n  const {\n    article,\n    loading\n  } = state;\n  return h(\"div\", {\n    oncreate: () => actions.onCreate({\n      article_id\n    }),\n    key: match.url,\n    id: \"page-article\",\n    class: \"mdui-container\"\n  }, h(Nav, {\n    path: \"/articles\"\n  }), h(\"div\", {\n    class: \"mdui-card mdui-card-shadow article\"\n  }, article ? [h(\"h1\", {\n    class: \"title\",\n    oncreate: summaryText(article.title),\n    onupdate: summaryText(article.title),\n    key: \"0\"\n  }), h(UserLine, {\n    actions: actions,\n    user: article.relationships.user,\n    time: article.create_time,\n    dataName: \"article\",\n    key: \"1\"\n  }), h(\"div\", {\n    class: \"mdui-typo content\",\n    oncreate: richText(article.content_rendered),\n    onupdate: richText(article.content_rendered),\n    key: \"2\"\n  }), article.relationships.topics.length ? h(TopicsBar, {\n    topics: article.relationships.topics,\n    key: \"3\"\n  }) : null, h(\"div\", {\n    class: \"actions\",\n    key: \"4\"\n  }, h(Vote, {\n    actions: actions,\n    item: article,\n    type: \"article\"\n  }), h(Follow, {\n    item: article,\n    type: \"article\",\n    actions: actions\n  }), h(\"div\", {\n    class: \"flex-grow\"\n  }), h(OptionsButton, {\n    type: \"article\",\n    item: article,\n    extraOptions: [{\n      name: ` ${article.follower_count} `,\n      onClick: () => {\n        emit('users_dialog_open', {\n          type: 'article_followers',\n          id: article_id\n        });\n      }\n    }]\n  }))] : null, h(Loading, {\n    show: loading\n  })), h(Comments, {\n    commentable_type: \"article\",\n    commentable_id: article_id\n  }));\n});","import { h } from 'hyperapp';\nimport './index.less';\nimport Loading from '~/components/loading/view.jsx';\nimport Loaded from '~/components/loaded/view.jsx';\nimport Empty from '~/components/empty/view.jsx';\nimport Item from '~/components/topic-item/view.jsx';\nexport default ((state, actions) => ({\n  match\n}) => h(\"div\", {\n  oncreate: actions.onCreate,\n  ondestroy: actions.onDestroy,\n  key: match.url,\n  id: \"page-topics\",\n  class: \"mdui-container\"\n}, state.tabs.map(tabName => {\n  const isEmpty = !state[`${tabName}_loading`] && !state[`${tabName}_data`].length && state[`${tabName}_pagination`];\n  const isLoaded = !state[`${tabName}_loading`] && state[`${tabName}_pagination`] && state[`${tabName}_pagination`].page === state[`${tabName}_pagination`].pages;\n  const isLoading = state[`${tabName}_loading`];\n  return () => h(\"div\", {\n    id: tabName\n  }, !isLoading && state.following_data.length ? h(\"div\", {\n    class: \"subheading mdui-text-color-theme-secondary\"\n  }, tabName === 'following' ? [\"\\u5DF2\\u5173\\u6CE8 \", state[`${tabName}_pagination`].total, \" \\u4E2A\\u8BDD\\u9898\"] : null, tabName === 'recommended' ? \"\\u8BDD\\u9898\\u63A8\\u8350\" : null) : null, h(\"div\", {\n    class: \"items-wrapper\"\n  }, state[`${tabName}_data`].map(topic => h(Item, {\n    topic: topic,\n    actions: actions\n  }))), tabName === 'following' ? h(Empty, {\n    show: isEmpty,\n    title: \"\\u5C1A\\u672A\\u5173\\u6CE8\\u4EFB\\u4F55\\u8BDD\\u9898\",\n    description: \"\\u5173\\u6CE8\\u8BDD\\u9898\\u540E\\uFF0C\\u76F8\\u5E94\\u8BDD\\u9898\\u5C31\\u4F1A\\u663E\\u793A\\u5728\\u6B64\\u5904\\u3002\",\n    action: () => {\n      actions.toRecommended();\n    },\n    action_text: \"\\u67E5\\u770B\\u7CBE\\u9009\\u8BDD\\u9898\"\n  }) : null, tabName === 'recommended' ? h(Empty, {\n    show: isEmpty,\n    title: \"\\u7BA1\\u7406\\u5458\\u672A\\u53D1\\u5E03\\u4EFB\\u4F55\\u8BDD\\u9898\",\n    description: \"\\u5F85\\u7BA1\\u7406\\u5458\\u53D1\\u5E03\\u8BDD\\u9898\\u540E\\uFF0C\\u4F1A\\u663E\\u793A\\u5728\\u6B64\\u5904\"\n  }) : null, h(Loading, {\n    show: isLoading\n  }), h(Loaded, {\n    show: isLoaded\n  }));\n})));","import { h } from 'hyperapp';\nimport { emit } from '~/utils/pubsub';\nimport './index.less';\nimport Loading from '~/components/loading/view.jsx';\nimport Follow from '~/components/follow/view.jsx';\nimport OptionsButton from '~/components/options-button/view.jsx';\nimport { summaryText } from '~/utils/html';\nexport default (({\n  topic,\n  loading,\n  actions\n}) => h(\"div\", {\n  class: \"mdui-card mdui-card-shadow topic\"\n}, topic ? [h(\"div\", {\n  class: \"info\",\n  key: \"0\"\n}, h(\"div\", {\n  class: \"cover\",\n  style: {\n    backgroundImage: `url(\"${topic.cover.small}\")`\n  }\n}), h(\"div\", {\n  class: \"main\"\n}, h(\"div\", {\n  class: \"name\",\n  oncreate: summaryText(topic.name),\n  onupdate: summaryText(topic.name)\n}), h(\"div\", {\n  class: \"meta mdui-text-color-theme-secondary\"\n}, h(\"span\", null, topic.question_count, \" \\u4E2A\\u63D0\\u95EE\"), h(\"span\", null, topic.article_count, \" \\u7BC7\\u6587\\u7AE0\")), h(\"div\", {\n  class: \"description mdui-text-color-theme-secondary\",\n  oncreate: summaryText(topic.description),\n  onupdate: summaryText(topic.description)\n}))), h(\"div\", {\n  class: \"actions\",\n  key: \"1\"\n}, h(Follow, {\n  item: topic,\n  type: \"topic\",\n  actions: actions\n}), h(\"div\", {\n  class: \"flex-grow\"\n}), h(OptionsButton, {\n  type: \"topic\",\n  item: topic,\n  extraOptions: [{\n    name: ` ${topic.follower_count} `,\n    onClick: () => {\n      emit('users_dialog_open', {\n        type: 'topic_followers',\n        id: topic.topic_id\n      });\n    }\n  }]\n}))] : null, h(Loading, {\n  show: loading\n})));","import { h } from 'hyperapp';\nimport cc from 'classcat';\nimport { isUndefined } from 'mdui.jq/es/utils';\nimport './index.less';\nexport default (({\n  items,\n  centered = false,\n  key = null\n}) => h(\"div\", {\n  key: key,\n  class: cc(['mc-tab', 'mdui-tab', {\n    'mdui-tab-centered': centered\n  }])\n}, items.map(item => {\n  if (!item) {\n    return null;\n  }\n\n  return h(\"a\", {\n    href: `#${item.hash}`,\n    class: \"mdui-ripple\"\n  }, item.name, !isUndefined(item.count) ? h(\"span\", null, item.count) : null);\n})));","import { h } from 'hyperapp';\nimport './index.less';\nimport ListHeader from '~/components/list-header/view.jsx';\nimport Empty from '~/components/empty/view.jsx';\nimport Loading from '~/components/loading/view.jsx';\nimport Loaded from '~/components/loaded/view.jsx';\nimport Tab from '~/components/tab/view.jsx';\nimport { QuestionItem, ArticleItem } from '~/components/list-item/view.jsx';\nexport default (({\n  state,\n  actions\n}) => h(\"div\", {\n  class: \"contexts mdui-card\"\n}, h(Tab, {\n  items: [{\n    name: '',\n    hash: 'questions',\n    count: state.topic ? state.topic.question_count : 0\n  }, {\n    name: '',\n    hash: 'articles',\n    count: state.topic ? state.topic.article_count : 0\n  }]\n}), state.tabs.map(tabName => {\n  const pagination = state[`${tabName}_pagination`];\n  const data = state[`${tabName}_data`];\n  const order = state[`${tabName}_order`];\n  const isLoading = state[`${tabName}_loading`];\n  const isEmpty = !isLoading && !data.length && pagination;\n  const isLoaded = !isLoading && pagination && pagination.page === pagination.pages;\n  return () => h(\"div\", {\n    id: tabName\n  }, tabName === 'questions' ? h(ListHeader, {\n    show: !isEmpty,\n    title: ` ${pagination ? pagination.total : 0} `,\n    disabled: isLoading,\n    currentOrder: order,\n    key: tabName,\n    orders: [{\n      order: '-update_time',\n      name: ''\n    }, {\n      order: 'update_time',\n      name: ''\n    }],\n    onChangeOrder: actions.changeOrder\n  }) : null, tabName === 'articles' ? h(ListHeader, {\n    show: !isEmpty,\n    title: ` ${pagination ? pagination.total : 0} `,\n    disabled: isLoading,\n    currentOrder: order,\n    key: tabName,\n    orders: [{\n      order: '-update_time',\n      name: ''\n    }, {\n      order: 'update_time',\n      name: ''\n    }, {\n      order: '-vote_count',\n      name: ''\n    }],\n    onChangeOrder: actions.changeOrder\n  }) : null, data.length ? h(\"div\", {\n    class: \"item-list\"\n  }, tabName === 'questions' ? data.map(context => h(QuestionItem, {\n    question: context,\n    last_visit_id: state.last_visit_question_id,\n    tabName: tabName,\n    actions: actions\n  })) : null, tabName === 'articles' ? data.map(context => h(ArticleItem, {\n    article: context,\n    last_visit_id: state.last_visit_article_id,\n    tabName: tabName,\n    actions: actions\n  })) : null) : null, h(Empty, {\n    show: isEmpty,\n    title: `${tabName === 'questions' ? '' : ''}`\n  }), h(Loading, {\n    show: isLoading\n  }), h(Loaded, {\n    show: isLoaded\n  }));\n})));","import { h } from 'hyperapp';\nimport './index.less';\nimport Nav from '~/components/nav/view.jsx';\nimport Topic from './components/topic/view.jsx';\nimport Contexts from './components/contexts/view.jsx';\nexport default ((state, actions) => ({\n  match\n}) => {\n  const topic_id = parseInt(match.params.topic_id, 10);\n  const {\n    topic,\n    loading\n  } = state;\n  return h(\"div\", {\n    oncreate: () => actions.onCreate({\n      topic_id\n    }),\n    ondestroy: actions.onDestroy,\n    key: match.url,\n    id: \"page-topic\",\n    class: \"mdui-container\"\n  }, h(Nav, {\n    path: \"/topics\"\n  }), h(Topic, {\n    topic: topic,\n    loading: loading,\n    actions: actions\n  }), h(Contexts, {\n    state: state,\n    actions: actions\n  }));\n});","import { h } from 'hyperapp';\nimport { Link } from 'hyperapp-router';\nimport { fullPath } from '~/utils/path';\nimport './index.less';\nimport Follow from '~/components/follow/view.jsx';\nimport OptionsButton from '~/components/options-button/view.jsx';\nexport default (({\n  user,\n  actions\n}) => h(\"div\", {\n  class: \"item-inner\",\n  key: user.user_id\n}, h(\"div\", {\n  class: \"item mdui-card\"\n}, h(Link, {\n  to: fullPath(`/users/${user.user_id}`),\n  class: \"mdui-ripple info\",\n  onclick: () => actions.afterItemClick(user)\n}, h(\"div\", {\n  class: \"avatar\",\n  style: {\n    backgroundImage: `url(\"${user.avatar.large}\")`\n  }\n}), h(\"div\", {\n  class: \"username mdui-text-color-theme-text\"\n}, user.username), h(\"div\", {\n  class: \"headline mdui-text-color-theme-secondary\"\n}, user.headline)), h(\"div\", {\n  class: \"actions\"\n}, !user.relationships.is_me ? h(Follow, {\n  item: user,\n  type: \"users\",\n  id: user.user_id,\n  actions: actions\n}) : null, h(\"div\", {\n  class: \"flex-grow\"\n}), h(OptionsButton, {\n  type: \"user\",\n  item: user\n})))));","import { h } from 'hyperapp';\nimport './index.less';\nimport Loading from '~/components/loading/view.jsx';\nimport Loaded from '~/components/loaded/view.jsx';\nimport Empty from '~/components/empty/view.jsx';\nimport Item from './components/item/view.jsx';\nexport default ((state, actions) => ({\n  match\n}) => h(\"div\", {\n  oncreate: actions.onCreate,\n  ondestroy: actions.onDestroy,\n  key: match.url,\n  id: \"page-users\",\n  class: \"mdui-container\"\n}, state.tabs.map(tabName => {\n  const isEmpty = !state[`${tabName}_loading`] && !state[`${tabName}_data`].length && state[`${tabName}_pagination`];\n  const isLoaded = !state[`${tabName}_loading`] && state[`${tabName}_pagination`] && state[`${tabName}_pagination`].page === state[`${tabName}_pagination`].pages;\n  const isLoading = state[`${tabName}_loading`];\n  return () => h(\"div\", {\n    id: tabName\n  }, !isLoading && state[`${tabName}_data`].length ? h(\"div\", {\n    class: \"subheading mdui-text-color-theme-secondary\"\n  }, tabName === 'followees' ? [\"\\u5DF2\\u5173\\u6CE8 \", state[`${tabName}_pagination`].total, \" \\u4EBA\"] : null, tabName === 'followers' ? [\"\\u5173\\u6CE8\\u8005 \", state[`${tabName}_pagination`].total, \" \\u4EBA\"] : null, tabName === 'recommended' ? \"\\u4EBA\\u5458\\u63A8\\u8350\" : null) : null, h(\"div\", {\n    class: \"items-wrapper\"\n  }, state[`${tabName}_data`].map(user => h(Item, {\n    user: user,\n    actions: actions\n  }))), tabName === 'followees' ? h(Empty, {\n    show: isEmpty,\n    title: \"\\u5C1A\\u672A\\u5173\\u6CE8\\u4EFB\\u4F55\\u7528\\u6237\",\n    description: \"\\u5173\\u6CE8\\u7528\\u6237\\u540E\\uFF0C\\u76F8\\u5E94\\u7528\\u6237\\u5C31\\u4F1A\\u663E\\u793A\\u5728\\u6B64\\u5904\\u3002\",\n    action: () => {\n      actions.toRecommended();\n    },\n    action_text: \"\\u67E5\\u770B\\u63A8\\u8350\\u7528\\u6237\"\n  }) : null, tabName === 'followers' ? h(Empty, {\n    show: isEmpty,\n    title: \"\\u4F60\\u8FD8\\u6CA1\\u6709\\u5173\\u6CE8\\u8005\",\n    description: \"\\u7528\\u6237\\u5173\\u6CE8\\u4E86\\u4F60\\u540E\\uFF0C\\u76F8\\u5E94\\u7528\\u6237\\u5C31\\u4F1A\\u663E\\u793A\\u5728\\u6B64\\u5904\\u3002\"\n  }) : null, tabName === 'recommended' ? h(Empty, {\n    show: isEmpty,\n    title: \"\\u5DF2\\u5173\\u6CE8\\u6240\\u6709\\u7528\\u6237\",\n    description: \"\\u4F60\\u672A\\u5173\\u6CE8\\u7684\\u7528\\u6237\\u4F1A\\u663E\\u793A\\u518D\\u6B64\\u5904\\u3002\"\n  }) : null, h(Loading, {\n    show: isLoading\n  }), h(Loaded, {\n    show: isLoaded\n  }));\n})));","import $ from 'mdui.jq';\n/**\n *  loading \n */\n\nexport function loadStart() {\n  if ($('.mc-loading-overlay').length) {\n    return;\n  }\n\n  $('<div class=\"mc-loading-overlay\"><div class=\"mdui-spinner mdui-spinner-colorful\"></div></div>').appendTo(document.body).reflow().addClass('mc-loading-overlay-show');\n  setTimeout(() => {\n    $('.mc-loading-overlay').mutation();\n  }, 0);\n  $.lockScreen();\n}\n/**\n *  loading \n */\n\nexport function loadEnd() {\n  const $overlay = $('.mc-loading-overlay');\n\n  if (!$overlay.length) {\n    return;\n  }\n\n  $overlay.removeClass('mc-loading-overlay-show').transitionEnd(() => {\n    $overlay.remove();\n    $.unlockScreen();\n  });\n}","import { h } from 'hyperapp';\nimport mdui from 'mdui';\nimport $ from 'mdui.jq';\nimport { COMMON_IMAGE_UPLOAD_FAILED } from 'mdclub-sdk-js/es/errors';\nimport { uploadMyAvatar } from 'mdclub-sdk-js/es/UserApi';\nimport { loadStart, loadEnd } from '~/utils/loading';\nimport { emit } from '~/utils/pubsub';\nimport apiCatch from '~/utils/errorHandler';\nimport './index.less';\n\nconst upload = (e, user) => {\n  const file = e.target.files[0];\n\n  if (file.size > 5 * 1024 * 1024) {\n    mdui.snackbar(' 5M');\n    e.target.value = '';\n    return;\n  }\n\n  if (['image/png', 'image/jpeg'].indexOf(file.type) < 0) {\n    mdui.snackbar(' pngjpg ');\n    e.target.value = '';\n    return;\n  }\n\n  loadStart();\n  uploadMyAvatar({\n    avatar: file\n  }).finally(loadEnd).then(({\n    data\n  }) => {\n    user.avatar = data;\n    emit('user_update', user);\n  }).catch(response => {\n    if (response.code === COMMON_IMAGE_UPLOAD_FAILED) {\n      mdui.snackbar(response.extra_message);\n      return;\n    }\n\n    apiCatch(response);\n  });\n};\n\nexport default (({\n  user\n}) => h(\"div\", {\n  class: \"mc-avatar-upload\"\n}, h(\"button\", {\n  onclick: e => {\n    $(e.currentTarget).next().val('').trigger('click');\n  },\n  class: \"upload-btn mdui-btn mdui-btn-icon mdui-ripple\",\n  type: \"button\",\n  title: \"\\u70B9\\u51FB\\u4E0A\\u4F20\\u5934\\u50CF\"\n}, h(\"i\", {\n  class: \"mdui-icon material-icons\"\n}, \"photo_camera\")), h(\"input\", {\n  onchange: e => upload(e, user),\n  type: \"file\",\n  title: \" \",\n  accept: \"image/jpeg,image/png\"\n})));","import { h } from 'hyperapp';\nimport $ from 'mdui.jq';\nimport mdui from 'mdui';\nimport { COMMON_IMAGE_UPLOAD_FAILED } from 'mdclub-sdk-js/es/errors';\nimport { uploadMyCover } from 'mdclub-sdk-js/es/UserApi';\nimport { loadStart, loadEnd } from '~/utils/loading';\nimport { emit } from '~/utils/pubsub';\nimport apiCatch from '~/utils/errorHandler';\nimport './index.less';\n\nconst upload = (e, user) => {\n  const file = e.target.files[0];\n\n  if (file.size > 5 * 1024 * 1024) {\n    mdui.snackbar(' 5M');\n    e.target.value = '';\n    return;\n  }\n\n  if (['image/png', 'image/jpeg'].indexOf(file.type) < 0) {\n    mdui.snackbar(' pngjpg ');\n    e.target.value = '';\n    return;\n  }\n\n  loadStart();\n  uploadMyCover({\n    cover: file\n  }).finally(loadEnd).then(({\n    data\n  }) => {\n    user.cover = data;\n    emit('user_update', user);\n  }).catch(response => {\n    if (response.code === COMMON_IMAGE_UPLOAD_FAILED) {\n      mdui.snackbar(response.extra_message);\n      return;\n    }\n\n    apiCatch(response);\n  });\n};\n\nexport default (({\n  user\n}) => h(\"div\", {\n  class: \"mc-cover-upload\"\n}, h(\"button\", {\n  onclick: e => {\n    $(e.currentTarget).next().val('').trigger('click');\n  },\n  class: \"upload-btn mdui-btn mdui-btn-icon mdui-ripple\",\n  type: \"button\",\n  title: \"\\u70B9\\u51FB\\u4E0A\\u4F20\\u5C01\\u9762\"\n}, h(\"i\", {\n  className: \"mdui-icon material-icons\"\n}, \"photo_camera\")), h(\"input\", {\n  onchange: e => upload(e, user),\n  type: \"file\",\n  title: \" \",\n  accept: \"image/jpeg,image/png\"\n})));","import { h } from 'hyperapp';\nimport cc from 'classcat';\nimport $ from 'mdui.jq';\nimport { $window } from 'mdui/es/utils/dom';\nimport { emit } from '~/utils/pubsub';\nimport { summaryText, plainText } from '~/utils/html';\nimport './index.less';\nimport Loading from '~/components/loading/view.jsx';\nimport AvatarUpload from '~/components/avatar-upload/view.jsx';\nimport CoverUpload from '~/components/cover-upload/view.jsx';\nimport Follow from '~/components/follow/view.jsx';\nimport OptionsButton from '~/components/options-button/view.jsx';\n\nconst MetaItem = ({\n  icon,\n  text,\n  tooltip,\n  multiLine = false\n}) => {\n  const contentFunc = multiLine ? plainText(text) : summaryText(text);\n  return h(\"div\", {\n    class: \"meta\"\n  }, h(\"i\", {\n    class: \"mdui-icon material-icons mdui-text-color-theme-icon\",\n    \"mdui-tooltip\": `{content: '${tooltip}', delay: 300}`\n  }, icon), h(\"div\", {\n    class: cc([{\n      'mdui-typo': multiLine\n    }]),\n    oncreate: contentFunc,\n    onupdate: contentFunc\n  }));\n};\n\nexport default (({\n  state,\n  actions,\n  is_me\n}) => {\n  const {\n    interviewee\n  } = state;\n  return h(\"div\", {\n    key: \"user\",\n    class: \"user mdui-card mdui-card-shadow\"\n  }, h(Loading, {\n    show: state.loading\n  }), interviewee ? [h(\"div\", {\n    class: \"cover\",\n    style: {\n      backgroundImage: `url(\"${interviewee.cover.large}\")`\n    },\n    oncreate: element => {\n      // cover \n      setTimeout(() => {\n        $window.on('scroll', () => {\n          window.requestAnimationFrame(() => {\n            element.style['background-position-y'] = `${window.pageYOffset / 2}px`;\n          });\n        }); // \n\n        window.scrollTo(0, $(element).width() * 0.56 * 0.58);\n      });\n    },\n    key: \"0\"\n  }, is_me ? h(CoverUpload, {\n    user: interviewee\n  }) : null), h(\"div\", {\n    class: \"info\",\n    key: \"1\"\n  }, h(\"div\", {\n    class: \"avatar-box\"\n  }, is_me ? h(AvatarUpload, {\n    user: interviewee\n  }) : null, h(\"img\", {\n    src: interviewee.avatar.large,\n    class: \"avatar\"\n  })), h(\"div\", {\n    class: cc(['profile', {\n      fold: state.profile_fold\n    }])\n  }, h(\"div\", {\n    class: \"meta username mdui-text-color-theme-text\"\n  }, interviewee.username), interviewee.headline ? h(MetaItem, {\n    icon: \"credit_card\",\n    text: interviewee.headline,\n    tooltip: \"\\u4E00\\u53E5\\u8BDD\\u4ECB\\u7ECD\"\n  }) : null, interviewee.blog ? h(MetaItem, {\n    icon: \"insert_link\",\n    text: interviewee.blog,\n    tooltip: \"\\u4E2A\\u4EBA\\u4E3B\\u9875\"\n  }) : null, interviewee.company ? h(MetaItem, {\n    icon: \"location_city\",\n    text: interviewee.company,\n    tooltip: \"\\u6240\\u5C5E\\u5B66\\u6821\\u6216\\u4F01\\u4E1A\"\n  }) : null, interviewee.location ? h(MetaItem, {\n    icon: \"location_on\",\n    text: interviewee.location,\n    tooltip: \"\\u6240\\u5728\\u5730\\u533A\"\n  }) : null, interviewee.bio ? h(MetaItem, {\n    icon: \"description\",\n    text: interviewee.bio,\n    tooltip: \"\\u4E2A\\u4EBA\\u7B80\\u4ECB\",\n    multiLine: true\n  }) : null, interviewee.blog || interviewee.company || interviewee.location || interviewee.bio ? h(\"button\", {\n    class: \"fold-button mdui-btn\",\n    onclick: () => {\n      actions.setState({\n        profile_fold: !state.profile_fold\n      });\n    }\n  }, h(\"i\", {\n    class: \"mdui-icon-left mdui-icon material-icons mdui-text-color-theme-icon\"\n  }, state.profile_fold ? 'keyboard_arrow_down' : 'keyboard_arrow_up'), state.profile_fold ? '' : '', \"\\u8BE6\\u7EC6\\u8D44\\u6599\") : null)), h(\"div\", {\n    class: \"actions\",\n    key: \"2\"\n  }, !is_me ? h(Follow, {\n    item: interviewee,\n    type: \"user\",\n    id: interviewee.user_id,\n    actions: actions\n  }) : null, is_me ? h(\"button\", {\n    class: \"edit mdui-btn mdui-btn-icon mdui-btn-outlined\",\n    \"mdui-tooltip\": \"{content: '\\u7F16\\u8F91\\u4E2A\\u4EBA\\u8D44\\u6599', delay: 300}\",\n    onclick: actions.updateUserInfo\n  }, h(\"i\", {\n    class: \"mdui-icon material-icons mdui-text-color-theme-icon\"\n  }, \"edit\")) : null, h(\"div\", {\n    class: \"follow\"\n  }, h(\"button\", {\n    class: \"followers mdui-btn mdui-text-color-theme-secondary\",\n    onclick: () => {\n      emit('users_dialog_open', {\n        type: 'followers',\n        id: interviewee.user_id\n      });\n    }\n  }, interviewee.follower_count, \" \\u4EBA\\u5173\\u6CE8\"), h(\"div\", {\n    class: \"divider\"\n  }), h(\"button\", {\n    class: \"followees mdui-btn mdui-text-color-theme-secondary\",\n    onclick: () => {\n      emit('users_dialog_open', {\n        type: 'followees',\n        id: interviewee.user_id\n      });\n    }\n  }, \"\\u5173\\u6CE8\\u4E86 \", interviewee.followee_count, \" \\u4EBA\")), h(\"div\", {\n    class: \"flex-grow\"\n  }), h(OptionsButton, {\n    type: \"user\",\n    item: interviewee,\n    extraOptions: is_me ? [{\n      name: '',\n      onClick: actions.deleteAvatar\n    }, {\n      name: '',\n      onClick: actions.deleteCover\n    }] : null\n  }))] : null);\n});","import { h } from 'hyperapp';\nimport mdui from 'mdui';\nimport $ from 'mdui.jq';\nimport { unescape } from 'html-escaper';\nimport './index.less';\n\nconst Title = () => h(\"div\", {\n  class: \"mdui-dialog-title\"\n}, h(\"button\", {\n  class: \"mdui-btn mdui-btn-icon mdui-ripple close\",\n  \"mdui-dialog-close\": true\n}, h(\"i\", {\n  class: \"mdui-icon material-icons\"\n}, \"close\")), \"\\u7F16\\u8F91\\u4E2A\\u4EBA\\u4FE1\\u606F\");\n\nconst Textfield = ({\n  label,\n  maxlength,\n  name,\n  value,\n  type\n}) => h(\"div\", {\n  class: \"mdui-textfield mdui-textfield-floating-label\",\n  onupdate: element => mdui.updateTextFields(element)\n}, h(\"label\", {\n  class: \"mdui-textfield-label\"\n}, label), type === 'text' ? h(\"input\", {\n  class: \"mdui-textfield-input\",\n  name: name,\n  type: \"text\",\n  maxlength: maxlength,\n  value: unescape(value)\n}) : null, type === 'textfield' ? h(\"textarea\", {\n  class: \"mdui-textfield-input\",\n  name: name,\n  maxlength: maxlength,\n  value: unescape(value)\n}) : null);\n\nconst Content = ({\n  user\n}) => h(\"form\", {\n  class: \"mdui-dialog-content\"\n}, h(Textfield, {\n  label: \"\\u4E00\\u53E5\\u8BDD\\u4ECB\\u7ECD\",\n  maxlength: 40,\n  name: \"headline\",\n  value: user.headline,\n  type: \"text\"\n}), h(Textfield, {\n  label: \"\\u4E2A\\u4EBA\\u4E3B\\u9875\",\n  maxlength: 80,\n  name: \"blog\",\n  value: user.blog,\n  type: \"text\"\n}), h(Textfield, {\n  label: \"\\u6240\\u5C5E\\u5B66\\u6821\\u6216\\u4F01\\u4E1A\",\n  maxlength: 80,\n  name: \"company\",\n  value: user.company,\n  type: \"text\"\n}), h(Textfield, {\n  label: \"\\u6240\\u5728\\u5730\\u533A\",\n  maxlength: 80,\n  name: \"location\",\n  value: user.location,\n  type: \"text\"\n}), h(Textfield, {\n  label: \"\\u4E2A\\u4EBA\\u7B80\\u4ECB\",\n  maxlength: 160,\n  name: \"bio\",\n  value: user.bio,\n  type: \"textfield\"\n}));\n\nconst Actions = ({\n  edit_info_submitting\n}) => h(\"div\", {\n  class: \"mdui-dialog-actions\"\n}, h(\"button\", {\n  class: \"mdui-btn\",\n  \"mdui-dialog-close\": true\n}, \"\\u53D6\\u6D88\"), h(\"button\", {\n  class: \"mdui-btn\",\n  \"mdui-dialog-confirm\": true,\n  disabled: edit_info_submitting\n}, edit_info_submitting ? '' : ''));\n\nexport default (({\n  user,\n  edit_info_submitting\n}) => h(\"div\", {\n  class: \"mdui-dialog edit-info\",\n  oncreate: element => $(element).mutation()\n}, h(Title, null), h(Content, {\n  user: user\n}), h(Actions, {\n  edit_info_submitting: edit_info_submitting\n})));","import { h } from 'hyperapp';\nimport './index.less';\nimport ListHeader from '~/components/list-header/view.jsx';\nimport Empty from '~/components/empty/view.jsx';\nimport Loading from '~/components/loading/view.jsx';\nimport Loaded from '~/components/loaded/view.jsx';\nimport Tab from '~/components/tab/view.jsx';\nimport { QuestionItem, ArticleItem, AnswerItem } from '~/components/list-item/view.jsx';\nexport default (({\n  state,\n  actions\n}) => h(\"div\", {\n  class: \"contexts mdui-card\"\n}, h(Tab, {\n  items: [{\n    name: '',\n    hash: 'questions',\n    count: state.interviewee ? state.interviewee.question_count : 0\n  }, {\n    name: '',\n    hash: 'answers',\n    count: state.interviewee ? state.interviewee.answer_count : 0\n  }, {\n    name: '',\n    hash: 'articles',\n    count: state.interviewee ? state.interviewee.article_count : 0\n  }]\n}), state.tabs.map(tabName => {\n  const pagination = state[`${tabName}_pagination`];\n  const data = state[`${tabName}_data`];\n  const order = state[`${tabName}_order`];\n  const isLoading = state[`${tabName}_loading`];\n  const isEmpty = !isLoading && !data.length && pagination;\n  const isLoaded = !isLoading && pagination && pagination.page === pagination.pages;\n  return () => h(\"div\", {\n    id: tabName\n  }, tabName === 'questions' ? h(ListHeader, {\n    show: !isEmpty,\n    title: ` ${pagination ? pagination.total : 0} `,\n    disabled: isLoading,\n    currentOrder: order,\n    key: tabName,\n    orders: [{\n      order: '-update_time',\n      name: ''\n    }, {\n      order: 'update_time',\n      name: ''\n    }],\n    onChangeOrder: actions.changeOrder\n  }) : null, tabName === 'articles' ? h(ListHeader, {\n    show: !isEmpty,\n    title: ` ${pagination ? pagination.total : 0} `,\n    disabled: isLoading,\n    currentOrder: order,\n    key: tabName,\n    orders: [{\n      order: '-create_time',\n      name: ''\n    }, {\n      order: 'create_time',\n      name: ''\n    }, {\n      order: '-vote_count',\n      name: ''\n    }],\n    onChangeOrder: actions.changeOrder\n  }) : null, tabName === 'answers' ? h(ListHeader, {\n    show: !isEmpty,\n    title: ` ${pagination ? pagination.total : 0} `,\n    disabled: isLoading,\n    currentOrder: order,\n    key: tabName,\n    orders: [{\n      order: '-create_time',\n      name: ''\n    }, {\n      order: 'create_time',\n      name: ''\n    }, {\n      order: '-vote_count',\n      name: ''\n    }],\n    onChangeOrder: actions.changeOrder\n  }) : null, data.length ? h(\"div\", {\n    class: \"item-list\"\n  }, tabName === 'questions' ? data.map(context => h(QuestionItem, {\n    question: context,\n    last_visit_id: state.last_visit_question_id,\n    tabName: tabName,\n    actions: actions\n  })) : null, tabName === 'articles' ? data.map(context => h(ArticleItem, {\n    article: context,\n    last_visit_id: state.last_visit_article_id,\n    tabName: tabName,\n    actions: actions\n  })) : null, tabName === 'answers' ? data.map(context => h(AnswerItem, {\n    answer: context,\n    last_visit_id: state.last_visit_question_id,\n    tabName: tabName,\n    actions: actions\n  })) : null) : null, h(Empty, {\n    show: isEmpty,\n    title: `${// eslint-disable-next-line no-nested-ternary\n    tabName === 'questions' ? '' : tabName === 'articles' ? '' : ''}`\n  }), h(Loading, {\n    show: isLoading\n  }), h(Loaded, {\n    show: isLoaded\n  }));\n})));","import { h } from 'hyperapp';\nimport './index.less';\nimport User from './components/user/view.jsx';\nimport EditInfo from './components/edit-info/view.jsx';\nimport Contexts from './components/contexts/view.jsx';\nexport default ((state, actions) => ({\n  match\n}) => {\n  // ID\n  const interviewee_id = parseInt(match.params.user_id, 10); // \n\n  const is_me = state.user && interviewee_id === state.user.user_id;\n  return h(\"div\", {\n    oncreate: () => actions.onCreate({\n      interviewee_id\n    }),\n    ondestroy: actions.onDestroy,\n    key: match.url,\n    id: \"page-user\",\n    class: \"mdui-container\"\n  }, h(User, {\n    state: state,\n    actions: actions,\n    is_me: is_me\n  }), h(Contexts, {\n    state: state,\n    actions: actions\n  }), state.user ? h(EditInfo, {\n    user: state.user,\n    edit_info_submitting: state.edit_info_submitting\n  }) : null);\n});","import { h } from 'hyperapp';\nimport { Link } from 'hyperapp-router';\nimport { fullPath } from '~/utils/path';\nimport './index.less';\nimport { plainText, richText, summaryText } from '~/utils/html';\nimport Loading from '~/components/loading/view.jsx';\nexport default (({\n  notification,\n  actions\n}) => {\n  // eslint-disable-next-line no-empty-pattern\n  const Title = ({}, children) => h(\"div\", {\n    class: \"title mdui-text-color-theme-text\"\n  }, children);\n\n  const Content = ({\n    content\n  }) => {\n    if (!notification.is_show_detail) {\n      return h(\"div\", {\n        class: \"content\",\n        key: \"summary\",\n        oncreate: summaryText(content, 46),\n        onupdate: summaryText(content, 46)\n      });\n    }\n\n    if (notification.is_loaded_detail) {\n      const contentFunc = ['comment_deleted', 'question_commented', 'article_commented', 'answer_commented', 'comment_replies'].indexOf(notification.type) > -1 ? plainText(notification.content_detail) : richText(notification.content_detail);\n      return h(\"div\", {\n        class: \"content mdui-typo\",\n        key: \"richtext\",\n        oncreate: contentFunc,\n        onupdate: contentFunc\n      });\n    }\n\n    return h(\"div\", {\n      class: \"content\",\n      key: \"loading\"\n    }, h(Loading, {\n      show: true\n    }));\n  };\n\n  const More = () => h(\"div\", {\n    class: \"mdui-btn mdui-btn-icon more\",\n    title: notification.is_show_detail ? '' : '',\n    onclick: () => actions.toggleDetail(notification)\n  }, h(\"i\", {\n    class: \"mdui-icon material-icons\"\n  }, notification.is_show_detail ? 'arrow_drop_up' : 'arrow_drop_down'));\n\n  const Delete = () => h(\"div\", {\n    class: \"mdui-btn mdui-btn-icon delete\",\n    title: \"\\u5220\\u9664\\u8BE5\\u901A\\u77E5\",\n    onclick: () => actions.deleteOne(notification)\n  }, h(\"i\", {\n    class: \"mdui-icon material-icons\"\n  }, \"close\")); // eslint-disable-next-line no-empty-pattern\n\n\n  const Item = ({}, children) => h(\"div\", {\n    class: \"item\"\n  }, h(Delete, null), children, h(More, null)); // eslint-disable-next-line no-empty-pattern\n\n\n  const ReplyWrapper = ({}, children) => h(Item, null, children, h(Content, {\n    content: notification.relationships.reply.content_summary\n  })); // eslint-disable-next-line no-empty-pattern\n\n\n  const CommentDeletedWrapper = ({}, children) => h(Item, null, children, h(Content, {\n    content: notification.content_deleted.content\n  }));\n\n  const UserLink = () => h(Link, {\n    to: fullPath(`/users/${notification.sender_id}`),\n    class: \"user\"\n  }, notification.relationships.sender.username);\n\n  const QuestionLink = () => h(Link, {\n    to: fullPath(`/questions/${notification.question_id}`),\n    class: \"question\"\n  }, notification.relationships.question ? notification.relationships.question.title : notification.content_deleted.title);\n\n  const ArticleLink = () => h(Link, {\n    to: fullPath(`/articles/${notification.article_id}`),\n    class: \"article\"\n  }, notification.relationships.article ? notification.relationships.article.title : notification.content_deleted.title);\n\n  switch (notification.type) {\n    case 'question_answered':\n      return h(Item, null, h(Title, null, h(UserLink, null), \" \\u56DE\\u7B54\\u4E86\\u4F60\\u7684\\u63D0\\u95EE \", h(QuestionLink, null)), h(Content, {\n        content: notification.relationships.answer.content_summary\n      }));\n\n    case 'question_commented':\n      return h(Item, null, h(Title, null, h(UserLink, null), \" \\u8BC4\\u8BBA\\u4E86\\u4F60\\u7684\\u63D0\\u95EE \", h(QuestionLink, null)), h(Content, {\n        content: notification.relationships.comment.content_summary\n      }));\n\n    case 'question_deleted':\n      return h(Item, null, h(Title, null, \"\\u4F60\\u7684\\u63D0\\u95EE\", ' ', h(\"span\", {\n        class: \"question deleted\"\n      }, notification.content_deleted.title), ' ', \"\\u5DF2\\u88AB\\u5220\\u9664\"), h(Content, {\n        content: notification.content_deleted.content_rendered\n      }));\n\n    case 'article_commented':\n      return h(Item, null, h(Title, null, h(UserLink, null), \" \\u8BC4\\u8BBA\\u4E86\\u4F60\\u7684\\u6587\\u7AE0 \", h(ArticleLink, null)), h(Content, {\n        content: notification.relationships.comment.content_summary\n      }));\n\n    case 'article_deleted':\n      return h(Item, null, h(Title, null, \"\\u4F60\\u7684\\u6587\\u7AE0\", ' ', h(\"span\", {\n        class: \"article deleted\"\n      }, notification.content_deleted.title), ' ', \"\\u5DF2\\u88AB\\u5220\\u9664\"), h(Content, {\n        content: notification.content_deleted.content_rendered\n      }));\n\n    case 'answer_commented':\n      return h(Item, null, h(Title, null, h(UserLink, null), \" \\u8BC4\\u8BBA\\u4E86\\u4F60\\u5728\\u63D0\\u95EE \", h(QuestionLink, null), \" \\u4E2D\\u7684\\u56DE\\u7B54\"), h(Content, {\n        content: notification.relationships.comment.content_summary\n      }));\n\n    case 'answer_deleted':\n      return h(Item, null, h(Title, null, \"\\u4F60\\u5728\\u63D0\\u95EE \", h(QuestionLink, null), \" \\u4E2D\\u7684\\u56DE\\u7B54\\u5DF2\\u88AB\\u5220\\u9664\"), h(Content, {\n        content: notification.content_deleted.content_rendered\n      }));\n\n    case 'comment_replied':\n      if (notification.answer_id && notification.question_id) {\n        return h(ReplyWrapper, null, h(Title, null, h(UserLink, null), \" \\u56DE\\u590D\\u4E86\\u4F60\\u5728\\u63D0\\u95EE \", h(QuestionLink, null), \" \\u7684\\u56DE\\u7B54\\u4E2D\\u7684\\u8BC4\\u8BBA\"));\n      }\n\n      if (notification.question_id) {\n        return h(ReplyWrapper, null, h(Title, null, h(UserLink, null), \" \\u56DE\\u590D\\u4E86\\u4F60\\u5728\\u63D0\\u95EE \", h(QuestionLink, null), \" \\u4E2D\\u7684\\u8BC4\\u8BBA\"));\n      }\n\n      if (notification.article_id) {\n        return h(ReplyWrapper, null, h(Title, null, h(UserLink, null), \" \\u56DE\\u590D\\u4E86\\u4F60\\u5728\\u6587\\u7AE0 \", h(ArticleLink, null), \" \\u4E2D\\u7684\\u8BC4\\u8BBA\"));\n      }\n\n      return null;\n\n    case 'comment_deleted':\n      if (notification.answer_id && notification.question_id) {\n        return h(CommentDeletedWrapper, null, h(Title, null, \"\\u4F60\\u5728\\u63D0\\u95EE \", h(QuestionLink, null), \" \\u7684\\u56DE\\u7B54\\u4E2D\\u7684\\u8BC4\\u8BBA\\u5DF2\\u88AB\\u5220\\u9664\"));\n      }\n\n      if (notification.question_id) {\n        return h(CommentDeletedWrapper, null, h(Title, null, \"\\u4F60\\u5728\\u63D0\\u95EE \", h(QuestionLink, null), \" \\u4E2D\\u7684\\u8BC4\\u8BBA\\u5DF2\\u88AB\\u5220\\u9664\"));\n      }\n\n      if (notification.article_id) {\n        return h(CommentDeletedWrapper, null, h(Title, null, \"\\u4F60\\u5728\\u6587\\u7AE0 \", h(ArticleLink, null), \" \\u4E2D\\u7684\\u8BC4\\u8BBA\\u5DF2\\u88AB\\u5220\\u9664\"));\n      }\n\n      return null;\n\n    default:\n      return null;\n  }\n});","import { h } from 'hyperapp';\nimport currentUser from '~/utils/currentUser';\nimport { emit } from '~/utils/pubsub';\nimport './index.less';\nimport Loading from '~/components/loading/view.jsx';\nimport Loaded from '~/components/loaded/view.jsx';\nimport Empty from '~/components/empty/view.jsx';\nimport Item from './components/item/view.jsx';\nexport default ((state, actions) => ({\n  match\n}) => {\n  const isEmpty = !state.loading && !state.data.length && state.pagination;\n  const isLoaded = !state.loading && state.pagination && state.pagination.page === state.pagination.pages;\n  const isLoading = state.loading;\n  return h(\"div\", {\n    oncreate: actions.onCreate,\n    ondestroy: actions.onDestroy,\n    key: match.url,\n    id: \"page-notifications\",\n    class: \"mdui-container\"\n  }, currentUser() ? [h(Empty, {\n    show: isEmpty,\n    title: \"\\u6CA1\\u6709\\u4F60\\u7684\\u901A\\u77E5\",\n    description: \"\\u6B64\\u5904\\u4F1A\\u663E\\u793A\\u4F60\\u6240\\u6709\\u7684\\u5DF2\\u8BFB\\u548C\\u672A\\u8BFB\\u901A\\u77E5\",\n    key: \"0\"\n  }), state.data.length ? h(\"div\", {\n    class: \"item-list mdui-card mdui-card-shadow\",\n    key: \"1\"\n  }, state.data.map(notification => h(Item, {\n    notification: notification,\n    actions: actions\n  }))) : null, !currentUser() ? h(Empty, {\n    show: true,\n    title: \"\\u767B\\u9646\\u540E\\u624D\\u80FD\\u67E5\\u770B\\u901A\\u77E5\",\n    description: \"\\u767B\\u9646\\u540E\\uFF0C\\u4F60\\u7684\\u901A\\u77E5\\u6D88\\u606F\\u5C06\\u4F1A\\u663E\\u793A\\u5728\\u6B64\\u5904\",\n    action: () => {\n      emit('login_open');\n    },\n    action_text: \"\\u767B\\u5F55\",\n    key: \"2\"\n  }) : null, h(Loading, {\n    show: isLoading,\n    key: \"3\"\n  }), h(Loaded, {\n    show: isLoaded,\n    key: \"4\"\n  })] : null);\n});","import { h } from 'hyperapp';\nimport { location } from 'hyperapp-router';\nimport mdui from 'mdui';\nimport { fullPath } from '~/utils/path';\nimport { removeCookie } from '~/utils/cookie';\nimport './index.less';\nimport AvatarUpload from '~/components/avatar-upload/view.jsx';\nlet menu;\n\nconst Button = ({\n  user\n}) => h(\"div\", {\n  class: \"user mdui-btn mdui-btn-icon mdui-btn-dense\",\n  title: `${user.username}\\n(${user.email})`,\n  oncreate: element => {\n    menu = new mdui.Menu(element, '#appbar-avatar-popover', {\n      covered: false\n    });\n  }\n}, h(\"img\", {\n  src: user.avatar.middle,\n  width: \"32\",\n  height: \"32\"\n}));\n\nconst PopoverBottomButton = ({\n  onClick,\n  text\n}) => h(\"button\", {\n  onclick: onClick,\n  class: \"mdui-btn mdui-btn-dense mdui-btn-outlined mdui-color-theme mdui-ripple\"\n}, text);\n\nconst Popover = ({\n  user\n}) => h(\"div\", {\n  class: \"popover mdui-menu\",\n  id: \"appbar-avatar-popover\"\n}, h(\"div\", {\n  class: \"info\"\n}, h(\"div\", {\n  class: \"avatar-box\"\n}, h(AvatarUpload, {\n  user: user\n}), h(\"img\", {\n  src: user.avatar.large,\n  width: \"96\",\n  height: \"96\"\n})), h(\"div\", {\n  class: \"username\"\n}, user.username), h(\"div\", {\n  class: \"email mdui-text-color-theme-secondary\"\n}, user.email), h(\"button\", {\n  class: \"personal mdui-btn mdui-btn-dense mdui-btn-outlined mdui-color-theme mdui-ripple\",\n  onclick: () => {\n    const url = fullPath(`/users/${user.user_id}`);\n    location.actions.go(url);\n    menu.close();\n  }\n}, \"\\u4E2A\\u4EBA\\u8D44\\u6599\")), h(\"div\", {\n  class: \"bottom\"\n}, user.user_id === 1 ? h(PopoverBottomButton, {\n  onClick: () => {\n    window.location.href = fullPath('/admin');\n    menu.close();\n  },\n  text: \"\\u7BA1\\u7406\\u540E\\u53F0\"\n}) : null, h(\"div\", {\n  class: \"mdui-toolbar-spacer\"\n}), h(PopoverBottomButton, {\n  onClick: () => {\n    removeCookie('token');\n    window.localStorage.removeItem('token');\n    window.location.reload();\n  },\n  text: \"\\u9000\\u51FA\"\n})));\n\nexport default (({\n  user\n}) => h(\"div\", {\n  class: \"avatar\"\n}, h(Button, {\n  user: user\n}), h(Popover, {\n  user: user\n})));","import { h } from 'hyperapp';\nimport { Link } from 'hyperapp-router';\nimport { fullPath } from '~/utils/path';\nimport './index.less';\nexport default (({\n  count\n}) => h(Link, {\n  to: fullPath('/notifications'),\n  class: \"notification mdui-btn mdui-btn-icon\",\n  title: `${count ? `${count} ` : ''}`\n}, count ? h(\"span\", {\n  class: \"count\"\n}) : null, h(\"i\", {\n  class: \"mdui-icon material-icons mdui-text-color-theme-icon\"\n}, \"notifications\")));","import { h } from 'hyperapp';\nimport $ from 'mdui.jq';\nimport './index.less';\nlet $searchbar;\nlet $input;\n\nconst onCreate = element => {\n  $searchbar = $(element);\n  $input = $searchbar.find('input');\n};\n\nconst onFocus = () => {\n  $searchbar.addClass('focus');\n};\n\nconst onBlur = () => {\n  $searchbar.removeClass('focus');\n};\n\nconst onInput = e => {\n  if (e.target.value) {\n    $searchbar.addClass('not-empty');\n  } else {\n    $searchbar.removeClass('not-empty');\n  }\n};\n\nconst clearInput = () => {\n  $input.val('').trigger('input');\n};\n\nconst onBack = e => {\n  $(e.target).parents('.toolbar').removeClass('mobile');\n};\n\nconst getFormAction = keyword => {\n  const query = `site:${window.location.host}%20${keyword}`;\n\n  if (window.G_OPTIONS.search_type === 'third') {\n    switch (window.G_OPTIONS.search_third) {\n      case 'google':\n        return `https://www.google.com/search?q=${query}`;\n\n      case 'bing':\n        return `https://www.bing.com/search?q=${query}`;\n\n      case 'baidu':\n        return `https://www.baidu.com/s?ws=${query}`;\n\n      case 'sogou':\n        return `https://www.sogou.com/web?query=${query}`;\n\n      case '360':\n        return `https://www.so.com/s?q=${query}`;\n\n      default:\n        return '';\n    }\n  }\n\n  return '';\n};\n\nconst onSubmit = e => {\n  e.preventDefault();\n  const value = $input.val();\n\n  if (!value) {\n    return;\n  }\n\n  const ua = window.navigator.userAgent;\n\n  if (ua.indexOf('iPad') > -1 || ua.indexOf('Ipod') > -1 || ua.indexOf('iPhone') > -1) {\n    window.location.href = getFormAction(value);\n  } else {\n    window.open(getFormAction(value), '_blank');\n  }\n};\n\nexport default (() => h(\"form\", {\n  method: \"get\",\n  class: \"search-bar\",\n  oncreate: element => onCreate(element),\n  onsubmit: onSubmit\n}, h(\"button\", {\n  type: \"button\",\n  class: \"back mdui-btn mdui-btn-icon\",\n  onclick: onBack\n}, h(\"i\", {\n  class: \"mdui-icon material-icons mdui-text-color-theme-icon\"\n}, \"arrow_back\")), h(\"button\", {\n  type: \"submit\",\n  class: \"submit mdui-btn mdui-btn-icon\"\n}, h(\"i\", {\n  class: \"mdui-icon material-icons mdui-text-color-theme-icon\"\n}, \"search\")), h(\"input\", {\n  type: \"text\",\n  placeholder: \"\\u641C\\u7D22\\u6587\\u7AE0\\u4E0E\\u95EE\\u7B54\",\n  onfocus: onFocus,\n  onblur: onBlur,\n  oninput: onInput\n}), h(\"button\", {\n  type: \"button\",\n  class: \"cancel mdui-btn mdui-btn-icon\",\n  onclick: clearInput\n}, h(\"i\", {\n  class: \"mdui-icon material-icons mdui-text-color-theme-icon\"\n}, \"close\"))));","import { h } from 'hyperapp';\nimport $ from 'mdui.jq';\nimport './index.less';\n\nconst onClick = e => {\n  const $toolbar = $(e.target).parents('.toolbar');\n  $toolbar.addClass('mobile');\n  $toolbar.find('.search-bar input')[0].focus();\n};\n\nexport default (() => h(\"div\", {\n  class: \"search-icon mdui-btn mdui-btn-icon\",\n  onclick: onClick\n}, h(\"i\", {\n  class: \"mdui-icon material-icons mdui-text-color-theme-icon\"\n}, \"search\")));","import { h } from 'hyperapp';\nimport $ from 'mdui.jq';\nimport mdui from 'mdui';\nimport { Link } from 'hyperapp-router';\nimport { fullPath, isPathArticle, isPathArticles, isPathInbox, isPathIndex, isPathNotifications, isPathQuestion, isPathQuestions, isPathTopic, isPathTopics, isPathUser, isPathUsers } from '~/utils/path';\nimport { emit } from '~/utils/pubsub';\nimport './index.less';\nimport Avatar from './components/avatar/view.jsx';\nimport Notification from './components/notification/view.jsx';\nimport SearchBar from './components/search-bar/view.jsx';\nimport SearchIcon from './components/search-icon/view.jsx';\n\nconst Title = ({\n  interviewee\n}) => h(\"div\", {\n  class: \"title\"\n}, isPathIndex() ? \"\\u9996\\u9875\" : isPathQuestions() || isPathQuestion() ? \"\\u95EE\\u7B54\" : isPathArticles() || isPathArticle() ? \"\\u6587\\u7AE0\" : isPathTopics() || isPathTopic() ? \"\\u8BDD\\u9898\" : isPathUsers() ? \"\\u4EBA\\u8109\" : isPathUser() && interviewee ? interviewee.username : isPathInbox() ? \"\\u79C1\\u4FE1\" : isPathNotifications() ? \"\\u901A\\u77E5\" : null);\n\nconst LoginBtn = () => h(\"div\", {\n  class: \"login mdui-btn mdui-btn-dense\",\n  onclick: () => emit('login_open')\n}, \"\\u767B\\u5F55\");\n\nconst RegisterBtn = () => h(\"div\", {\n  class: \"register mdui-btn mdui-btn-dense\",\n  onclick: () => emit('register_open')\n}, \"\\u6CE8\\u518C\");\n\nexport default (({\n  user,\n  interviewee,\n  notifications\n}) => h(\"div\", {\n  class: \"toolbar mdui-toolbar\"\n}, h(\"button\", {\n  class: \"drawer mdui-btn mdui-btn-icon mdui-ripple\",\n  oncreate: element => {\n    const $drawer = $('.mc-drawer');\n    const drawer = new mdui.Drawer($drawer, {\n      swipe: true\n    });\n    $drawer.data('drawerInstance', drawer);\n    $(element).on('click', () => drawer.toggle());\n  }\n}, h(\"i\", {\n  class: \"mdui-icon material-icons\"\n}, \"menu\")), h(Link, {\n  class: \"headline\",\n  to: fullPath('/')\n}, window.G_OPTIONS.site_name), h(Title, {\n  interviewee: interviewee\n}), h(SearchBar, null), h(\"div\", {\n  class: \"mdui-toolbar-spacer\"\n}), h(SearchIcon, null), user ? [h(Notification, {\n  count: notifications.count,\n  key: \"0\"\n}), h(Avatar, {\n  user: user,\n  key: \"1\"\n})] : null, !user ? [h(LoginBtn, {\n  key: \"0\"\n}), h(RegisterBtn, {\n  key: \"1\"\n})] : null));","import { h } from 'hyperapp';\nimport { isPathArticles, isPathQuestions, isPathTopics, isPathUsers } from '~/utils/path';\nimport Tab from '~/components/tab/view.jsx';\nexport default (({\n  user\n}) => isPathQuestions() ? h(Tab, {\n  key: \"questions\",\n  centered: true,\n  items: [{\n    name: '',\n    hash: 'recent'\n  }, {\n    name: '',\n    hash: 'popular'\n  }].concat(user ? {\n    name: '',\n    hash: 'following'\n  } : null)\n}) : isPathArticles() ? h(Tab, {\n  key: \"articles\",\n  centered: true,\n  items: [{\n    name: '',\n    hash: 'recent'\n  }, {\n    name: '',\n    hash: 'popular'\n  }].concat(user ? {\n    name: '',\n    hash: 'following'\n  } : null)\n}) : user && isPathTopics() ? h(Tab, {\n  key: \"topics\",\n  centered: true,\n  items: [{\n    name: '',\n    hash: 'following'\n  }, {\n    name: '',\n    hash: 'recommended'\n  }]\n}) : user && isPathUsers() ? h(Tab, {\n  key: \"users\",\n  centered: true,\n  items: [{\n    name: '',\n    hash: 'followees'\n  }, {\n    name: '',\n    hash: 'followers'\n  }, {\n    name: '',\n    hash: 'recommended'\n  }]\n}) : null);","import { h } from 'hyperapp';\nimport $ from 'mdui.jq';\nimport mdui from 'mdui';\nimport { $window } from 'mdui/es/utils/dom';\nimport { scrollToTop } from '~/utils/scroll';\nimport './index.less';\nimport Toolbar from './components/toolbar/view.jsx';\nimport Tabbar from './components/tabbar/view.jsx';\n\nconst onCreate = element => {\n  const $appbar = $(element).mutation(); // \n\n  const headroom = new mdui.Headroom($appbar, {\n    pinnedClass: 'mdui-headroom-pinned-toolbar',\n    unpinnedClass: 'mdui-headroom-unpinned-toolbar'\n  });\n\n  const updateHeadroom = () => {\n    if ($window.width() < 600) {\n      headroom.enable();\n    } else {\n      headroom.disable();\n    }\n  };\n\n  $window.on('resize', updateHeadroom);\n  updateHeadroom(); // \n\n  $appbar.on('click', e => {\n    if (!window.pageYOffset) {\n      return;\n    }\n\n    const $target = $(e.target);\n\n    if ($target.is('.mdui-toolbar') || $target.is('mdui-tab')) {\n      scrollToTop();\n    }\n  });\n};\n\nexport default (({\n  user,\n  interviewee,\n  notifications\n}) => h(\"div\", {\n  class: \"mc-appbar mdui-appbar mdui-appbar-fixed\",\n  oncreate: element => onCreate(element)\n}, h(Toolbar, {\n  user: user,\n  interviewee: interviewee,\n  notifications: notifications\n}), h(Tabbar, {\n  user: user\n})));","import { h } from 'hyperapp';\nimport cc from 'classcat';\nimport { Link } from 'hyperapp-router';\nimport { fullPath, isPathArticle, isPathArticles, isPathInbox, isPathIndex, isPathNotifications, isPathQuestion, isPathQuestions, isPathTopic, isPathTopics, isPathUser, isPathUsers } from '~/utils/path';\nimport './index.less';\nconst {\n  site_name,\n  site_icp_beian,\n  site_gongan_beian\n} = window.G_OPTIONS;\nconst site_gongan_beian_code = site_gongan_beian ? site_gongan_beian.match(/\\d+/)[0] : '';\n\nconst Item = ({\n  url,\n  icon,\n  title,\n  active\n}) => h(Link, {\n  to: fullPath(url),\n  class: cc(['mdui-list-item', 'mdui-ripple', {\n    'mdui-list-item-active': active\n  }])\n}, h(\"i\", {\n  class: \"mdui-list-item-icon mdui-icon material-icons\"\n}, icon), h(\"div\", {\n  class: \"mdui-list-item-content\"\n}, title));\n\nexport default (({\n  user,\n  interviewee\n}) => h(\"div\", {\n  class: \"mc-drawer mdui-drawer\"\n}, h(\"div\", {\n  class: \"mdui-list\"\n}, h(Item, {\n  url: \"/\",\n  icon: \"home\",\n  title: \"\\u9996\\u9875\",\n  active: isPathIndex()\n}), h(Item, {\n  url: \"/topics\",\n  icon: \"class\",\n  title: \"\\u8BDD\\u9898\",\n  active: isPathTopics() || isPathTopic()\n}), h(Item, {\n  url: \"/questions\",\n  icon: \"forum\",\n  title: \"\\u95EE\\u7B54\",\n  active: isPathQuestions() || isPathQuestion()\n}), h(Item, {\n  url: \"/articles\",\n  icon: \"description\",\n  title: \"\\u6587\\u7AE0\",\n  active: isPathArticles() || isPathArticle()\n}), h(\"div\", {\n  class: \"mdui-divider\"\n}), user ? h(Item, {\n  url: `/users/${user.user_id}`,\n  icon: \"account_circle\",\n  title: \"\\u4E2A\\u4EBA\\u8D44\\u6599\",\n  active: isPathUser() && interviewee && user.user_id === interviewee.user_id\n}) : null, h(Item, {\n  url: \"/users\",\n  icon: \"people\",\n  title: \"\\u4EBA\\u8109\",\n  active: isPathUsers() || isPathUser() && (!user || interviewee && user.user_id !== interviewee.user_id)\n}), user ? h(Item, {\n  url: \"/notifications\",\n  icon: \"notifications\",\n  title: \"\\u901A\\u77E5\",\n  active: isPathNotifications()\n}) : null), h(\"div\", {\n  class: \"copyright\"\n}, site_icp_beian ? h(\"p\", null, h(\"a\", {\n  href: \"https://beian.miit.gov.cn/\",\n  target: \"_blank\"\n}, site_icp_beian)) : null, site_gongan_beian ? h(\"p\", null, h(\"a\", {\n  href: `http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=${site_gongan_beian_code}`,\n  target: \"_blank\"\n}, site_gongan_beian)) : null, h(\"p\", null, \"\\xA9 \", new Date().getFullYear(), \" \", site_name), h(\"p\", null, \"Powered by\", ' ', h(\"a\", {\n  href: \"https://mdui.org\",\n  target: \"_blank\"\n}, \"MDUI\"), ' ', \"&\", ' ', h(\"a\", {\n  href: \"https://mdclub.org\",\n  target: \"_blank\"\n}, \"MDClub\")))));","import { h } from 'hyperapp';\nimport cc from 'classcat';\nexport default (({\n  onClick,\n  icon\n}) => h(\"button\", {\n  onclick: onClick,\n  class: cc(['mdui-btn', 'mdui-btn-icon', icon])\n}, h(\"i\", {\n  class: \"mdui-icon material-icons\"\n}, icon)));","import { h } from 'hyperapp';\nexport default (({\n  text\n}) => h(\"div\", {\n  class: \"mdui-dialog-title\"\n}, text));","import { h } from 'hyperapp';\nimport cc from 'classcat';\nexport default (({\n  value,\n  message,\n  label,\n  name,\n  error,\n  onInput\n}) => h(\"div\", {\n  class: cc(['mdui-textfield', 'mdui-textfield-floating-label', 'mdui-textfield-has-bottom', {\n    'mdui-textfield-invalid': message,\n    'mdui-textfield-not-empty': value\n  }])\n}, h(\"label\", {\n  class: \"mdui-textfield-label\"\n}, label), h(\"input\", {\n  oninput: onInput,\n  value: value,\n  class: \"mdui-textfield-input\",\n  name: name,\n  type: \"text\",\n  required: \"required\"\n}), h(\"div\", {\n  class: \"mdui-textfield-error\"\n}, error)));","import { h } from 'hyperapp';\nimport cc from 'classcat';\nexport default (({\n  value,\n  message,\n  label,\n  name,\n  onInput\n}) => h(\"div\", {\n  class: cc(['mdui-textfield', 'mdui-textfield-floating-label', 'mdui-textfield-has-bottom', {\n    'mdui-textfield-invalid': message,\n    'mdui-textfield-not-empty': value\n  }])\n}, h(\"label\", {\n  class: \"mdui-textfield-label\"\n}, label), h(\"input\", {\n  oninput: onInput,\n  value: value,\n  class: \"mdui-textfield-input\",\n  name: name,\n  type: \"password\",\n  required: \"required\"\n}), h(\"div\", {\n  class: \"mdui-textfield-error\"\n}, message || '')));","import { h } from 'hyperapp';\nimport cc from 'classcat';\nexport default (({\n  value,\n  message,\n  image,\n  hide,\n  onInput,\n  onRefresh\n}) => h(\"div\", {\n  class: cc(['mdui-textfield', 'mdui-textfield-floating-label', 'mdui-textfield-has-bottom', 'captcha-field', {\n    'mdui-textfield-invalid': message,\n    'mdui-textfield-not-empty': value,\n    'mdui-hidden': hide\n  }])\n}, h(\"label\", {\n  class: \"mdui-textfield-label\"\n}, \"\\u56FE\\u5F62\\u9A8C\\u8BC1\\u7801\"), h(\"input\", {\n  oninput: onInput,\n  value: value,\n  class: \"mdui-textfield-input\",\n  name: \"captcha_code\",\n  type: \"text\",\n  autocomplete: \"off\",\n  required: !hide\n}), h(\"div\", {\n  class: \"mdui-textfield-error\"\n}, message || ''), h(\"img\", {\n  class: \"captcha-image\",\n  src: image,\n  title: \"\\u70B9\\u51FB\\u5237\\u65B0\\u9A8C\\u8BC1\\u7801\",\n  onclick: onRefresh\n})));","import { h } from 'hyperapp';\nexport default (({\n  disabled,\n  text\n}) => h(\"button\", {\n  type: \"submit\",\n  class: \"mdui-btn mdui-btn-raised mdui-color-theme action-btn\",\n  disabled: disabled\n}, text));","import { h } from 'hyperapp';\nimport Submit from '~/common/account/components/submit.jsx';\n\nconst Button = () => h(\"button\", {\n  class: \"mdui-btn mdui-ripple more-option\",\n  type: \"button\",\n  \"mdui-menu\": \"{target: '#mc-login-menu', position: 'top', covered: true}\"\n}, \"\\u66F4\\u591A\\u9009\\u9879\", h(\"i\", {\n  class: \"mdui-icon material-icons mdui-text-color-theme-icon\"\n}, \"arrow_drop_down\"));\n\nconst Menu = ({\n  actions\n}) => h(\"ul\", {\n  class: \"mdui-menu\",\n  id: \"mc-login-menu\"\n}, h(\"li\", {\n  class: \"mdui-menu-item\"\n}, h(\"a\", {\n  onclick: actions.toReset,\n  class: \"mdui-ripple\"\n}, \"\\u5FD8\\u8BB0\\u5BC6\\u7801\")), h(\"li\", {\n  class: \"mdui-menu-item\"\n}, h(\"a\", {\n  onclick: actions.toRegister,\n  class: \"mdui-ripple\"\n}, \"\\u521B\\u5EFA\\u65B0\\u8D26\\u53F7\")));\n\nexport default (({\n  state,\n  actions\n}) => h(\"div\", {\n  class: \"actions mdui-clearfix\"\n}, h(Button, null), h(Menu, {\n  actions: actions\n}), h(Submit, {\n  disabled: state.submitting,\n  text: state.submitting ? '' : ''\n})));","import { h } from 'hyperapp';\nimport './index.less';\nimport Close from '~/common/account/components/close.jsx';\nimport Title from '~/common/account/components/title.jsx';\nimport FieldName from '~/common/account/components/field-name.jsx';\nimport FieldPassword from '~/common/account/components/field-password.jsx';\nimport FieldCaptcha from '~/common/account/components/field-captcha.jsx';\nimport Actions from './components/actions.jsx';\nexport default (({\n  state,\n  actions\n}) => h(\"div\", {\n  oncreate: element => actions.onCreate({\n    element\n  }),\n  key: \"login\",\n  class: \"mc-account mc-login mdui-dialog\"\n}, h(Close, {\n  onClick: actions.close,\n  icon: \"close\"\n}), h(Title, {\n  text: \"\\u767B\\u5F55\"\n}), h(\"form\", {\n  onsubmit: actions.login\n}, h(FieldName, {\n  value: state.name,\n  message: state.name_msg,\n  label: \"\\u7528\\u6237\\u540D\\u6216\\u90AE\\u7BB1\",\n  name: \"name\",\n  error: state.name_msg || '',\n  onInput: actions.onInput\n}), h(FieldPassword, {\n  value: state.password,\n  message: state.password_msg,\n  label: \"\\u5BC6\\u7801\",\n  name: \"password\",\n  onInput: actions.onInput\n}), h(FieldCaptcha, {\n  value: state.captcha_code,\n  message: state.captcha_code_msg,\n  image: state.captcha_image,\n  hide: !state.captcha_token,\n  onInput: actions.onInput,\n  onRefresh: actions.refreshCaptcha\n}), h(Actions, {\n  state: state,\n  actions: actions\n}))));","import { h } from 'hyperapp';\nexport default (() => h(\"i\", {\n  class: \"mdui-icon material-icons avatar\"\n}, \"account_circle\"));","import { h } from 'hyperapp';\nimport cc from 'classcat';\nexport default (({\n  value,\n  message,\n  onInput\n}) => h(\"div\", {\n  class: cc(['mdui-textfield', 'mdui-textfield-floating-label', 'mdui-textfield-has-bottom', {\n    'mdui-textfield-invalid': message,\n    'mdui-textfield-not-empty': value\n  }])\n}, h(\"label\", {\n  class: \"mdui-textfield-label\"\n}, \"\\u90AE\\u7BB1\"), h(\"input\", {\n  oninput: onInput,\n  value: value,\n  class: \"mdui-textfield-input\",\n  name: \"email\",\n  type: \"email\",\n  required: \"required\"\n}), h(\"div\", {\n  class: \"mdui-textfield-error\"\n}, message || '')));","import { h } from 'hyperapp';\nimport cc from 'classcat';\n\nconst sendText = sending => sending ? '' : '';\n\nexport default (({\n  value,\n  message,\n  sending,\n  show_resend_countdown,\n  resend_countdown,\n  onInput,\n  onSend\n}) => h(\"div\", {\n  class: cc(['mdui-textfield', 'mdui-textfield-floating-label', 'mdui-textfield-has-bottom', 'send-email-field', {\n    'mdui-textfield-invalid': message,\n    'mdui-textfield-not-empty': value\n  }])\n}, h(\"labe\", {\n  class: \"mdui-textfield-label\"\n}, \"\\u90AE\\u4EF6\\u9A8C\\u8BC1\\u7801\"), h(\"input\", {\n  oninput: onInput,\n  value: value,\n  class: \"mdui-textfield-input\",\n  name: \"email_code\",\n  type: \"text\",\n  autocomplete: \"off\",\n  required: \"required\"\n}), h(\"div\", {\n  class: \"mdui-textfield-error\"\n}, message || ''), h(\"button\", {\n  onclick: onSend,\n  class: \"mdui-btn send-email\",\n  type: \"button\",\n  disabled: sending || show_resend_countdown\n}, show_resend_countdown ? `${resend_countdown}s` : sendText(sending))));","import { h } from 'hyperapp';\nimport Submit from '~/common/account/components/submit.jsx';\n\nconst Button = ({\n  actions\n}) => h(\"div\", {\n  class: \"mdui-btn mdui-ripple more-option\",\n  onclick: actions.toLogin\n}, \"\\u5DF2\\u6709\\u8D26\\u53F7\\uFF1F\");\n\nexport default (({\n  state,\n  actions\n}) => h(\"div\", {\n  class: \"actions\"\n}, h(Button, {\n  actions: actions\n}), h(Submit, {\n  disabled: state.verifying,\n  text: state.verifying ? '' : ''\n})));","import { h } from 'hyperapp';\nimport Submit from '~/common/account/components/submit.jsx';\nexport default (({\n  state\n}) => h(\"div\", {\n  class: \"actions mdui-clearfix\"\n}, h(Submit, {\n  disabled: state.submitting,\n  text: state.submitting ? '' : ''\n})));","import { h } from 'hyperapp';\nimport cc from 'classcat';\nimport './index.less';\nimport Close from '~/common/account/components/close.jsx';\nimport Avatar from '~/common/account/components/avatar.jsx';\nimport Title from '~/common/account/components/title.jsx';\nimport FieldEmail from '~/common/account/components/field-email.jsx';\nimport FieldCaptcha from '~/common/account/components/field-captcha.jsx';\nimport FieldEmailCode from '~/common/account/components/field-email-code.jsx';\nimport FieldName from '~/common/account/components/field-name.jsx';\nimport FieldPassword from '~/common/account/components/field-password.jsx';\nimport SendActions from './components/send-actions.jsx';\nimport RegisterActions from './components/register-actions.jsx';\nexport default (({\n  state,\n  actions\n}) => h(\"div\", {\n  oncreate: element => actions.onCreate({\n    element\n  }),\n  key: \"register\",\n  class: \"mc-account mc-register mdui-dialog\"\n}, h(Close, {\n  onClick: state.email_valid ? actions.prevStep : actions.close,\n  icon: state.email_valid ? 'arrow_back' : 'close'\n}), state.email_valid ? h(Avatar, null) : null, h(Title, {\n  text: state.email_valid ? state.email : ''\n}), h(\"form\", {\n  onsubmit: actions.nextStep,\n  class: cc([{\n    'mdui-hidden': state.email_valid\n  }]),\n  key: \"send\"\n}, h(FieldEmail, {\n  value: state.email,\n  message: state.email_msg,\n  onInput: actions.onInput\n}), h(FieldCaptcha, {\n  value: state.captcha_code,\n  message: state.captcha_code_msg,\n  image: state.captcha_image,\n  hide: !state.captcha_token,\n  onInput: actions.onInput,\n  onRefresh: actions.refreshCaptcha\n}), h(FieldEmailCode, {\n  value: state.email_code,\n  message: state.email_code_msg,\n  sending: state.sending,\n  show_resend_countdown: state.show_resend_countdown,\n  resend_countdown: state.resend_countdown,\n  onInput: actions.onInput,\n  onSend: actions.sendEmail\n}), h(SendActions, {\n  state: state,\n  actions: actions\n})), h(\"form\", {\n  onsubmit: actions.register,\n  class: cc([{\n    'mdui-hidden': !state.email_valid\n  }]),\n  key: \"submit\"\n}, h(FieldName, {\n  value: state.username,\n  message: state.username_msg,\n  label: \"\\u7528\\u6237\\u540D\",\n  name: \"username\",\n  error: state.username_msg || '',\n  onInput: actions.onInput\n}), h(FieldPassword, {\n  value: state.password,\n  message: state.password_msg,\n  label: \"\\u5BC6\\u7801\",\n  name: \"password\",\n  onInput: actions.onInput\n}), h(RegisterActions, {\n  state: state\n}))));","import { h } from 'hyperapp';\nimport Submit from '~/common/account/components/submit.jsx';\n\nconst Button = () => h(\"button\", {\n  type: \"button\",\n  class: \"mdui-btn mdui-ripple more-option\",\n  \"mdui-menu\": \"{target: '#mc-password-reset-menu', position: 'top', covered: true}\"\n}, \"\\u66F4\\u591A\\u9009\\u9879\", h(\"i\", {\n  className: \"mdui-icon material-icons mdui-text-color-theme-icon\"\n}, \"arrow_drop_down\"));\n\nconst Menu = ({\n  actions\n}) => h(\"ul\", {\n  class: \"mdui-menu\",\n  id: \"mc-password-reset-menu\"\n}, h(\"li\", {\n  class: \"mdui-menu-item\"\n}, h(\"a\", {\n  onclick: actions.toLogin,\n  class: \"mdui-ripple\"\n}, \"\\u767B\\u5F55\\u8D26\\u53F7\")), h(\"li\", {\n  class: \"mdui-menu-item\"\n}, h(\"a\", {\n  onclick: actions.toRegister,\n  class: \"mdui-ripple\"\n}, \"\\u521B\\u5EFA\\u65B0\\u8D26\\u53F7\")));\n\nexport default (({\n  state,\n  actions\n}) => h(\"div\", {\n  class: \"actions\"\n}, h(Button, null), h(Menu, {\n  actions: actions\n}), h(Submit, {\n  disabled: state.verifying,\n  text: state.verifying ? '' : ''\n})));","import { h } from 'hyperapp';\nimport Submit from '~/common/account/components/submit.jsx';\nexport default (({\n  state\n}) => h(\"div\", {\n  class: \"actions mdui-clearfix\"\n}, h(Submit, {\n  disabled: state.submitting,\n  text: state.submitting ? '' : ''\n})));","import { h } from 'hyperapp';\nimport cc from 'classcat';\nimport './index.less';\nimport Close from '~/common/account/components/close.jsx';\nimport Avatar from '~/common/account/components/avatar.jsx';\nimport Title from '~/common/account/components/title.jsx';\nimport FieldEmail from '~/common/account/components/field-email.jsx';\nimport FieldEmailCode from '~/common/account/components/field-email-code.jsx';\nimport FieldCaptcha from '~/common/account/components/field-captcha.jsx';\nimport FieldPassword from '~/common/account/components/field-password.jsx';\nimport VerifyActions from './components/verify-actions.jsx';\nimport ResetActions from './components/reset-actions.jsx';\nexport default (({\n  state,\n  actions\n}) => h(\"div\", {\n  oncreate: element => actions.onCreate({\n    element\n  }),\n  key: \"reset\",\n  class: \"mc-account mc-reset mdui-dialog\"\n}, h(Close, {\n  onClick: state.email_valid ? actions.prevStep : actions.close,\n  icon: state.email_valid ? 'arrow_back' : 'close'\n}), state.email_valid ? h(Avatar, null) : null, h(Title, {\n  text: state.email_valid ? state.email : ''\n}), h(\"form\", {\n  onsubmit: actions.nextStep,\n  class: cc([{\n    'mdui-hidden': state.email_valid\n  }]),\n  key: \"verify\"\n}, h(FieldEmail, {\n  value: state.email,\n  message: state.email_msg,\n  onInput: actions.onInput\n}), h(FieldCaptcha, {\n  value: state.captcha_code,\n  message: state.captcha_code_msg,\n  image: state.captcha_image,\n  hide: !state.captcha_token,\n  onInput: actions.onInput,\n  onRefresh: actions.refreshCaptcha\n}), h(FieldEmailCode, {\n  value: state.email_code,\n  message: state.email_code_msg,\n  sending: state.sending,\n  show_resend_countdown: state.show_resend_countdown,\n  resend_countdown: state.resend_countdown,\n  onInput: actions.onInput,\n  onSend: actions.sendEmail\n}), h(VerifyActions, {\n  state: state,\n  actions: actions\n})), h(\"form\", {\n  onsubmit: actions.submit,\n  class: cc([{\n    'mdui-hidden': !state.email_valid\n  }]),\n  key: \"submit\"\n}, h(FieldPassword, {\n  value: state.password,\n  message: state.password_msg,\n  label: \"\\u65B0\\u5BC6\\u7801\",\n  name: \"password\",\n  onInput: actions.onInput\n}), h(FieldPassword, {\n  value: state.password_repeat,\n  message: state.password_repeat_msg,\n  label: \"\\u91CD\\u590D\\u65B0\\u5BC6\\u7801\",\n  name: \"password_repeat\",\n  onInput: actions.onInput\n}), h(ResetActions, {\n  state: state\n}))));","import { h } from 'hyperapp';\nimport './index.less';\nimport Loading from '~/components/loading/view.jsx';\nimport Loaded from '~/components/loaded/view.jsx';\nimport Empty from '~/components/empty/view.jsx';\nimport Follow from '~/components/follow/view.jsx';\n\nconst Title = ({\n  state\n}) => h(\"div\", {\n  class: \"mdui-dialog-title\"\n}, h(\"button\", {\n  class: \"close mdui-btn mdui-btn-icon mdui-ripple\",\n  \"mdui-dialog-close\": true\n}, h(\"i\", {\n  class: \"mdui-icon material-icons\"\n}, \"close\")), state.pagination ? state.type === 'followees' ? [\"\\u5173\\u6CE8\\u4E86 \", state.pagination.total, \" \\u4EBA\"] : [state.pagination.total, \" \\u4F4D\\u5173\\u6CE8\\u8005\"] : null);\n\nconst Item = ({\n  item,\n  actions\n}) => h(\"div\", {\n  class: \"item\"\n}, h(\"div\", {\n  class: \"mdui-list-item mdui-ripple\",\n  key: item.user_id,\n  onclick: () => actions.onItemClick(item.user_id)\n}, h(\"div\", {\n  class: \"mdui-list-item-avatar\"\n}, h(\"img\", {\n  src: item.avatar.middle\n})), h(\"div\", {\n  class: \"mdui-list-item-content\"\n}, item.username)), !item.relationships.is_me ? h(Follow, {\n  item: item,\n  type: \"users_dialog\",\n  id: item.user_id,\n  actions: actions\n}) : null);\n\nexport default (({\n  state,\n  actions\n}) => {\n  const isEmpty = !state.loading && !state.data.length && state.pagination;\n  const isLoading = state.loading;\n  const isLoaded = !state.loading && state.pagination && state.pagination.page === state.pagination.pages;\n  return h(\"div\", {\n    key: \"users-dialog\",\n    class: \"mdui-dialog mc-users-dialog\",\n    oncreate: element => actions.onCreate({\n      element\n    })\n  }, h(Title, {\n    state: state\n  }), h(\"div\", {\n    class: \"mdui-dialog-content\"\n  }, h(\"div\", {\n    class: \"mdui-list\"\n  }, state.data.map(item => h(Item, {\n    item: item,\n    actions: actions\n  }))), h(Empty, {\n    show: isEmpty,\n    title: state.type === 'followees' ? '' : ''\n  }), h(Loading, {\n    show: isLoading\n  }), h(Loaded, {\n    show: isLoaded\n  })));\n});","import { h } from 'hyperapp';\nimport cc from 'classcat';\nimport './index.less';\nexport default (({\n  state,\n  actions\n}) => {\n  const Item = ({\n    reason\n  }) => h(\"label\", {\n    class: \"mdui-list-item\"\n  }, h(\"div\", {\n    class: \"mdui-radio\"\n  }, h(\"input\", {\n    type: \"radio\",\n    name: \"reason\",\n    value: reason,\n    checked: reason === state.reason,\n    onchange: event => actions.onChange(event)\n  }), h(\"i\", {\n    class: \"mdui-radio-icon\"\n  })), h(\"div\", {\n    class: \"mdui-list-item-content\"\n  }, reason));\n\n  return h(\"div\", {\n    oncreate: element => actions.onCreate({\n      element\n    }),\n    key: \"report-dialog\",\n    class: \"mc-report-dialog mdui-dialog\"\n  }, h(\"div\", {\n    class: \"mdui-dialog-title\"\n  }, h(\"span\", null, \"\\u4E3E\\u62A5\"), h(\"button\", {\n    class: \"mdui-btn mdui-btn-icon mdui-ripple\",\n    onclick: actions.close\n  }, h(\"i\", {\n    class: \"mdui-icon material-icons mdui-text-color-theme-icon\"\n  }, \"close\"))), h(\"form\", {\n    class: \"mdui-dialog-content\",\n    method: \"post\"\n  }, h(\"div\", {\n    class: \"mdui-list\"\n  }, h(Item, {\n    reason: \"\\u5783\\u573E\\u5E7F\\u544A\\u4FE1\\u606F\"\n  }), h(Item, {\n    reason: \"\\u4E0D\\u53CB\\u5584\\u884C\\u4E3A\"\n  }), h(Item, {\n    reason: \"\\u6709\\u5BB3\\u4FE1\\u606F\"\n  }), h(Item, {\n    reason: \"\\u6D89\\u5ACC\\u4FB5\\u6743\"\n  }), h(Item, {\n    reason: \"\\u8BF1\\u5BFC\\u8D5E\\u540C\\u3001\\u5173\\u6CE8\\u7B49\\u884C\\u4E3A\"\n  }), h(Item, {\n    reason: \"\\u5176\\u4ED6\\u539F\\u56E0\"\n  }), h(\"div\", {\n    class: cc(['mdui-textfield', {\n      'mdui-hidden': state.reason !== ''\n    }])\n  }, h(\"textarea\", {\n    class: \"custom-reason mdui-textfield-input\",\n    placeholder: \"\\u8BF7\\u8F93\\u5165\\u539F\\u56E0\"\n  })))), h(\"div\", {\n    class: \"mdui-dialog-actions\"\n  }, h(\"button\", {\n    class: \"mdui-btn mdui-ripple\",\n    \"mdui-dialog-cancel\": true\n  }, \"\\u53D6\\u6D88\"), h(\"button\", {\n    class: \"mdui-btn mdui-ripple\",\n    \"mdui-dialog-confirm\": true\n  }, \"\\u4E3E\\u62A5\")));\n});","import { h } from 'hyperapp';\nimport './index.less';\nimport WeiboSvg from '~/svg/weibo.svg';\nimport FacebookSvg from '~/svg/facebook.svg';\nimport TwitterSvg from '~/svg/twitter.svg';\n\nconst Item = ({\n  name,\n  svg,\n  onClick\n}) => h(\"div\", {\n  class: \"mdui-list-item mdui-ripple\",\n  onclick: onClick\n}, h(\"img\", {\n  src: `${window.G_ROOT}/static/theme/material/${svg}`\n}), h(\"div\", {\n  class: \"mdui-list-item-content\"\n}, name));\n\nexport default (({\n  actions\n}) => h(\"div\", {\n  oncreate: element => actions.onCreate({\n    element\n  }),\n  key: \"share-dialog\",\n  class: \"mc-share-dialog mdui-dialog\"\n}, h(\"div\", {\n  class: \"mdui-dialog-title\"\n}, h(\"span\", null, \"\\u5206\\u4EAB\"), h(\"button\", {\n  class: \"mdui-btn mdui-btn-icon mdui-ripple\",\n  onclick: actions.close\n}, h(\"i\", {\n  class: \"mdui-icon material-icons mdui-text-color-theme-icon\"\n}, \"close\"))), h(\"div\", {\n  class: \"mdui-dialog-content\"\n}, h(\"div\", {\n  class: \"mdui-list\"\n}, h(Item, {\n  name: \"\\u5FAE\\u535A\",\n  svg: WeiboSvg,\n  onClick: actions.shareToWeibo\n}), h(Item, {\n  name: \"Facebook\",\n  svg: FacebookSvg,\n  onClick: actions.shareToFacebook\n}), h(Item, {\n  name: \"Twitter\",\n  svg: TwitterSvg,\n  onClick: actions.shareToTwitter\n})))));","export default \"./4a718302573d384b438fc47f8a3c5031.svg\";","export default \"./4fb701ba006326e351298a120baa1284.svg\";","export default \"./0a3424f1a2cc42d9637f8ab1f9d55733.svg\";","import { h } from 'hyperapp';\nimport cc from 'classcat';\nimport './dialog.less';\nimport Comments from './view.jsx';\n/**\n * \n */\n\nexport default (({\n  state,\n  actions\n}) => h(\"div\", {\n  class: cc(['mc-comments-dialog', 'mdui-dialog', {\n    'mdui-dialog-open': state.open_dialog\n  }])\n}, h(Comments, {\n  commentable_type: \"\",\n  commentable_id: 0,\n  isInDialog: true,\n  state: state,\n  actions: actions\n})));","import { h } from 'hyperapp';\nimport cc from 'classcat';\nimport { Route } from 'hyperapp-router';\nimport { $body } from 'mdui/es/utils/dom';\nimport { isUndefined } from 'mdui.jq/es/utils';\nimport { getCount } from 'mdclub-sdk-js/es/NotificationApi';\nimport { fullPath, isPathArticles, isPathQuestions, isPathTopics, isPathUsers } from '~/utils/path';\nimport { emit } from '~/utils/pubsub';\nimport Index from '~/pages/index/view.jsx';\nimport Questions from '~/pages/questions/view.jsx';\nimport QuestionAndAnswer from '~/pages/question/view.jsx';\nimport Articles from '~/pages/articles/view.jsx';\nimport Article from '../pages/article/view.jsx';\nimport Topics from '~/pages/topics/view.jsx';\nimport Topic from '../pages/topic/view.jsx';\nimport Users from '~/pages/users/view.jsx';\nimport User from '~/pages/user/view.jsx';\nimport Notifications from '~/pages/notifications/view.jsx'; // import Inbox from '../pages/inbox/view';\n\nimport Appbar from '~/components/appbar/view.jsx';\nimport Drawer from '~/components/drawer/view.jsx';\nimport Login from '~/components/login/view.jsx';\nimport Register from '~/components/register/view.jsx';\nimport Reset from '~/components/reset/view.jsx';\nimport UsersDialog from '~/components/users-dialog/view.jsx';\nimport ReportDialog from '~/components/report-dialog/view.jsx';\nimport ShareDialog from '~/components/share-dialog/view.jsx';\nimport CommentsDialog from '~/components/comments/dialog.jsx';\n\nconst onCreate = user => {\n  // \n  const layoutMedia = window.matchMedia('(prefers-color-scheme: dark)');\n\n  const changeLayout = e => emit('layout_update', e.matches ? 'dark' : 'light');\n\n  emit('layout_update', layoutMedia.matches ? 'dark' : 'light'); // IE  matchMedia  addEventListener \n\n  if (!isUndefined(layoutMedia.addEventListener)) {\n    layoutMedia.addEventListener('change', changeLayout);\n  } else if (!isUndefined(layoutMedia.addListener)) {\n    // safari  addEventListener addListener\n    layoutMedia.addListener(changeLayout);\n  } //  30 \n\n\n  const loadNotificationCount = () => {\n    getCount().then(({\n      data: {\n        notification_count\n      }\n    }) => {\n      emit('notification_count_update', notification_count);\n    });\n  };\n\n  if (user) {\n    setInterval(loadNotificationCount, 30000);\n    loadNotificationCount();\n  }\n};\n\nexport default ((globalState, globalActions) => {\n  const classList = ['mdui-appbar-with-toolbar', 'mg-app']; //  tab \n\n  if (isPathQuestions() || isPathArticles() || isPathTopics() && globalState.user.user || isPathUsers() && globalState.user.user) {\n    classList.push('mdui-appbar-with-tab');\n  } // \n\n\n  $body[globalState.theme.layout === 'dark' ? 'addClass' : 'removeClass']('mdui-theme-layout-dark');\n  return h(\"div\", {\n    class: cc(classList),\n    oncreate: () => {\n      onCreate(globalState.user.user);\n    }\n  }, h(Appbar, {\n    user: globalState.user.user,\n    interviewee: globalState.user.interviewee,\n    notifications: globalState.notifications\n  }), h(Drawer, {\n    user: globalState.user.user,\n    interviewee: globalState.user.interviewee\n  }), h(Route, {\n    path: fullPath('/'),\n    render: Index(globalState.index, globalActions.index)\n  }), h(Route, {\n    path: fullPath('/questions'),\n    render: Questions(globalState.questions, globalActions.questions)\n  }), h(Route, {\n    path: fullPath('/questions/:question_id'),\n    render: QuestionAndAnswer(globalState.question, globalActions.question)\n  }), h(Route, {\n    path: fullPath('/questions/:question_id/answers/:answer_id'),\n    render: QuestionAndAnswer(globalState.answer, globalActions.answer)\n  }), h(Route, {\n    path: fullPath('/articles'),\n    render: Articles(globalState.articles, globalActions.articles)\n  }), h(Route, {\n    path: fullPath('/articles/:article_id'),\n    render: Article(globalState.article, globalActions.article)\n  }), h(Route, {\n    path: fullPath('/topics'),\n    render: Topics(globalState.topics, globalActions.topics)\n  }), h(Route, {\n    path: fullPath('/topics/:topic_id'),\n    render: Topic(globalState.topic, globalActions.topic)\n  }), h(Route, {\n    path: fullPath('/users'),\n    render: Users(globalState.users, globalActions.users)\n  }), h(Route, {\n    path: fullPath('/users/:user_id'),\n    render: User(globalState.user, globalActions.user)\n  }), h(Route, {\n    path: fullPath('/notifications'),\n    render: Notifications(globalState.notifications, globalActions.notifications)\n  }), !globalState.user.user ? [h(Login, {\n    state: globalState.login,\n    actions: globalActions.login,\n    key: \"0\"\n  }), h(Register, {\n    state: globalState.register,\n    actions: globalActions.register,\n    key: \"1\"\n  }), h(Reset, {\n    state: globalState.reset,\n    actions: globalActions.reset,\n    key: \"2\"\n  })] : null, h(UsersDialog, {\n    state: globalState.usersDialog,\n    actions: globalActions.usersDialog\n  }), h(ReportDialog, {\n    state: globalState.reportDialog,\n    actions: globalActions.reportDialog\n  }), h(ShareDialog, {\n    state: globalState.shareDialog,\n    actions: globalActions.shareDialog\n  }), h(CommentsDialog, {\n    state: globalState.comments,\n    actions: globalActions.comments\n  }));\n});","import $ from 'mdui.jq';\nimport { subscribe } from '~/utils/pubsub';\n/**\n * \n * \n * @param app\n */\n\nfunction listener(app) {\n  // \n  subscribe('user_update', user => {\n    app.user.setState({\n      user\n    });\n  }); // \n\n  subscribe('layout_update', layout => {\n    app.theme.setLayout(layout);\n  }); // \n\n  subscribe('route_update', () => {\n    // \n    window.scrollTo(0, 0); //  tooltip \n\n    $('.mdui-tooltip').remove(); // \n\n    if (window.innerWidth < 1024) {\n      const drawerInstance = $('.mc-drawer').data('drawerInstance');\n\n      if (drawerInstance) {\n        drawerInstance.close();\n      }\n    }\n\n    app.login.close();\n    app.register.close();\n    app.reset.close();\n    app.usersDialog.close();\n    app.comments.closeDialog();\n    app.reportDialog.close();\n    app.shareDialog.close();\n  }); // \n\n  subscribe('login_open', () => {\n    app.login.open();\n  }); // \n\n  subscribe('register_open', () => {\n    app.register.open();\n  }); // \n\n  subscribe('reset_open', () => {\n    app.reset.open();\n  }); // \n\n  subscribe('users_dialog_open', props => {\n    app.usersDialog.open(props);\n  });\n  /**\n   * \n   */\n\n  subscribe('share_dialog_open', props => {\n    app.shareDialog.open(props);\n  });\n  /**\n   * \n   */\n\n  subscribe('report_dialog_open', props => {\n    app.reportDialog.open(props);\n  }); // \n\n  subscribe('users_follow_updated', () => {\n    app.users.followUpdate();\n  }); // \n\n  subscribe('topics_follow_updated', () => {\n    app.topics.followUpdate();\n  }); // \n\n  subscribe('questions_follow_updated', () => {\n    app.questions.followUpdate();\n  }); // \n\n  subscribe('articles_follow_updated', () => {\n    app.articles.followUpdate();\n  }); // \n\n  subscribe('question_updated', question => {\n    app.questions.questionUpdate(question);\n  }); // \n\n  subscribe('notification_count_update', count => {\n    app.notifications.updateCount(count);\n  }); // \n\n  subscribe('comments_dialog_open', props => {\n    app.comments.openDialog(props);\n  });\n}\n\nexport default listener;","import '~/initializer/polyfill';\nimport { app } from 'hyperapp';\nimport { location } from 'hyperapp-router';\nimport $ from 'mdui.jq';\nimport { emit } from '~/utils/pubsub';\nimport '~/initializer/index';\nimport actions from '~/initializer/actions';\nimport state from '~/initializer/state';\nimport view from '~/initializer/view.jsx';\nimport listener from '~/initializer/listener'; // import { withLogger } from '@hyperapp/logger';\n\n$(() => {\n  document.body.innerHTML = ''; // window.app = withLogger(app)(state, actions, view, document.body);\n\n  window.app = app(state, actions, view, document.body);\n  listener(window.app);\n  location.subscribe(window.app.location); // \n\n  const user = window.G_USER;\n\n  if (user) {\n    emit('user_update', user);\n    window.G_USER = null;\n  }\n});"],"sourceRoot":""}